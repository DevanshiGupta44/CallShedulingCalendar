(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function pE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zd={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function rw(){if(N_)return El;N_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:u}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var O_;function aw(){return O_||(O_=1,zd.exports=rw()),zd.exports}var lt=aw(),jd={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function ow(){if(P_)return Vt;P_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Y={};function F(V,Z,at){this.props=V,this.context=Z,this.refs=Y,this.updater=at||M}F.prototype.isReactComponent={},F.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function et(){}et.prototype=F.prototype;function nt(V,Z,at){this.props=V,this.context=Z,this.refs=Y,this.updater=at||M}var Q=nt.prototype=new et;Q.constructor=nt,U(Q,F.prototype),Q.isPureReactComponent=!0;var ht=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function x(V,Z,at,it,yt,Mt){return at=Mt.ref,{$$typeof:n,type:V,key:Z,ref:at!==void 0?at:null,props:Mt}}function w(V,Z){return x(V.type,Z,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function I(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(at){return Z[at]})}var O=/\/+/g;function P(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):Z.toString(36)}function R(){}function wt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function bt(V,Z,at,it,yt){var Mt=typeof V;(Mt==="undefined"||Mt==="boolean")&&(V=null);var Rt=!1;if(V===null)Rt=!0;else switch(Mt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(V.$$typeof){case n:case t:Rt=!0;break;case v:return Rt=V._init,bt(Rt(V._payload),Z,at,it,yt)}}if(Rt)return yt=yt(V),Rt=it===""?"."+P(V,0):it,ht(yt)?(at="",Rt!=null&&(at=Rt.replace(O,"$&/")+"/"),bt(yt,Z,at,"",function(Zn){return Zn})):yt!=null&&(D(yt)&&(yt=w(yt,at+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(O,"$&/")+"/")+Rt)),Z.push(yt)),1;Rt=0;var Ne=it===""?".":it+":";if(ht(V))for(var ee=0;ee<V.length;ee++)it=V[ee],Mt=Ne+P(it,ee),Rt+=bt(it,Z,at,Mt,yt);else if(ee=S(V),typeof ee=="function")for(V=ee.call(V),ee=0;!(it=V.next()).done;)it=it.value,Mt=Ne+P(it,ee++),Rt+=bt(it,Z,at,Mt,yt);else if(Mt==="object"){if(typeof V.then=="function")return bt(wt(V),Z,at,it,yt);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function H(V,Z,at){if(V==null)return V;var it=[],yt=0;return bt(V,it,"","",function(Mt){return Z.call(at,Mt,yt++)}),it}function $(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(at){(V._status===0||V._status===-1)&&(V._status=1,V._result=at)},function(at){(V._status===0||V._status===-1)&&(V._status=2,V._result=at)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var rt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function _t(){}return Vt.Children={map:H,forEach:function(V,Z,at){H(V,function(){Z.apply(this,arguments)},at)},count:function(V){var Z=0;return H(V,function(){Z++}),Z},toArray:function(V){return H(V,function(Z){return Z})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Vt.Component=F,Vt.Fragment=i,Vt.Profiler=o,Vt.PureComponent=nt,Vt.StrictMode=r,Vt.Suspense=p,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return st.H.useMemoCache(V)}},Vt.cache=function(V){return function(){return V.apply(null,arguments)}},Vt.cloneElement=function(V,Z,at){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=U({},V.props),yt=V.key,Mt=void 0;if(Z!=null)for(Rt in Z.ref!==void 0&&(Mt=void 0),Z.key!==void 0&&(yt=""+Z.key),Z)!ct.call(Z,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Z.ref===void 0||(it[Rt]=Z[Rt]);var Rt=arguments.length-2;if(Rt===1)it.children=at;else if(1<Rt){for(var Ne=Array(Rt),ee=0;ee<Rt;ee++)Ne[ee]=arguments[ee+2];it.children=Ne}return x(V.type,yt,void 0,void 0,Mt,it)},Vt.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Vt.createElement=function(V,Z,at){var it,yt={},Mt=null;if(Z!=null)for(it in Z.key!==void 0&&(Mt=""+Z.key),Z)ct.call(Z,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(yt[it]=Z[it]);var Rt=arguments.length-2;if(Rt===1)yt.children=at;else if(1<Rt){for(var Ne=Array(Rt),ee=0;ee<Rt;ee++)Ne[ee]=arguments[ee+2];yt.children=Ne}if(V&&V.defaultProps)for(it in Rt=V.defaultProps,Rt)yt[it]===void 0&&(yt[it]=Rt[it]);return x(V,Mt,void 0,void 0,null,yt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(V){return{$$typeof:m,render:V}},Vt.isValidElement=D,Vt.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:$}},Vt.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},Vt.startTransition=function(V){var Z=st.T,at={};st.T=at;try{var it=V(),yt=st.S;yt!==null&&yt(at,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(_t,rt)}catch(Mt){rt(Mt)}finally{st.T=Z}},Vt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Vt.use=function(V){return st.H.use(V)},Vt.useActionState=function(V,Z,at){return st.H.useActionState(V,Z,at)},Vt.useCallback=function(V,Z){return st.H.useCallback(V,Z)},Vt.useContext=function(V){return st.H.useContext(V)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(V,Z){return st.H.useDeferredValue(V,Z)},Vt.useEffect=function(V,Z,at){var it=st.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(V,Z)},Vt.useId=function(){return st.H.useId()},Vt.useImperativeHandle=function(V,Z,at){return st.H.useImperativeHandle(V,Z,at)},Vt.useInsertionEffect=function(V,Z){return st.H.useInsertionEffect(V,Z)},Vt.useLayoutEffect=function(V,Z){return st.H.useLayoutEffect(V,Z)},Vt.useMemo=function(V,Z){return st.H.useMemo(V,Z)},Vt.useOptimistic=function(V,Z){return st.H.useOptimistic(V,Z)},Vt.useReducer=function(V,Z,at){return st.H.useReducer(V,Z,at)},Vt.useRef=function(V){return st.H.useRef(V)},Vt.useState=function(V){return st.H.useState(V)},Vt.useSyncExternalStore=function(V,Z,at){return st.H.useSyncExternalStore(V,Z,at)},Vt.useTransition=function(){return st.H.useTransition()},Vt.version="19.1.1",Vt}var L_;function lp(){return L_||(L_=1,jd.exports=ow()),jd.exports}var ut=lp();const lw=pE(ut);var qd={exports:{}},Al={},Fd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function uw(){return U_||(U_=1,function(n){function t(H,$){var rt=H.length;H.push($);t:for(;0<rt;){var _t=rt-1>>>1,V=H[_t];if(0<o(V,$))H[_t]=$,H[rt]=V,rt=_t;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var $=H[0],rt=H.pop();if(rt!==$){H[0]=rt;t:for(var _t=0,V=H.length,Z=V>>>1;_t<Z;){var at=2*(_t+1)-1,it=H[at],yt=at+1,Mt=H[yt];if(0>o(it,rt))yt<V&&0>o(Mt,it)?(H[_t]=Mt,H[yt]=rt,_t=yt):(H[_t]=it,H[at]=rt,_t=at);else if(yt<V&&0>o(Mt,rt))H[_t]=Mt,H[yt]=rt,_t=yt;else break t}}return $}function o(H,$){var rt=H.sortIndex-$.sortIndex;return rt!==0?rt:H.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,E=null,S=3,M=!1,U=!1,Y=!1,F=!1,et=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ht(H){for(var $=i(g);$!==null;){if($.callback===null)r(g);else if($.startTime<=H)r(g),$.sortIndex=$.expirationTime,t(p,$);else break;$=i(g)}}function st(H){if(Y=!1,ht(H),!U)if(i(p)!==null)U=!0,ct||(ct=!0,P());else{var $=i(g);$!==null&&bt(st,$.startTime-H)}}var ct=!1,x=-1,w=5,D=-1;function I(){return F?!0:!(n.unstable_now()-D<w)}function O(){if(F=!1,ct){var H=n.unstable_now();D=H;var $=!0;try{t:{U=!1,Y&&(Y=!1,nt(x),x=-1),M=!0;var rt=S;try{e:{for(ht(H),E=i(p);E!==null&&!(E.expirationTime>H&&I());){var _t=E.callback;if(typeof _t=="function"){E.callback=null,S=E.priorityLevel;var V=_t(E.expirationTime<=H);if(H=n.unstable_now(),typeof V=="function"){E.callback=V,ht(H),$=!0;break e}E===i(p)&&r(p),ht(H)}else r(p);E=i(p)}if(E!==null)$=!0;else{var Z=i(g);Z!==null&&bt(st,Z.startTime-H),$=!1}}break t}finally{E=null,S=rt,M=!1}$=void 0}}finally{$?P():ct=!1}}}var P;if(typeof Q=="function")P=function(){Q(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,wt=R.port2;R.port1.onmessage=O,P=function(){wt.postMessage(null)}}else P=function(){et(O,0)};function bt(H,$){x=et(function(){H(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(H){switch(S){case 1:case 2:case 3:var $=3;break;default:$=S}var rt=S;S=$;try{return H()}finally{S=rt}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var rt=S;S=H;try{return $()}finally{S=rt}},n.unstable_scheduleCallback=function(H,$,rt){var _t=n.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?_t+rt:_t):rt=_t,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=rt+V,H={id:v++,callback:$,priorityLevel:H,startTime:rt,expirationTime:V,sortIndex:-1},rt>_t?(H.sortIndex=rt,t(g,H),i(p)===null&&H===i(g)&&(Y?(nt(x),x=-1):Y=!0,bt(st,rt-_t))):(H.sortIndex=V,t(p,H),U||M||(U=!0,ct||(ct=!0,P()))),H},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(H){var $=S;return function(){var rt=S;S=$;try{return H.apply(this,arguments)}finally{S=rt}}}}(Hd)),Hd}var B_;function cw(){return B_||(B_=1,Fd.exports=uw()),Fd.exports}var Gd={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function hw(){if(k_)return We;k_=1;var n=lp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,We.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},We.flushSync=function(p){var g=h.T,v=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=v,r.d.f()}},We.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},We.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},We.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:M}):v==="script"&&r.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},We.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},We.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},We.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},We.requestFormReset=function(p){r.d.r(p)},We.unstable_batchedUpdates=function(p,g){return p(g)},We.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},We.useFormStatus=function(){return h.H.useHostTransitionStatus()},We.version="19.1.1",We}var z_;function fw(){if(z_)return Gd.exports;z_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gd.exports=hw(),Gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function dw(){if(j_)return Al;j_=1;var n=cw(),t=lp(),i=fw();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function p(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===l)return m(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var T=!1,A=f.child;A;){if(A===a){T=!0,a=f,l=d;break}if(A===l){T=!0,l=f,a=d;break}A=A.sibling}if(!T){for(A=d.child;A;){if(A===a){T=!0,a=d,l=f;break}if(A===l){T=!0,l=d,a=f;break}A=A.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case F:return"Profiler";case Y:return"StrictMode";case st:return"Suspense";case ct:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case nt:return(e._context.displayName||"Context")+".Consumer";case ht:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return s=e.displayName||null,s!==null?s:wt(e.type)||"Memo";case w:s=e._payload,e=e._init;try{return wt(e(s))}catch{}}return null}var bt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},_t=[],V=-1;function Z(e){return{current:e}}function at(e){0>V||(e.current=_t[V],_t[V]=null,V--)}function it(e,s){V++,_t[V]=e.current,e.current=s}var yt=Z(null),Mt=Z(null),Rt=Z(null),Ne=Z(null);function ee(e,s){switch(it(Rt,s),it(Mt,e),it(yt,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=o_(s),e=l_(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(yt),it(yt,e)}function Zn(){at(yt),at(Mt),at(Rt)}function ts(e){e.memoizedState!==null&&it(Ne,e);var s=yt.current,a=l_(s,e.type);s!==a&&(it(Mt,e),it(yt,a))}function Si(e){Mt.current===e&&(at(yt),at(Mt)),Ne.current===e&&(at(Ne),gl._currentValue=rt)}var Gs=Object.prototype.hasOwnProperty,Ys=n.unstable_scheduleCallback,Ks=n.unstable_cancelCallback,fo=n.unstable_shouldYield,uu=n.unstable_requestPaint,Sn=n.unstable_now,kh=n.unstable_getCurrentPriorityLevel,mo=n.unstable_ImmediatePriority,qr=n.unstable_UserBlockingPriority,Qs=n.unstable_NormalPriority,zh=n.unstable_LowPriority,Fr=n.unstable_IdlePriority,po=n.log,cu=n.unstable_setDisableYieldValue,ce=null,Yt=null;function mn(e){if(typeof po=="function"&&cu(e),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(ce,e)}catch{}}var Ze=Math.clz32?Math.clz32:Xs,hu=Math.log,jh=Math.LN2;function Xs(e){return e>>>=0,e===0?32:31-(hu(e)/jh|0)|0}var Zs=256,$s=4194304;function jn(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hr(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=jn(l):(T&=A,T!==0?f=jn(T):a||(a=A&~e,a!==0&&(f=jn(a))))):(A=l&~d,A!==0?f=jn(A):T!==0?f=jn(T):a||(a=l&~e,a!==0&&(f=jn(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Ws(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function go(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var e=Zs;return Zs<<=1,(Zs&4194048)===0&&(Zs=256),e}function vo(){var e=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),e}function bi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function wi(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _o(e,s,a,l,f,d){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=T&~a;0<a;){var K=31-Ze(a),W=1<<K;A[K]=0,C[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var q=j[K];q!==null&&(q.lane&=-536870913)}a&=~W}l!==0&&$n(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(T&~s))}function $n(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-Ze(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function To(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-Ze(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ns(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:D_(e.type))}function fu(e,s){var a=$.p;try{return $.p=e,s()}finally{$.p=a}}var se=Math.random().toString(36).slice(2),De="__reactFiber$"+se,_e="__reactProps$"+se,bn="__reactContainer$"+se,Eo="__reactEvents$"+se,qh="__reactListeners$"+se,is="__reactHandles$"+se,du="__reactResources$"+se,Js="__reactMarker$"+se;function ss(e){delete e[De],delete e[_e],delete e[Eo],delete e[qh],delete e[is]}function Ri(e){var s=e[De];if(s)return s;for(var a=e.parentNode;a;){if(s=a[bn]||a[De]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=f_(e);e!==null;){if(a=e[De])return a;e=f_(e)}return s}e=a,a=e.parentNode}return null}function Wn(e){if(e=e[De]||e[bn]){var s=e.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return e}return null}function Jn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function sn(e){var s=e[du];return s||(s=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function me(e){e[Js]=!0}var Ao=new Set,Yr={};function qn(e,s){Di(e,s),Di(e+"Capture",s)}function Di(e,s){for(Yr[e]=s,e=0;e<s.length;e++)Ao.add(s[e])}var mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},tr={};function gu(e){return Gs.call(tr,e)?!0:Gs.call(pu,e)?!1:mu.test(e)?tr[e]=!0:(pu[e]=!0,!1)}function rs(e,s,a){if(gu(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function ti(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function je(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}var er,yu;function Ci(e){if(er===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);er=s&&s[1]||"",yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+er+e+yu}var Kr=!1;function Qr(e,s){if(!e||Kr)return"";Kr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var j=q}Reflect.construct(e,[],W)}else{try{W.call()}catch(q){j=q}e.call(W.prototype)}}else{try{throw Error()}catch(q){j=q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],A=d[1];if(T&&A){var C=T.split(`
`),z=A.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===z.length)for(l=C.length-1,f=z.length-1;1<=l&&0<=f&&C[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==z[f]){var K=`
`+C[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=f);break}}}finally{Kr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ci(a):""}function So(e){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Qr(e.type,!1);case 11:return Qr(e.type.render,!1);case 1:return Qr(e.type,!0);case 31:return Ci("Activity");default:return""}}function Xr(e){try{var s="";do s+=So(e),e=e.return;while(e);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bo(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fh(e){var s=bo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),l=""+e[s];if(!e.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(e,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Zr(e){e._valueTracker||(e._valueTracker=Fh(e))}function wo(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=bo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hh=/[\n"\\]/g;function Te(e){return e.replace(Hh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function pn(e,s,a,l,f,d,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),s!=null?T==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+rn(s)):e.value!==""+rn(s)&&(e.value=""+rn(s)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),s!=null?as(e,T,rn(s)):a!=null?as(e,T,rn(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+rn(A):e.removeAttribute("name")}function ir(e,s,a,l,f,d,T,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+rn(a):"",s=s!=null?""+rn(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function as(e,s,a){s==="number"&&nr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Vi(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Zt(e,s,a){if(s!=null&&(s=""+rn(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+rn(a):""}function sr(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(bt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=rn(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function wn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var rr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||rr.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Ro(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&vu(e,f,l)}else for(var d in s)s.hasOwnProperty(d)&&vu(e,d,s[d])}function Do(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(e){return Yh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var xi=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,Ii=null;function Co(e){var s=Wn(e);if(s&&(e=s.stateNode)){var a=e[_e]||null;t:switch(e=s.stateNode,s.type){case"input":if(pn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Te(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[_e]||null;if(!f)throw Error(r(90));pn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&wo(l)}break t;case"textarea":Zt(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Vi(e,!!a.multiple,s,!1)}}}var ei=!1;function _u(e,s,a){if(ei)return e(s,a);ei=!0;try{var l=e(s);return l}finally{if(ei=!1,(Mi!==null||Ii!==null)&&(fc(),Mi&&(s=Mi,e=Ii,Ii=Mi=null,Co(s),e)))for(s=0;s<e.length;s++)Co(e[s])}}function ar(e,s){var a=e.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Fn)try{var or={};Object.defineProperty(or,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Dn=!1}var ni=null,os=null,Ni=null;function Vo(){if(Ni)return Ni;var e,s=os,a=s.length,l,f="value"in ni?ni.value:ni.textContent,d=f.length;for(e=0;e<a&&s[e]===f[e];e++);var T=a-e;for(l=1;l<=T&&s[a-l]===f[d-l];l++);return Ni=f.slice(e,1<l?1-l:void 0)}function ii(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function xo(){return!1}function Oe(e){function s(a,l,f,d,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:xo,this.isPropagationStopped=xo,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),s}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=Oe(Ht),lr=v({},Ht,{view:0,detail:0}),Tu=Oe(lr),Jr,ta,ri,ur=v({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(Jr=e.screenX-ri.screenX,ta=e.screenY-ri.screenY):ta=Jr=0,ri=e),Jr)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Cn=Oe(ur),Eu=v({},ur,{dataTransfer:0}),Kh=Oe(Eu),cr=v({},lr,{relatedTarget:0}),ea=Oe(cr),Mo=v({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),na=Oe(Mo),Au=v({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ia=Oe(Au),Qh=v({},Ht,{data:0}),Io=Oe(Qh),hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function No(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=bu[e])?!!s[e]:!1}function fr(){return No}var wu=v({},lr,{key:function(e){if(e.key){var s=hr[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sa=Oe(wu),Ru=v({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=Oe(Ru),Oi=v({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),Du=Oe(Oi),Cu=v({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Oe(Cu),xu=v({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=Oe(xu),an=v({},Ht,{newState:0,oldState:0}),Mu=Oe(an),Iu=[9,13,27,32],ai=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var y=Fn&&"TextEvent"in window&&!c,_=Fn&&(!ai||c&&8<c&&11>=c),b=" ",B=!1;function G(e,s){switch(e){case"keyup":return Iu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Ce(e,s){switch(e){case"compositionend":return ot(s);case"keypress":return s.which!==32?null:(B=!0,b);case"textInput":return e=s.data,e===b&&B?null:e;default:return null}}function Bt(e,s){if(Ut)return e==="compositionend"||!ai&&G(e,s)?(e=Vo(),Ni=os=ni=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Pe[e.type]:s==="textarea"}function Pi(e,s,a,l){Mi?Ii?Ii.push(l):Ii=[l]:Mi=l,s=vc(s,"onChange"),0<s.length&&(a=new Wr("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var qe=null,oi=null;function Po(e){n_(e,0)}function Nu(e){var s=Jn(e);if(wo(s))return e}function Sg(e,s){if(e==="change")return s}var bg=!1;if(Fn){var Xh;if(Fn){var Zh="oninput"in document;if(!Zh){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Zh=typeof wg.oninput=="function"}Xh=Zh}else Xh=!1;bg=Xh&&(!document.documentMode||9<document.documentMode)}function Rg(){qe&&(qe.detachEvent("onpropertychange",Dg),oi=qe=null)}function Dg(e){if(e.propertyName==="value"&&Nu(oi)){var s=[];Pi(s,oi,e,Rn(e)),_u(Po,s)}}function PS(e,s,a){e==="focusin"?(Rg(),qe=s,oi=a,qe.attachEvent("onpropertychange",Dg)):e==="focusout"&&Rg()}function LS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(oi)}function US(e,s){if(e==="click")return Nu(s)}function BS(e,s){if(e==="input"||e==="change")return Nu(s)}function kS(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var gn=typeof Object.is=="function"?Object.is:kS;function Lo(e,s){if(gn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Gs.call(s,f)||!gn(e[f],s[f]))return!1}return!0}function Cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,s){var a=Cg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cg(a)}}function xg(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?xg(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=nr(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=nr(e.document)}return s}function $h(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var zS=Fn&&"documentMode"in document&&11>=document.documentMode,aa=null,Wh=null,Uo=null,Jh=!1;function Ig(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||aa==null||aa!==nr(l)||(l=aa,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&Lo(Uo,l)||(Uo=l,l=vc(Wh,"onSelect"),0<l.length&&(s=new Wr("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=aa)))}function dr(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var oa={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},tf={},Ng={};Fn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function mr(e){if(tf[e])return tf[e];if(!oa[e])return e;var s=oa[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ng)return tf[e]=s[a];return e}var Og=mr("animationend"),Pg=mr("animationiteration"),Lg=mr("animationstart"),jS=mr("transitionrun"),qS=mr("transitionstart"),FS=mr("transitioncancel"),Ug=mr("transitionend"),Bg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Hn(e,s){Bg.set(e,s),qn(s,[e])}var kg=new WeakMap;function Vn(e,s){if(typeof e=="object"&&e!==null){var a=kg.get(e);return a!==void 0?a:(s={value:e,source:s,stack:Xr(s)},kg.set(e,s),s)}return{value:e,source:s,stack:Xr(s)}}var xn=[],la=0,nf=0;function Ou(){for(var e=la,s=nf=la=0;s<e;){var a=xn[s];xn[s++]=null;var l=xn[s];xn[s++]=null;var f=xn[s];xn[s++]=null;var d=xn[s];if(xn[s++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&zg(a,f,d)}}function Pu(e,s,a,l){xn[la++]=e,xn[la++]=s,xn[la++]=a,xn[la++]=l,nf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function sf(e,s,a,l){return Pu(e,s,a,l),Lu(e)}function ua(e,s){return Pu(e,null,null,s),Lu(e)}function zg(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&s!==null&&(f=31-Ze(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Lu(e){if(50<ll)throw ll=0,cd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ca={};function HS(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,s,a,l){return new HS(e,s,a,l)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,s){var a=e.alternate;return a===null?(a=yn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jg(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Uu(e,s,a,l,f,d){var T=0;if(l=e,typeof e=="function")rf(e)&&(T=1);else if(typeof e=="string")T=Yb(e,a,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=yn(31,a,s,f),e.elementType=D,e.lanes=d,e;case U:return pr(a.children,f,d,s);case Y:T=8,f|=24;break;case F:return e=yn(12,a,s,f|2),e.elementType=F,e.lanes=d,e;case st:return e=yn(13,a,s,f),e.elementType=st,e.lanes=d,e;case ct:return e=yn(19,a,s,f),e.elementType=ct,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case Q:T=10;break t;case nt:T=9;break t;case ht:T=11;break t;case x:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=yn(T,a,s,f),s.elementType=e,s.type=l,s.lanes=d,s}function pr(e,s,a,l){return e=yn(7,e,l,s),e.lanes=a,e}function af(e,s,a){return e=yn(6,e,null,s),e.lanes=a,e}function of(e,s,a){return s=yn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var ha=[],fa=0,Bu=null,ku=0,Mn=[],In=0,gr=null,Ui=1,Bi="";function yr(e,s){ha[fa++]=ku,ha[fa++]=Bu,Bu=e,ku=s}function qg(e,s,a){Mn[In++]=Ui,Mn[In++]=Bi,Mn[In++]=gr,gr=e;var l=Ui;e=Bi;var f=32-Ze(l)-1;l&=~(1<<f),a+=1;var d=32-Ze(s)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ui=1<<32-Ze(s)+f|a<<f|l,Bi=d+e}else Ui=1<<d|a<<f|l,Bi=e}function lf(e){e.return!==null&&(yr(e,1),qg(e,1,0))}function uf(e){for(;e===Bu;)Bu=ha[--fa],ha[fa]=null,ku=ha[--fa],ha[fa]=null;for(;e===gr;)gr=Mn[--In],Mn[In]=null,Bi=Mn[--In],Mn[In]=null,Ui=Mn[--In],Mn[In]=null}var on=null,he=null,Ft=!1,vr=null,li=!1,cf=Error(r(519));function _r(e){var s=Error(r(418,""));throw zo(Vn(s,e)),cf}function Fg(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[De]=e,s[_e]=l,a){case"dialog":Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":case"embed":Ot("load",s);break;case"video":case"audio":for(a=0;a<cl.length;a++)Ot(cl[a],s);break;case"source":Ot("error",s);break;case"img":case"image":case"link":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"input":Ot("invalid",s),ir(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zr(s);break;case"select":Ot("invalid",s);break;case"textarea":Ot("invalid",s),sr(s,l.value,l.defaultValue,l.children),Zr(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||a_(s.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",s),Ot("toggle",s)),l.onScroll!=null&&Ot("scroll",s),l.onScrollEnd!=null&&Ot("scrollend",s),l.onClick!=null&&(s.onclick=_c),s=!0):s=!1,s||_r(e)}function Hg(e){for(on=e.return;on;)switch(on.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:on=on.return}}function Bo(e){if(e!==on)return!1;if(!Ft)return Hg(e),Ft=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Rd(e.type,e.memoizedProps)),a=!a),a&&he&&_r(e),Hg(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(s===0){he=Yn(e.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;e=e.nextSibling}he=null}}else s===27?(s=he,Ss(e.type)?(e=xd,xd=null,he=e):he=s):he=on?Yn(e.stateNode.nextSibling):null;return!0}function ko(){he=on=null,Ft=!1}function Gg(){var e=vr;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),vr=null),e}function zo(e){vr===null?vr=[e]:vr.push(e)}var hf=Z(null),Tr=null,ki=null;function ls(e,s,a){it(hf,s._currentValue),s._currentValue=a}function zi(e){e._currentValue=hf.current,at(hf)}function ff(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function df(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var C=0;C<s.length;C++)if(A.context===s[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),ff(d.return,a,e),l||(T=null);break t}d=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),ff(T,a,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function jo(e,s,a,l){e=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=f.type;gn(f.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(f===Ne.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}f=f.return}e!==null&&df(s,e,a,l),s.flags|=262144}function zu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){Tr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Yg(Tr,e)}function ju(e,s){return Tr===null&&Er(e),Yg(e,s)}function Yg(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(r(308));ki=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else ki=ki.next=s;return a}var GS=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},YS=n.unstable_scheduleCallback,KS=n.unstable_NormalPriority,xe={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new GS,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&YS(KS,function(){e.controller.abort()})}var Fo=null,pf=0,da=0,ma=null;function QS(e,s){if(Fo===null){var a=Fo=[];pf=0,da=yd(),ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pf++,s.then(Kg,Kg),s}function Kg(){if(--pf===0&&Fo!==null){ma!==null&&(ma.status="fulfilled");var e=Fo;Fo=null,da=0,ma=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function XS(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Qg=H.S;H.S=function(e,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&QS(e,s),Qg!==null&&Qg(e,s)};var Ar=Z(null);function gf(){var e=Ar.current;return e!==null?e:ne.pooledCache}function qu(e,s){s===null?it(Ar,Ar.current):it(Ar,s.pool)}function Xg(){var e=gf();return e===null?null:{parent:xe._currentValue,pool:e}}var Ho=Error(r(460)),Zg=Error(r(474)),Fu=Error(r(542)),yf={then:function(){}};function $g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hu(){}function Wg(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Hu,Hu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,ty(e),e;default:if(typeof s.status=="string")s.then(Hu,Hu);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,ty(e),e}throw Go=s,Ho}}var Go=null;function Jg(){if(Go===null)throw Error(r(459));var e=Go;return Go=null,e}function ty(e){if(e===Ho||e===Fu)throw Error(r(483))}var us=!1;function vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hs(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Lu(e),zg(e,null,a),s}return Pu(e,l,s,a),Lu(e)}function Yo(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,To(e,a)}}function Tf(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var Ef=!1;function Ko(){if(Ef){var e=ma;if(e!==null)throw e}}function Qo(e,s,a,l){Ef=!1;var f=e.updateQueue;us=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,z=C.next;C.next=null,T===null?d=z:T.next=z,T=C;var K=e.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==T&&(A===null?K.firstBaseUpdate=z:A.next=z,K.lastBaseUpdate=C))}if(d!==null){var W=f.baseState;T=0,K=z=C=null,A=d;do{var j=A.lane&-536870913,q=j!==A.lane;if(q?(kt&j)===j:(l&j)===j){j!==0&&j===da&&(Ef=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var At=e,vt=A;j=s;var Jt=a;switch(vt.tag){case 1:if(At=vt.payload,typeof At=="function"){W=At.call(Jt,W,j);break t}W=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=vt.payload,j=typeof At=="function"?At.call(Jt,W,j):At,j==null)break t;W=v({},W,j);break t;case 2:us=!0}}j=A.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[j]:q.push(j))}else q={lane:j,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(z=K=q,C=W):K=K.next=q,T|=j;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);K===null&&(C=W),f.baseState=C,f.firstBaseUpdate=z,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),_s|=T,e.lanes=T,e.memoizedState=W}}function ey(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function ny(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ey(a[e],s)}var pa=Z(null),Gu=Z(0);function iy(e,s){e=Ki,it(Gu,e),it(pa,s),Ki=e|s.baseLanes}function Af(){it(Gu,Ki),it(pa,pa.current)}function Sf(){Ki=Gu.current,at(pa),at(Gu)}var fs=0,xt=null,$t=null,Ee=null,Yu=!1,ga=!1,Sr=!1,Ku=0,Xo=0,ya=null,ZS=0;function pe(){throw Error(r(321))}function bf(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!gn(e[a],s[a]))return!1;return!0}function wf(e,s,a,l,f,d){return fs=d,xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=e===null||e.memoizedState===null?zy:jy,Sr=!1,d=a(l,f),Sr=!1,ga&&(d=ry(s,a,l,f)),sy(e),d}function sy(e){H.H=Ju;var s=$t!==null&&$t.next!==null;if(fs=0,Ee=$t=xt=null,Yu=!1,Xo=0,ya=null,s)throw Error(r(300));e===null||Le||(e=e.dependencies,e!==null&&zu(e)&&(Le=!0))}function ry(e,s,a,l){xt=e;var f=0;do{if(ga&&(ya=null),Xo=0,ga=!1,25<=f)throw Error(r(301));if(f+=1,Ee=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=ib,d=s(a,l)}while(ga);return d}function $S(){var e=H.H,s=e.useState()[0];return s=typeof s.then=="function"?Zo(s):s,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(xt.flags|=1024),s}function Rf(){var e=Ku!==0;return Ku=0,e}function Df(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function Cf(e){if(Yu){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Yu=!1}fs=0,Ee=$t=xt=null,ga=!1,Xo=Ku=0,ya=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?xt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Ae(){if($t===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var s=Ee===null?xt.memoizedState:Ee.next;if(s!==null)Ee=s,$t=e;else{if(e===null)throw xt.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ee===null?xt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var s=Xo;return Xo+=1,ya===null&&(ya=[]),e=Wg(ya,e,s),s=xt,(Ee===null?s.memoizedState:Ee.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?zy:jy),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===Q)return $e(e)}throw Error(r(438,String(e)))}function xf(e){var s=null,a=xt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Vf(),xt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=I;return s.index++,a}function ji(e,s){return typeof s=="function"?s(e):s}function Xu(e){var s=Ae();return Mf(s,$t,e)}function Mf(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}s.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{s=f.next;var A=T=null,C=null,z=s,K=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(kt&W)===W:(fs&W)===W){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===da&&(K=!0);else if((fs&j)===j){z=z.next,j===da&&(K=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=W,T=d):C=C.next=W,xt.lanes|=j,_s|=j;W=z.action,Sr&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else j={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(A=C=j,T=d):C=C.next=j,xt.lanes|=W,_s|=W;z=z.next}while(z!==null&&z!==s);if(C===null?T=d:C.next=A,!gn(d,e.memoizedState)&&(Le=!0,K&&(a=ma,a!==null)))throw a;e.memoizedState=d,e.baseState=T,e.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function If(e){var s=Ae(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=e(d,T.action),T=T.next;while(T!==f);gn(d,s.memoizedState)||(Le=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function ay(e,s,a){var l=xt,f=Ae(),d=Ft;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!gn(($t||f).memoizedState,a);T&&(f.memoizedState=a,Le=!0),f=f.queue;var A=uy.bind(null,l,f,e);if($o(2048,8,A,[e]),f.getSnapshot!==s||T||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,va(9,Zu(),ly.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(fs&124)!==0||oy(l,s,a)}return a}function oy(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=xt.updateQueue,s===null?(s=Vf(),xt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function ly(e,s,a,l){s.value=a,s.getSnapshot=l,cy(s)&&hy(e)}function uy(e,s,a){return a(function(){cy(s)&&hy(e)})}function cy(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!gn(e,a)}catch{return!0}}function hy(e){var s=ua(e,2);s!==null&&An(s,e,2)}function Nf(e){var s=un();if(typeof e=="function"){var a=e;if(e=a(),Sr){mn(!0);try{a()}finally{mn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},s}function fy(e,s,a,l){return e.baseState=a,Mf(e,$t,typeof l=="function"?l:ji)}function WS(e,s,a,l,f){if(Wu(e))throw Error(r(485));if(e=s.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,dy(s,d)):(d.next=a.next,s.pending=a.next=d)}}function dy(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var d=H.T,T={};H.T=T;try{var A=a(f,l),C=H.S;C!==null&&C(T,A),my(e,s,A)}catch(z){Of(e,s,z)}finally{H.T=d}}else try{d=a(f,l),my(e,s,d)}catch(z){Of(e,s,z)}}function my(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){py(e,s,l)},function(l){return Of(e,s,l)}):py(e,s,a)}function py(e,s,a){s.status="fulfilled",s.value=a,gy(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,dy(e,a)))}function Of(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,gy(s),s=s.next;while(s!==l)}e.action=null}function gy(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function yy(e,s){return s}function vy(e,s){if(Ft){var a=ne.formState;if(a!==null){t:{var l=xt;if(Ft){if(he){e:{for(var f=he,d=li;f.nodeType!==8;){if(!d){f=null;break e}if(f=Yn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){he=Yn(f.nextSibling),l=f.data==="F!";break t}}_r(l)}l=!1}l&&(s=a[0])}}return a=un(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:s},a.queue=l,a=Uy.bind(null,xt,l),l.dispatch=a,l=Nf(!1),d=kf.bind(null,xt,!1,l.queue),l=un(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=WS.bind(null,xt,f,d,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function _y(e){var s=Ae();return Ty(s,$t,e)}function Ty(e,s,a){if(s=Mf(e,s,yy)[0],e=Xu(ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Zo(s)}catch(T){throw T===Ho?Fu:T}else l=s;s=Ae();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(xt.flags|=2048,va(9,Zu(),JS.bind(null,f,a),null)),[l,d,e]}function JS(e,s){e.action=s}function Ey(e){var s=Ae(),a=$t;if(a!==null)return Ty(s,a,e);Ae(),s=s.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function va(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=xt.updateQueue,s===null&&(s=Vf(),xt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Zu(){return{destroy:void 0,resource:void 0}}function Ay(){return Ae().memoizedState}function $u(e,s,a,l){var f=un();l=l===void 0?null:l,xt.flags|=e,f.memoizedState=va(1|s,Zu(),a,l)}function $o(e,s,a,l){var f=Ae();l=l===void 0?null:l;var d=f.memoizedState.inst;$t!==null&&l!==null&&bf(l,$t.memoizedState.deps)?f.memoizedState=va(s,d,a,l):(xt.flags|=e,f.memoizedState=va(1|s,d,a,l))}function Sy(e,s){$u(8390656,8,e,s)}function by(e,s){$o(2048,8,e,s)}function wy(e,s){return $o(4,2,e,s)}function Ry(e,s){return $o(4,4,e,s)}function Dy(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Cy(e,s,a){a=a!=null?a.concat([e]):null,$o(4,4,Dy.bind(null,s,e),a)}function Pf(){}function Vy(e,s){var a=Ae();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&bf(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function xy(e,s){var a=Ae();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&bf(s,l[1]))return l[0];if(l=e(),Sr){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,s],l}function Lf(e,s,a){return a===void 0||(fs&1073741824)!==0?e.memoizedState=s:(e.memoizedState=a,e=Nv(),xt.lanes|=e,_s|=e,a)}function My(e,s,a,l){return gn(a,s)?a:pa.current!==null?(e=Lf(e,a,l),gn(e,s)||(Le=!0),e):(fs&42)===0?(Le=!0,e.memoizedState=a):(e=Nv(),xt.lanes|=e,_s|=e,s)}function Iy(e,s,a,l,f){var d=$.p;$.p=d!==0&&8>d?d:8;var T=H.T,A={};H.T=A,kf(e,!1,s,a);try{var C=f(),z=H.S;if(z!==null&&z(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=XS(C,l);Wo(e,s,K,En(e))}else Wo(e,s,l,En(e))}catch(W){Wo(e,s,{then:function(){},status:"rejected",reason:W},En())}finally{$.p=d,H.T=T}}function tb(){}function Uf(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=Ny(e).queue;Iy(e,f,s,rt,a===null?tb:function(){return Oy(e),a(l)})}function Ny(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:rt},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Oy(e){var s=Ny(e).next.queue;Wo(e,s,{},En())}function Bf(){return $e(gl)}function Py(){return Ae().memoizedState}function Ly(){return Ae().memoizedState}function eb(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=En();e=cs(a);var l=hs(s,e,a);l!==null&&(An(l,s,a),Yo(l,s,a)),s={cache:mf()},e.payload=s;return}s=s.return}}function nb(e,s,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(e)?By(s,a):(a=sf(e,s,a,l),a!==null&&(An(a,e,l),ky(a,s,l)))}function Uy(e,s,a){var l=En();Wo(e,s,a,l)}function Wo(e,s,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(e))By(s,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var T=s.lastRenderedState,A=d(T,a);if(f.hasEagerState=!0,f.eagerState=A,gn(A,T))return Pu(e,s,f,0),ne===null&&Ou(),!1}catch{}finally{}if(a=sf(e,s,f,l),a!==null)return An(a,e,l),ky(a,s,l),!0}return!1}function kf(e,s,a,l){if(l={lane:2,revertLane:yd(),action:l,hasEagerState:!1,eagerState:null,next:null},Wu(e)){if(s)throw Error(r(479))}else s=sf(e,a,l,2),s!==null&&An(s,e,2)}function Wu(e){var s=e.alternate;return e===xt||s!==null&&s===xt}function By(e,s){ga=Yu=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function ky(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,To(e,a)}}var Ju={readContext:$e,use:Qu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},zy={readContext:$e,use:Qu,useCallback:function(e,s){return un().memoizedState=[e,s===void 0?null:s],e},useContext:$e,useEffect:Sy,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,$u(4194308,4,Dy.bind(null,s,e),a)},useLayoutEffect:function(e,s){return $u(4194308,4,e,s)},useInsertionEffect:function(e,s){$u(4,2,e,s)},useMemo:function(e,s){var a=un();s=s===void 0?null:s;var l=e();if(Sr){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=un();if(a!==void 0){var f=a(s);if(Sr){mn(!0);try{a(s)}finally{mn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=nb.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var s=un();return e={current:e},s.memoizedState=e},useState:function(e){e=Nf(e);var s=e.queue,a=Uy.bind(null,xt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(e,s){var a=un();return Lf(a,e,s)},useTransition:function(){var e=Nf(!1);return e=Iy.bind(null,xt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=xt,f=un();if(Ft){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(kt&124)!==0||oy(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,Sy(uy.bind(null,l,d,e),[e]),l.flags|=2048,va(9,Zu(),ly.bind(null,l,d,a,s),null),a},useId:function(){var e=un(),s=ne.identifierPrefix;if(Ft){var a=Bi,l=Ui;a=(l&~(1<<32-Ze(l)-1)).toString(32)+a,s=""+s+"R"+a,a=Ku++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=ZS++,s=""+s+"r"+a.toString(32)+"";return e.memoizedState=s},useHostTransitionStatus:Bf,useFormState:vy,useActionState:vy,useOptimistic:function(e){var s=un();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=kf.bind(null,xt,!0,a),a.dispatch=s,[e,s]},useMemoCache:xf,useCacheRefresh:function(){return un().memoizedState=eb.bind(null,xt)}},jy={readContext:$e,use:Qu,useCallback:Vy,useContext:$e,useEffect:by,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:xy,useReducer:Xu,useRef:Ay,useState:function(){return Xu(ji)},useDebugValue:Pf,useDeferredValue:function(e,s){var a=Ae();return My(a,$t.memoizedState,e,s)},useTransition:function(){var e=Xu(ji)[0],s=Ae().memoizedState;return[typeof e=="boolean"?e:Zo(e),s]},useSyncExternalStore:ay,useId:Py,useHostTransitionStatus:Bf,useFormState:_y,useActionState:_y,useOptimistic:function(e,s){var a=Ae();return fy(a,$t,e,s)},useMemoCache:xf,useCacheRefresh:Ly},ib={readContext:$e,use:Qu,useCallback:Vy,useContext:$e,useEffect:by,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:xy,useReducer:If,useRef:Ay,useState:function(){return If(ji)},useDebugValue:Pf,useDeferredValue:function(e,s){var a=Ae();return $t===null?Lf(a,e,s):My(a,$t.memoizedState,e,s)},useTransition:function(){var e=If(ji)[0],s=Ae().memoizedState;return[typeof e=="boolean"?e:Zo(e),s]},useSyncExternalStore:ay,useId:Py,useHostTransitionStatus:Bf,useFormState:Ey,useActionState:Ey,useOptimistic:function(e,s){var a=Ae();return $t!==null?fy(a,$t,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Ly},_a=null,Jo=0;function tc(e){var s=Jo;return Jo+=1,_a===null&&(_a=[]),Wg(_a,e,s)}function tl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function ec(e,s){throw s.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function qy(e){var s=e._init;return s(e._payload)}function Fy(e){function s(L,N){if(e){var k=L.deletions;k===null?(L.deletions=[N],L.flags|=16):k.push(N)}}function a(L,N){if(!e)return null;for(;N!==null;)s(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function f(L,N){return L=Li(L,N),L.index=0,L.sibling=null,L}function d(L,N,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<N?(L.flags|=67108866,N):k):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function T(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function A(L,N,k,X){return N===null||N.tag!==6?(N=af(k,L.mode,X),N.return=L,N):(N=f(N,k),N.return=L,N)}function C(L,N,k,X){var mt=k.type;return mt===U?K(L,N,k.props.children,X,k.key):N!==null&&(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&qy(mt)===N.type)?(N=f(N,k.props),tl(N,k),N.return=L,N):(N=Uu(k.type,k.key,k.props,null,L.mode,X),tl(N,k),N.return=L,N)}function z(L,N,k,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=of(k,L.mode,X),N.return=L,N):(N=f(N,k.children||[]),N.return=L,N)}function K(L,N,k,X,mt){return N===null||N.tag!==7?(N=pr(k,L.mode,X,mt),N.return=L,N):(N=f(N,k),N.return=L,N)}function W(L,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=af(""+N,L.mode,k),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return k=Uu(N.type,N.key,N.props,null,L.mode,k),tl(k,N),k.return=L,k;case M:return N=of(N,L.mode,k),N.return=L,N;case w:var X=N._init;return N=X(N._payload),W(L,N,k)}if(bt(N)||P(N))return N=pr(N,L.mode,k,null),N.return=L,N;if(typeof N.then=="function")return W(L,tc(N),k);if(N.$$typeof===Q)return W(L,ju(L,N),k);ec(L,N)}return null}function j(L,N,k,X){var mt=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return mt!==null?null:A(L,N,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===mt?C(L,N,k,X):null;case M:return k.key===mt?z(L,N,k,X):null;case w:return mt=k._init,k=mt(k._payload),j(L,N,k,X)}if(bt(k)||P(k))return mt!==null?null:K(L,N,k,X,null);if(typeof k.then=="function")return j(L,N,tc(k),X);if(k.$$typeof===Q)return j(L,N,ju(L,k),X);ec(L,k)}return null}function q(L,N,k,X,mt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(k)||null,A(N,L,""+X,mt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return L=L.get(X.key===null?k:X.key)||null,C(N,L,X,mt);case M:return L=L.get(X.key===null?k:X.key)||null,z(N,L,X,mt);case w:var It=X._init;return X=It(X._payload),q(L,N,k,X,mt)}if(bt(X)||P(X))return L=L.get(k)||null,K(N,L,X,mt,null);if(typeof X.then=="function")return q(L,N,k,tc(X),mt);if(X.$$typeof===Q)return q(L,N,k,ju(N,X),mt);ec(N,X)}return null}function At(L,N,k,X){for(var mt=null,It=null,pt=N,Tt=N=0,Be=null;pt!==null&&Tt<k.length;Tt++){pt.index>Tt?(Be=pt,pt=null):Be=pt.sibling;var qt=j(L,pt,k[Tt],X);if(qt===null){pt===null&&(pt=Be);break}e&&pt&&qt.alternate===null&&s(L,pt),N=d(qt,N,Tt),It===null?mt=qt:It.sibling=qt,It=qt,pt=Be}if(Tt===k.length)return a(L,pt),Ft&&yr(L,Tt),mt;if(pt===null){for(;Tt<k.length;Tt++)pt=W(L,k[Tt],X),pt!==null&&(N=d(pt,N,Tt),It===null?mt=pt:It.sibling=pt,It=pt);return Ft&&yr(L,Tt),mt}for(pt=l(pt);Tt<k.length;Tt++)Be=q(pt,L,Tt,k[Tt],X),Be!==null&&(e&&Be.alternate!==null&&pt.delete(Be.key===null?Tt:Be.key),N=d(Be,N,Tt),It===null?mt=Be:It.sibling=Be,It=Be);return e&&pt.forEach(function(Cs){return s(L,Cs)}),Ft&&yr(L,Tt),mt}function vt(L,N,k,X){if(k==null)throw Error(r(151));for(var mt=null,It=null,pt=N,Tt=N=0,Be=null,qt=k.next();pt!==null&&!qt.done;Tt++,qt=k.next()){pt.index>Tt?(Be=pt,pt=null):Be=pt.sibling;var Cs=j(L,pt,qt.value,X);if(Cs===null){pt===null&&(pt=Be);break}e&&pt&&Cs.alternate===null&&s(L,pt),N=d(Cs,N,Tt),It===null?mt=Cs:It.sibling=Cs,It=Cs,pt=Be}if(qt.done)return a(L,pt),Ft&&yr(L,Tt),mt;if(pt===null){for(;!qt.done;Tt++,qt=k.next())qt=W(L,qt.value,X),qt!==null&&(N=d(qt,N,Tt),It===null?mt=qt:It.sibling=qt,It=qt);return Ft&&yr(L,Tt),mt}for(pt=l(pt);!qt.done;Tt++,qt=k.next())qt=q(pt,L,Tt,qt.value,X),qt!==null&&(e&&qt.alternate!==null&&pt.delete(qt.key===null?Tt:qt.key),N=d(qt,N,Tt),It===null?mt=qt:It.sibling=qt,It=qt);return e&&pt.forEach(function(sw){return s(L,sw)}),Ft&&yr(L,Tt),mt}function Jt(L,N,k,X){if(typeof k=="object"&&k!==null&&k.type===U&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:t:{for(var mt=k.key;N!==null;){if(N.key===mt){if(mt=k.type,mt===U){if(N.tag===7){a(L,N.sibling),X=f(N,k.props.children),X.return=L,L=X;break t}}else if(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&qy(mt)===N.type){a(L,N.sibling),X=f(N,k.props),tl(X,k),X.return=L,L=X;break t}a(L,N);break}else s(L,N);N=N.sibling}k.type===U?(X=pr(k.props.children,L.mode,X,k.key),X.return=L,L=X):(X=Uu(k.type,k.key,k.props,null,L.mode,X),tl(X,k),X.return=L,L=X)}return T(L);case M:t:{for(mt=k.key;N!==null;){if(N.key===mt)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(L,N.sibling),X=f(N,k.children||[]),X.return=L,L=X;break t}else{a(L,N);break}else s(L,N);N=N.sibling}X=of(k,L.mode,X),X.return=L,L=X}return T(L);case w:return mt=k._init,k=mt(k._payload),Jt(L,N,k,X)}if(bt(k))return At(L,N,k,X);if(P(k)){if(mt=P(k),typeof mt!="function")throw Error(r(150));return k=mt.call(k),vt(L,N,k,X)}if(typeof k.then=="function")return Jt(L,N,tc(k),X);if(k.$$typeof===Q)return Jt(L,N,ju(L,k),X);ec(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(L,N.sibling),X=f(N,k),X.return=L,L=X):(a(L,N),X=af(k,L.mode,X),X.return=L,L=X),T(L)):a(L,N)}return function(L,N,k,X){try{Jo=0;var mt=Jt(L,N,k,X);return _a=null,mt}catch(pt){if(pt===Ho||pt===Fu)throw pt;var It=yn(29,pt,null,L.mode);return It.lanes=X,It.return=L,It}finally{}}}var Ta=Fy(!0),Hy=Fy(!1),Nn=Z(null),ui=null;function ds(e){var s=e.alternate;it(Me,Me.current&1),it(Nn,e),ui===null&&(s===null||pa.current!==null||s.memoizedState!==null)&&(ui=e)}function Gy(e){if(e.tag===22){if(it(Me,Me.current),it(Nn,e),ui===null){var s=e.alternate;s!==null&&s.memoizedState!==null&&(ui=e)}}else ms()}function ms(){it(Me,Me.current),it(Nn,Nn.current)}function qi(e){at(Nn),ui===e&&(ui=null),at(Me)}var Me=Z(0);function nc(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Vd(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function zf(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var jf={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=En(),f=cs(l);f.payload=s,a!=null&&(f.callback=a),s=hs(e,f,l),s!==null&&(An(s,e,l),Yo(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=En(),f=cs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=hs(e,f,l),s!==null&&(An(s,e,l),Yo(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=En(),l=cs(a);l.tag=2,s!=null&&(l.callback=s),s=hs(e,l,a),s!==null&&(An(s,e,a),Yo(s,e,a))}};function Yy(e,s,a,l,f,d,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,T):s.prototype&&s.prototype.isPureReactComponent?!Lo(a,l)||!Lo(f,d):!0}function Ky(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&jf.enqueueReplaceState(s,s.state,null)}function br(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=v({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var ic=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Qy(e){ic(e)}function Xy(e){console.error(e)}function Zy(e){ic(e)}function sc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function $y(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qf(e,s,a){return a=cs(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(e,s)},a}function Wy(e){return e=cs(e),e.tag=3,e}function Jy(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){$y(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){$y(s,a,l),typeof f!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function sb(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&jo(s,a,f,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ui===null?fd():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===yf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),md(e,l,f)),!1;case 22:return a.flags|=65536,l===yf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),md(e,l,f)),!1}throw Error(r(435,a.tag))}return md(e,l,f),fd(),!1}if(Ft)return s=Nn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==cf&&(e=Error(r(422),{cause:l}),zo(Vn(e,a)))):(l!==cf&&(s=Error(r(423),{cause:l}),zo(Vn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Vn(l,a),f=qf(e.stateNode,l,f),Tf(e,f),fe!==4&&(fe=2)),!1;var d=Error(r(520),{cause:l});if(d=Vn(d,a),ol===null?ol=[d]:ol.push(d),fe!==4&&(fe=2),s===null)return!0;l=Vn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=qf(a.stateNode,l,e),Tf(a,e),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ts===null||!Ts.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wy(f),Jy(f,e,a,l),Tf(a,f),!1}a=a.return}while(a!==null);return!1}var tv=Error(r(461)),Le=!1;function Fe(e,s,a,l){s.child=e===null?Hy(s,null,a,l):Ta(s,e.child,a,l)}function ev(e,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Er(s),l=wf(e,s,a,T,d,f),A=Rf(),e!==null&&!Le?(Df(e,s,f),Fi(e,s,f)):(Ft&&A&&lf(s),s.flags|=1,Fe(e,s,l,f),s.child)}function nv(e,s,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!rf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,iv(e,s,d,l,f)):(e=Uu(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(d=e.child,!Zf(e,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(T,l)&&e.ref===s.ref)return Fi(e,s,f)}return s.flags|=1,e=Li(d,l),e.ref=s.ref,e.return=s,s.child=e}function iv(e,s,a,l,f){if(e!==null){var d=e.memoizedProps;if(Lo(d,l)&&e.ref===s.ref)if(Le=!1,s.pendingProps=l=d,Zf(e,f))(e.flags&131072)!==0&&(Le=!0);else return s.lanes=e.lanes,Fi(e,s,f)}return Ff(e,s,a,l,f)}function sv(e,s,a){var l=s.pendingProps,f=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(f=s.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;s.childLanes=d&~l}else s.childLanes=0,s.child=null;return rv(e,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&qu(s,d!==null?d.cachePool:null),d!==null?iy(s,d):Af(),Gy(s);else return s.lanes=s.childLanes=536870912,rv(e,s,d!==null?d.baseLanes|a:a,a)}else d!==null?(qu(s,d.cachePool),iy(s,d),ms(),s.memoizedState=null):(e!==null&&qu(s,null),Af(),ms());return Fe(e,s,f,a),s.child}function rv(e,s,a,l){var f=gf();return f=f===null?null:{parent:xe._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},e!==null&&qu(s,null),Af(),Gy(s),e!==null&&jo(e,s,l,!0),null}function rc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Ff(e,s,a,l,f){return Er(s),a=wf(e,s,a,l,void 0,f),l=Rf(),e!==null&&!Le?(Df(e,s,f),Fi(e,s,f)):(Ft&&l&&lf(s),s.flags|=1,Fe(e,s,a,f),s.child)}function av(e,s,a,l,f,d){return Er(s),s.updateQueue=null,a=ry(s,l,a,f),sy(e),l=Rf(),e!==null&&!Le?(Df(e,s,d),Fi(e,s,d)):(Ft&&l&&lf(s),s.flags|=1,Fe(e,s,a,d),s.child)}function ov(e,s,a,l,f){if(Er(s),s.stateNode===null){var d=ca,T=a.contextType;typeof T=="object"&&T!==null&&(d=$e(T)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},vf(s),T=a.contextType,d.context=typeof T=="object"&&T!==null?$e(T):ca,d.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(zf(s,a,T,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&jf.enqueueReplaceState(d,d.state,null),Qo(s,l,d,f),Ko(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){d=s.stateNode;var A=s.memoizedProps,C=br(a,A);d.props=C;var z=d.context,K=a.contextType;T=ca,typeof K=="object"&&K!==null&&(T=$e(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==T)&&Ky(s,d,l,T),us=!1;var j=s.memoizedState;d.state=j,Qo(s,l,d,f),Ko(),z=s.memoizedState,A||j!==z||us?(typeof W=="function"&&(zf(s,a,W,l),z=s.memoizedState),(C=us||Yy(s,a,C,l,j,z,T))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=z),d.props=l,d.state=z,d.context=T,l=C):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,_f(e,s),T=s.memoizedProps,K=br(a,T),d.props=K,W=s.pendingProps,j=d.context,z=a.contextType,C=ca,typeof z=="object"&&z!==null&&(C=$e(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==W||j!==C)&&Ky(s,d,l,C),us=!1,j=s.memoizedState,d.state=j,Qo(s,l,d,f),Ko();var q=s.memoizedState;T!==W||j!==q||us||e!==null&&e.dependencies!==null&&zu(e.dependencies)?(typeof A=="function"&&(zf(s,a,A,l),q=s.memoizedState),(K=us||Yy(s,a,K,l,j,q,C)||e!==null&&e.dependencies!==null&&zu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,C)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&j===e.memoizedState||(s.flags|=1024),l=!1)}return d=l,rc(e,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,e!==null&&l?(s.child=Ta(s,e.child,null,f),s.child=Ta(s,null,a,f)):Fe(e,s,a,f),s.memoizedState=d.state,e=s.child):e=Fi(e,s,f),e}function lv(e,s,a,l){return ko(),s.flags|=256,Fe(e,s,a,l),s.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:Xg()}}function Yf(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=On),e}function uv(e,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,T;if((T=d)||(T=e!==null&&e.memoizedState===null?!1:(Me.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ft){if(f?ds(s):ms(),Ft){var A=he,C;if(C=A){t:{for(C=A,A=li;C.nodeType!==8;){if(!A){A=null;break t}if(C=Yn(C.nextSibling),C===null){A=null;break t}}A=C}A!==null?(s.memoizedState={dehydrated:A,treeContext:gr!==null?{id:Ui,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},C=yn(18,null,null,0),C.stateNode=A,C.return=s,s.child=C,on=s,he=null,C=!0):C=!1}C||_r(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Vd(A)?s.lanes=32:s.lanes=536870912,null;qi(s)}return A=l.children,l=l.fallback,f?(ms(),f=s.mode,A=ac({mode:"hidden",children:A},f),l=pr(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,f=s.child,f.memoizedState=Gf(a),f.childLanes=Yf(e,T,a),s.memoizedState=Hf,l):(ds(s),Kf(s,A))}if(C=e.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(d)s.flags&256?(ds(s),s.flags&=-257,s=Qf(e,s,a)):s.memoizedState!==null?(ms(),s.child=e.child,s.flags|=128,s=null):(ms(),f=l.fallback,A=s.mode,l=ac({mode:"visible",children:l.children},A),f=pr(f,A,a,null),f.flags|=2,l.return=s,f.return=s,l.sibling=f,s.child=l,Ta(s,e.child,null,a),l=s.child,l.memoizedState=Gf(a),l.childLanes=Yf(e,T,a),s.memoizedState=Hf,s=f);else if(ds(s),Vd(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var z=T.dgst;T=z,l=Error(r(419)),l.stack="",l.digest=T,zo({value:l,source:null,stack:null}),s=Qf(e,s,a)}else if(Le||jo(e,s,a,!1),T=(a&e.childLanes)!==0,Le||T){if(T=ne,T!==null&&(l=a&-a,l=(l&42)!==0?1:es(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ua(e,l),An(T,e,l),tv;A.data==="$?"||fd(),s=Qf(e,s,a)}else A.data==="$?"?(s.flags|=192,s.child=e.child,s=null):(e=C.treeContext,he=Yn(A.nextSibling),on=s,Ft=!0,vr=null,li=!1,e!==null&&(Mn[In++]=Ui,Mn[In++]=Bi,Mn[In++]=gr,Ui=e.id,Bi=e.overflow,gr=s),s=Kf(s,l.children),s.flags|=4096);return s}return f?(ms(),f=l.fallback,A=s.mode,C=e.child,z=C.sibling,l=Li(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?f=Li(z,f):(f=pr(f,A,a,null),f.flags|=2),f.return=s,l.return=s,l.sibling=f,s.child=l,l=f,f=s.child,A=e.child.memoizedState,A===null?A=Gf(a):(C=A.cachePool,C!==null?(z=xe._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=Xg(),A={baseLanes:A.baseLanes|a,cachePool:C}),f.memoizedState=A,f.childLanes=Yf(e,T,a),s.memoizedState=Hf,l):(ds(s),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(T=s.deletions,T===null?(s.deletions=[e],s.flags|=16):T.push(e)),s.child=a,s.memoizedState=null,a)}function Kf(e,s){return s=ac({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function ac(e,s){return e=yn(22,e,null,s),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qf(e,s,a){return Ta(s,e.child,null,a),e=Kf(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function cv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),ff(e.return,s,a)}function Xf(e,s,a,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function hv(e,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;if(Fe(e,s,l.children,a),l=Me.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cv(e,a,s);else if(e.tag===19)cv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Me,l),f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&nc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Xf(s,!1,f,a,d);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&nc(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Xf(s,!0,a,null,d);break;case"together":Xf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fi(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),_s|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(jo(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Li(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Zf(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&zu(e)))}function rb(e,s,a){switch(s.tag){case 3:ee(s,s.stateNode.containerInfo),ls(s,xe,e.memoizedState.cache),ko();break;case 27:case 5:ts(s);break;case 4:ee(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ds(s),s.flags|=128,null):(a&s.child.childLanes)!==0?uv(e,s,a):(ds(s),e=Fi(e,s,a),e!==null?e.sibling:null);ds(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(jo(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return hv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Me,Me.current),l)break;return null;case 22:case 23:return s.lanes=0,sv(e,s,a);case 24:ls(s,xe,e.memoizedState.cache)}return Fi(e,s,a)}function fv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Le=!0;else{if(!Zf(e,a)&&(s.flags&128)===0)return Le=!1,rb(e,s,a);Le=(e.flags&131072)!==0}else Le=!1,Ft&&(s.flags&1048576)!==0&&qg(s,ku,s.index);switch(s.lanes=0,s.tag){case 16:t:{e=s.pendingProps;var l=s.elementType,f=l._init;if(l=f(l._payload),s.type=l,typeof l=="function")rf(l)?(e=br(l,e),s.tag=1,s=ov(null,s,l,e,a)):(s.tag=0,s=Ff(null,s,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===ht){s.tag=11,s=ev(null,s,l,e,a);break t}else if(f===x){s.tag=14,s=nv(null,s,l,e,a);break t}}throw s=wt(l)||l,Error(r(306,s,""))}}return s;case 0:return Ff(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=br(l,s.pendingProps),ov(e,s,l,f,a);case 3:t:{if(ee(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,_f(e,s),Qo(s,l,null,a);var T=s.memoizedState;if(l=T.cache,ls(s,xe,l),l!==d.cache&&df(s,[xe],a,!0),Ko(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=lv(e,s,l,a);break t}else if(l!==f){f=Vn(Error(r(424)),s),zo(f),s=lv(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=Yn(e.firstChild),on=s,Ft=!0,vr=null,li=!0,a=Hy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ko(),l===f){s=Fi(e,s,a);break t}Fe(e,s,l,a)}s=s.child}return s;case 26:return rc(e,s),e===null?(a=g_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ft||(a=s.type,e=s.pendingProps,l=Tc(Rt.current).createElement(a),l[De]=s,l[_e]=e,Ge(l,a,e),me(l),s.stateNode=l):s.memoizedState=g_(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return ts(s),e===null&&Ft&&(l=s.stateNode=d_(s.type,s.pendingProps,Rt.current),on=s,li=!0,f=he,Ss(s.type)?(xd=f,he=Yn(l.firstChild)):he=f),Fe(e,s,s.pendingProps.children,a),rc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ft&&((f=l=he)&&(l=Nb(l,s.type,s.pendingProps,li),l!==null?(s.stateNode=l,on=s,he=Yn(l.firstChild),li=!1,f=!0):f=!1),f||_r(s)),ts(s),f=s.type,d=s.pendingProps,T=e!==null?e.memoizedProps:null,l=d.children,Rd(f,d)?l=null:T!==null&&Rd(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=wf(e,s,$S,null,null,a),gl._currentValue=f),rc(e,s),Fe(e,s,l,a),s.child;case 6:return e===null&&Ft&&((e=a=he)&&(a=Ob(a,s.pendingProps,li),a!==null?(s.stateNode=a,on=s,he=null,e=!0):e=!1),e||_r(s)),null;case 13:return uv(e,s,a);case 4:return ee(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Ta(s,null,l,a):Fe(e,s,l,a),s.child;case 11:return ev(e,s,s.type,s.pendingProps,a);case 7:return Fe(e,s,s.pendingProps,a),s.child;case 8:return Fe(e,s,s.pendingProps.children,a),s.child;case 12:return Fe(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ls(s,s.type,l.value),Fe(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Er(s),f=$e(f),l=l(f),s.flags|=1,Fe(e,s,l,a),s.child;case 14:return nv(e,s,s.type,s.pendingProps,a);case 15:return iv(e,s,s.type,s.pendingProps,a);case 19:return hv(e,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},e===null?(a=ac(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Li(e.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return sv(e,s,a);case 24:return Er(s),l=$e(xe),e===null?(f=gf(),f===null&&(f=ne,d=mf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},vf(s),ls(s,xe,f)):((e.lanes&a)!==0&&(_f(e,s),Qo(s,null,null,a),Ko()),f=e.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ls(s,xe,l)):(l=d.cache,ls(s,xe,l),l!==f.cache&&df(s,[xe],a,!0))),Fe(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Hi(e){e.flags|=4}function dv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(s)){if(s=Nn.current,s!==null&&((kt&4194048)===kt?ui!==null:(kt&62914560)!==kt&&(kt&536870912)===0||s!==ui))throw Go=yf,Zg;e.flags|=8192}}function oc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?vo():536870912,e.lanes|=s,ba|=s)}function el(e,s){if(!Ft)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function ab(e,s,a){var l=s.pendingProps;switch(uf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(s),null;case 1:return oe(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zi(xe),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bo(s)?Hi(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gg())),oe(s),null;case 26:return a=s.memoizedState,e===null?(Hi(s),a!==null?(oe(s),dv(s,a)):(oe(s),s.flags&=-16777217)):a?a!==e.memoizedState?(Hi(s),oe(s),dv(s,a)):(oe(s),s.flags&=-16777217):(e.memoizedProps!==l&&Hi(s),oe(s),s.flags&=-16777217),null;case 27:Si(s),a=Rt.current;var f=s.type;if(e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Hi(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return oe(s),null}e=yt.current,Bo(s)?Fg(s):(e=d_(f,l,a),s.stateNode=e,Hi(s))}return oe(s),null;case 5:if(Si(s),a=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Hi(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return oe(s),null}if(e=yt.current,Bo(s))Fg(s);else{switch(f=Tc(Rt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[De]=s,e[_e]=l;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=e;t:switch(Ge(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hi(s)}}return oe(s),s.flags&=-16777217,null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Hi(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=Rt.current,Bo(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=on,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[De]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a_(e.nodeValue,a)),e||_r(s)}else e=Tc(e).createTextNode(l),e[De]=s,s.stateNode=e}return oe(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Bo(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[De]=s}else ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;oe(s),f=!1}else f=Gg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(qi(s),s):(qi(s),null)}if(qi(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==e&&a&&(s.child.flags|=8192),oc(s,s.updateQueue),oe(s),null;case 4:return Zn(),e===null&&Ed(s.stateNode.containerInfo),oe(s),null;case 10:return zi(s.type),oe(s),null;case 19:if(at(Me),f=s.memoizedState,f===null)return oe(s),null;if(l=(s.flags&128)!==0,d=f.rendering,d===null)if(l)el(f,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(d=nc(e),d!==null){for(s.flags|=128,el(f,!1),e=d.updateQueue,s.updateQueue=e,oc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)jg(a,e),a=a.sibling;return it(Me,Me.current&1|2),s.child}e=e.sibling}f.tail!==null&&Sn()>cc&&(s.flags|=128,l=!0,el(f,!1),s.lanes=4194304)}else{if(!l)if(e=nc(d),e!==null){if(s.flags|=128,l=!0,e=e.updateQueue,s.updateQueue=e,oc(s,e),el(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ft)return oe(s),null}else 2*Sn()-f.renderingStartTime>cc&&a!==536870912&&(s.flags|=128,l=!0,el(f,!1),s.lanes=4194304);f.isBackwards?(d.sibling=s.child,s.child=d):(e=f.last,e!==null?e.sibling=d:s.child=d,f.last=d)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Sn(),s.sibling=null,e=Me.current,it(Me,l?e&1|2:e&1),s):(oe(s),null);case 22:case 23:return qi(s),Sf(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(oe(s),s.subtreeFlags&6&&(s.flags|=8192)):oe(s),a=s.updateQueue,a!==null&&oc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&at(Ar),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),zi(xe),oe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function ob(e,s){switch(uf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zi(xe),Zn(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Si(s),null;case 13:if(qi(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ko()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return at(Me),null;case 4:return Zn(),null;case 10:return zi(s.type),null;case 22:case 23:return qi(s),Sf(),e!==null&&at(Ar),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return zi(xe),null;case 25:return null;default:return null}}function mv(e,s){switch(uf(s),s.tag){case 3:zi(xe),Zn();break;case 26:case 27:case 5:Si(s);break;case 4:Zn();break;case 13:qi(s);break;case 19:at(Me);break;case 10:zi(s.type);break;case 22:case 23:qi(s),Sf(),e!==null&&at(Ar);break;case 24:zi(xe)}}function nl(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==f)}}catch(A){te(s,s.return,A)}}function ps(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=s;var C=a,z=A;try{z()}catch(K){te(f,C,K)}}}l=l.next}while(l!==d)}}catch(K){te(s,s.return,K)}}function pv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{ny(s,a)}catch(l){te(e,e.return,l)}}}function gv(e,s,a){a.props=br(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){te(e,s,l)}}function il(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){te(e,s,f)}}function ci(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){te(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){te(e,s,f)}else a.current=null}function yv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){te(e,e.return,f)}}function $f(e,s,a){try{var l=e.stateNode;Cb(l,e.type,a,s),l[_e]=s}catch(f){te(e,e.return,f)}}function vv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ss(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=_c));else if(l!==4&&(l===27&&Ss(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(Jf(e,s,a),e=e.sibling;e!==null;)Jf(e,s,a),e=e.sibling}function lc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Ss(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lc(e,s,a),e=e.sibling;e!==null;)lc(e,s,a),e=e.sibling}function _v(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ge(s,l,a),s[De]=e,s[_e]=a}catch(d){te(e,e.return,d)}}var Gi=!1,ge=!1,td=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function lb(e,s){if(e=e.containerInfo,bd=Rc,e=Mg(e),$h(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var T=0,A=-1,C=-1,z=0,K=0,W=e,j=null;e:for(;;){for(var q;W!==a||f!==0&&W.nodeType!==3||(A=T+f),W!==d||l!==0&&W.nodeType!==3||(C=T+l),W.nodeType===3&&(T+=W.nodeValue.length),(q=W.firstChild)!==null;)j=W,W=q;for(;;){if(W===e)break e;if(j===a&&++z===f&&(A=T),j===d&&++K===l&&(C=T),(q=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=q}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:e,selectionRange:a},Rc=!1,Ue=s;Ue!==null;)if(s=Ue,e=s.child,(s.subtreeFlags&1024)!==0&&e!==null)e.return=s,Ue=e;else for(;Ue!==null;){switch(s=Ue,d=s.alternate,e=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var At=br(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(At,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){te(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)Cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Ue=e;break}Ue=s.return}}function Ev(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gs(e,a),l&4&&nl(5,a);break;case 1:if(gs(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(T){te(a,a.return,T)}else{var f=br(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(T){te(a,a.return,T)}}l&64&&pv(a),l&512&&il(a,a.return);break;case 3:if(gs(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ny(e,s)}catch(T){te(a,a.return,T)}}break;case 27:s===null&&l&4&&_v(a);case 26:case 5:gs(e,a),s===null&&l&4&&yv(a),l&512&&il(a,a.return);break;case 12:gs(e,a);break;case 13:gs(e,a),l&4&&bv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yb.bind(null,a),Pb(e,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){s=s!==null&&s.memoizedState!==null||ge,f=Gi;var d=ge;Gi=l,(ge=s)&&!d?ys(e,a,(a.subtreeFlags&8772)!==0):gs(e,a),Gi=f,ge=d}break;case 30:break;default:gs(e,a)}}function Av(e){var s=e.alternate;s!==null&&(e.alternate=null,Av(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&ss(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,cn=!1;function Yi(e,s,a){for(a=a.child;a!==null;)Sv(e,s,a),a=a.sibling}function Sv(e,s,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ce,a)}catch{}switch(a.tag){case 26:ge||ci(a,s),Yi(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||ci(a,s);var l=re,f=cn;Ss(a.type)&&(re=a.stateNode,cn=!1),Yi(e,s,a),fl(a.stateNode),re=l,cn=f;break;case 5:ge||ci(a,s);case 6:if(l=re,f=cn,re=null,Yi(e,s,a),re=l,cn=f,re!==null)if(cn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(d){te(a,s,d)}else try{re.removeChild(a.stateNode)}catch(d){te(a,s,d)}break;case 18:re!==null&&(cn?(e=re,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Tl(e)):h_(re,a.stateNode));break;case 4:l=re,f=cn,re=a.stateNode.containerInfo,cn=!0,Yi(e,s,a),re=l,cn=f;break;case 0:case 11:case 14:case 15:ge||ps(2,a,s),ge||ps(4,a,s),Yi(e,s,a);break;case 1:ge||(ci(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gv(a,s,l)),Yi(e,s,a);break;case 21:Yi(e,s,a);break;case 22:ge=(l=ge)||a.memoizedState!==null,Yi(e,s,a),ge=l;break;default:Yi(e,s,a)}}function bv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tl(e)}catch(a){te(s,s.return,a)}}function ub(e){switch(e.tag){case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Tv),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Tv),s;default:throw Error(r(435,e.tag))}}function ed(e,s){var a=ub(e);s.forEach(function(l){var f=vb.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function vn(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,T=s,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Ss(A.type)){re=A.stateNode,cn=!1;break t}break;case 5:re=A.stateNode,cn=!1;break t;case 3:case 4:re=A.stateNode.containerInfo,cn=!0;break t}A=A.return}if(re===null)throw Error(r(160));Sv(d,T,f),re=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)wv(s,e),s=s.sibling}var Gn=null;function wv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(s,e),_n(e),l&4&&(ps(3,e,e.return),nl(3,e),ps(5,e,e.return));break;case 1:vn(s,e),_n(e),l&512&&(ge||a===null||ci(a,a.return)),l&64&&Gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Gn;if(vn(s,e),_n(e),l&512&&(ge||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Js]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ge(d,l,a),d[De]=e,me(d),l=d;break t;case"link":var T=__("link","href",f).get(l+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(d=T[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}d=f.createElement(l),Ge(d,l,a),f.head.appendChild(d);break;case"meta":if(T=__("meta","content",f).get(l+(a.content||""))){for(A=0;A<T.length;A++)if(d=T[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}d=f.createElement(l),Ge(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[De]=e,me(d),l=d}e.stateNode=l}else T_(f,e.type,e.stateNode);else e.stateNode=v_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?T_(f,e.type,e.stateNode):v_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$f(e,e.memoizedProps,a.memoizedProps)}break;case 27:vn(s,e),_n(e),l&512&&(ge||a===null||ci(a,a.return)),a!==null&&l&4&&$f(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vn(s,e),_n(e),l&512&&(ge||a===null||ci(a,a.return)),e.flags&32){f=e.stateNode;try{wn(f,"")}catch(q){te(e,e.return,q)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,$f(e,f,a!==null?a.memoizedProps:f)),l&1024&&(td=!0);break;case 6:if(vn(s,e),_n(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){te(e,e.return,q)}}break;case 3:if(Sc=null,f=Gn,Gn=Ec(s.containerInfo),vn(s,e),Gn=f,_n(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(s.containerInfo)}catch(q){te(e,e.return,q)}td&&(td=!1,Rv(e));break;case 4:l=Gn,Gn=Ec(e.stateNode.containerInfo),vn(s,e),_n(e),Gn=l;break;case 12:vn(s,e),_n(e);break;case 13:vn(s,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(od=Sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ed(e,l)));break;case 22:f=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Gi,K=ge;if(Gi=z||f,ge=K||C,vn(s,e),ge=K,Gi=z,_n(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||C||Gi||ge||wr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(d=C.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=C.stateNode;var W=C.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){te(C,C.return,q)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(q){te(C,C.return,q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ed(e,a))));break;case 19:vn(s,e),_n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ed(e,l)));break;case 30:break;case 21:break;default:vn(s,e),_n(e)}}function _n(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(vv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Wf(e);lc(e,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(wn(T,""),a.flags&=-33);var A=Wf(e);lc(e,A,T);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Wf(e);Jf(e,z,C);break;default:throw Error(r(161))}}catch(K){te(e,e.return,K)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Rv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Rv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function gs(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ev(e,s.alternate,s),s=s.sibling}function wr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),wr(s);break;case 1:ci(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&gv(s,s.return,a),wr(s);break;case 27:fl(s.stateNode);case 26:case 5:ci(s,s.return),wr(s);break;case 22:s.memoizedState===null&&wr(s);break;case 30:wr(s);break;default:wr(s)}e=e.sibling}}function ys(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,d=s,T=d.flags;switch(d.tag){case 0:case 11:case 15:ys(f,d,a),nl(4,d);break;case 1:if(ys(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){te(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ey(C[f],A)}catch(z){te(l,l.return,z)}}a&&T&64&&pv(d),il(d,d.return);break;case 27:_v(d);case 26:case 5:ys(f,d,a),a&&l===null&&T&4&&yv(d),il(d,d.return);break;case 12:ys(f,d,a);break;case 13:ys(f,d,a),a&&T&4&&bv(f,d);break;case 22:d.memoizedState===null&&ys(f,d,a),il(d,d.return);break;case 30:break;default:ys(f,d,a)}s=s.sibling}}function nd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function id(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&qo(e))}function hi(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Dv(e,s,a,l),s=s.sibling}function Dv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:hi(e,s,a,l),f&2048&&nl(9,s);break;case 1:hi(e,s,a,l);break;case 3:hi(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&qo(e)));break;case 12:if(f&2048){hi(e,s,a,l),e=s.stateNode;try{var d=s.memoizedProps,T=d.id,A=d.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){te(s,s.return,C)}}else hi(e,s,a,l);break;case 13:hi(e,s,a,l);break;case 23:break;case 22:d=s.stateNode,T=s.alternate,s.memoizedState!==null?d._visibility&2?hi(e,s,a,l):sl(e,s):d._visibility&2?hi(e,s,a,l):(d._visibility|=2,Ea(e,s,a,l,(s.subtreeFlags&10256)!==0)),f&2048&&nd(T,s);break;case 24:hi(e,s,a,l),f&2048&&id(s.alternate,s);break;default:hi(e,s,a,l)}}function Ea(e,s,a,l,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=e,T=s,A=a,C=l,z=T.flags;switch(T.tag){case 0:case 11:case 15:Ea(d,T,A,C,f),nl(8,T);break;case 23:break;case 22:var K=T.stateNode;T.memoizedState!==null?K._visibility&2?Ea(d,T,A,C,f):sl(d,T):(K._visibility|=2,Ea(d,T,A,C,f)),f&&z&2048&&nd(T.alternate,T);break;case 24:Ea(d,T,A,C,f),f&&z&2048&&id(T.alternate,T);break;default:Ea(d,T,A,C,f)}s=s.sibling}}function sl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:sl(a,l),f&2048&&nd(l.alternate,l);break;case 24:sl(a,l),f&2048&&id(l.alternate,l);break;default:sl(a,l)}s=s.sibling}}var rl=8192;function Aa(e){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Cv(e),e=e.sibling}function Cv(e){switch(e.tag){case 26:Aa(e),e.flags&rl&&e.memoizedState!==null&&Qb(Gn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var s=Gn;Gn=Ec(e.stateNode.containerInfo),Aa(e),Gn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=rl,rl=16777216,Aa(e),rl=s):Aa(e));break;default:Aa(e)}}function Vv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function al(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ue=l,Mv(l,e)}Vv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xv(e),e=e.sibling}function xv(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&ps(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,uc(e)):al(e);break;default:al(e)}}function uc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ue=l,Mv(l,e)}Vv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ps(8,s,s.return),uc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,uc(s));break;default:uc(s)}e=e.sibling}}function Mv(e,s){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:ps(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var f=l.sibling,d=l.return;if(Av(l),l===a){Ue=null;break t}if(f!==null){f.return=d,Ue=f;break t}Ue=d}}}var cb={getCacheForType:function(e){var s=$e(xe),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a}},hb=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Nt=null,kt=0,Qt=0,Tn=null,vs=!1,Sa=!1,sd=!1,Ki=0,fe=0,_s=0,Rr=0,rd=0,On=0,ba=0,ol=null,hn=null,ad=!1,od=0,cc=1/0,hc=null,Ts=null,He=0,Es=null,wa=null,Ra=0,ld=0,ud=null,Iv=null,ll=0,cd=null;function En(){if((Kt&2)!==0&&kt!==0)return kt&-kt;if(H.T!==null){var e=da;return e!==0?e:yd()}return ns()}function Nv(){On===0&&(On=(kt&536870912)===0||Ft?yo():536870912);var e=Nn.current;return e!==null&&(e.flags|=32),On}function An(e,s,a){(e===ne&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),As(e,kt,On,!1)),wi(e,a),((Kt&2)===0||e!==ne)&&(e===ne&&((Kt&2)===0&&(Rr|=a),fe===4&&As(e,kt,On,!1)),fi(e))}function Ov(e,s,a){if((Kt&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&e.expiredLanes)===0||Ws(e,s),f=l?mb(e,s):dd(e,s,!0),d=l;do{if(f===0){Sa&&!l&&As(e,s,0,!1);break}else{if(a=e.current.alternate,d&&!fb(a)){f=dd(e,s,!1),d=!1;continue}if(f===2){if(d=s,e.errorRecoveryDisabledLanes&d)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var A=e;f=ol;var C=A.current.memoizedState.isDehydrated;if(C&&(Da(A,T).flags|=256),T=dd(A,T,!1),T!==2){if(sd&&!C){A.errorRecoveryDisabledLanes|=d,Rr|=d,f=4;break t}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){Da(e,0),As(e,s,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:As(l,s,On,!vs);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=od+300-Sn(),10<f)){if(As(l,s,On,!vs),Hr(l,0,!0)!==0)break t;l.timeoutHandle=u_(Pv.bind(null,l,a,hn,hc,ad,s,On,Rr,ba,vs,d,2,-0,0),f);break t}Pv(l,a,hn,hc,ad,s,On,Rr,ba,vs,d,0,-0,0)}}break}while(!0);fi(e)}function Pv(e,s,a,l,f,d,T,A,C,z,K,W,j,q){if(e.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:Kb},Cv(s),W=Xb(),W!==null)){e.cancelPendingCommit=W(qv.bind(null,e,s,d,a,l,f,T,A,C,K,1,j,q)),As(e,d,T,!z);return}qv(e,s,d,a,l,f,T,A,C)}function fb(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!gn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function As(e,s,a,l){s&=~rd,s&=~Rr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var d=31-Ze(f),T=1<<d;l[d]=-1,f&=~T}a!==0&&$n(e,a,s)}function fc(){return(Kt&6)===0?(ul(0),!1):!0}function hd(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,ki=Tr=null,Cf(e),_a=null,Jo=0,e=Nt;for(;e!==null;)mv(e.alternate,e),e=e.return;Nt=null}}function Da(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,xb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),hd(),ne=e,Nt=a=Li(e.current,null),kt=s,Qt=0,Tn=null,vs=!1,Sa=Ws(e,s),sd=!1,ba=On=rd=Rr=_s=fe=0,hn=ol=null,ad=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-Ze(l),d=1<<f;s|=e[f],l&=~d}return Ki=s,Ou(),a}function Lv(e,s){xt=null,H.H=Ju,s===Ho||s===Fu?(s=Jg(),Qt=3):s===Zg?(s=Jg(),Qt=4):Qt=s===tv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Tn=s,Nt===null&&(fe=1,sc(e,Vn(s,e.current)))}function Uv(){var e=H.H;return H.H=Ju,e===null?Ju:e}function Bv(){var e=H.A;return H.A=cb,e}function fd(){fe=4,vs||(kt&4194048)!==kt&&Nn.current!==null||(Sa=!0),(_s&134217727)===0&&(Rr&134217727)===0||ne===null||As(ne,kt,On,!1)}function dd(e,s,a){var l=Kt;Kt|=2;var f=Uv(),d=Bv();(ne!==e||kt!==s)&&(hc=null,Da(e,s)),s=!1;var T=fe;t:do try{if(Qt!==0&&Nt!==null){var A=Nt,C=Tn;switch(Qt){case 8:hd(),T=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(s=!0);var z=Qt;if(Qt=0,Tn=null,Ca(e,A,C,z),a&&Sa){T=0;break t}break;default:z=Qt,Qt=0,Tn=null,Ca(e,A,C,z)}}db(),T=fe;break}catch(K){Lv(e,K)}while(!0);return s&&e.shellSuspendCounter++,ki=Tr=null,Kt=l,H.H=f,H.A=d,Nt===null&&(ne=null,kt=0,Ou()),T}function db(){for(;Nt!==null;)kv(Nt)}function mb(e,s){var a=Kt;Kt|=2;var l=Uv(),f=Bv();ne!==e||kt!==s?(hc=null,cc=Sn()+500,Da(e,s)):Sa=Ws(e,s);t:do try{if(Qt!==0&&Nt!==null){s=Nt;var d=Tn;e:switch(Qt){case 1:Qt=0,Tn=null,Ca(e,s,d,1);break;case 2:case 9:if($g(d)){Qt=0,Tn=null,zv(s);break}s=function(){Qt!==2&&Qt!==9||ne!==e||(Qt=7),fi(e)},d.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:$g(d)?(Qt=0,Tn=null,zv(s)):(Qt=0,Tn=null,Ca(e,s,d,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var A=Nt;if(!T||E_(T)){Qt=0,Tn=null;var C=A.sibling;if(C!==null)Nt=C;else{var z=A.return;z!==null?(Nt=z,dc(z)):Nt=null}break e}}Qt=0,Tn=null,Ca(e,s,d,5);break;case 6:Qt=0,Tn=null,Ca(e,s,d,6);break;case 8:hd(),fe=6;break t;default:throw Error(r(462))}}pb();break}catch(K){Lv(e,K)}while(!0);return ki=Tr=null,H.H=l,H.A=f,Kt=a,Nt!==null?0:(ne=null,kt=0,Ou(),fe)}function pb(){for(;Nt!==null&&!fo();)kv(Nt)}function kv(e){var s=fv(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,s===null?dc(e):Nt=s}function zv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=av(a,s,s.pendingProps,s.type,void 0,kt);break;case 11:s=av(a,s,s.pendingProps,s.type.render,s.ref,kt);break;case 5:Cf(s);default:mv(a,s),s=Nt=jg(s,Ki),s=fv(a,s,Ki)}e.memoizedProps=e.pendingProps,s===null?dc(e):Nt=s}function Ca(e,s,a,l){ki=Tr=null,Cf(s),_a=null,Jo=0;var f=s.return;try{if(sb(e,f,s,a,kt)){fe=1,sc(e,Vn(a,e.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;fe=1,sc(e,Vn(a,e.current)),Nt=null;return}s.flags&32768?(Ft||l===1?e=!0:Sa||(kt&536870912)!==0?e=!1:(vs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jv(s,e)):dc(s)}function dc(e){var s=e;do{if((s.flags&32768)!==0){jv(s,vs);return}e=s.return;var a=ab(s.alternate,s,Ki);if(a!==null){Nt=a;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=e}while(s!==null);fe===0&&(fe=5)}function jv(e,s){do{var a=ob(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);fe=6,Nt=null}function qv(e,s,a,l,f,d,T,A,C){e.cancelPendingCommit=null;do mc();while(He!==0);if((Kt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=nf,_o(e,a,d,T,A,C),e===ne&&(Nt=ne=null,kt=0),wa=s,Es=e,Ra=a,ld=d,ud=f,Iv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_b(Qs,function(){return Kv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,f=$.p,$.p=2,T=Kt,Kt|=4;try{lb(e,s,a)}finally{Kt=T,$.p=f,H.T=l}}He=1,Fv(),Hv(),Gv()}}function Fv(){if(He===1){He=0;var e=Es,s=wa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=$.p;$.p=2;var f=Kt;Kt|=4;try{wv(s,e);var d=wd,T=Mg(e.containerInfo),A=d.focusedElem,C=d.selectionRange;if(T!==A&&A&&A.ownerDocument&&xg(A.ownerDocument.documentElement,A)){if(C!==null&&$h(A)){var z=C.start,K=C.end;if(K===void 0&&(K=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(K,A.value.length);else{var W=A.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var q=j.getSelection(),At=A.textContent.length,vt=Math.min(C.start,At),Jt=C.end===void 0?vt:Math.min(C.end,At);!q.extend&&vt>Jt&&(T=Jt,Jt=vt,vt=T);var L=Vg(A,vt),N=Vg(A,Jt);if(L&&N&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var k=W.createRange();k.setStart(L.node,L.offset),q.removeAllRanges(),vt>Jt?(q.addRange(k),q.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),q.addRange(k))}}}}for(W=[],q=A;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var X=W[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Rc=!!bd,wd=bd=null}finally{Kt=f,$.p=l,H.T=a}}e.current=s,He=2}}function Hv(){if(He===2){He=0;var e=Es,s=wa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=$.p;$.p=2;var f=Kt;Kt|=4;try{Ev(e,s.alternate,s)}finally{Kt=f,$.p=l,H.T=a}}He=3}}function Gv(){if(He===4||He===3){He=0,uu();var e=Es,s=wa,a=Ra,l=Iv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?He=5:(He=0,wa=Es=null,Yv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ts=null),Gr(a),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ce,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=H.T,f=$.p,$.p=2,H.T=null;try{for(var d=e.onRecoverableError,T=0;T<l.length;T++){var A=l[T];d(A.value,{componentStack:A.stack})}}finally{H.T=s,$.p=f}}(Ra&3)!==0&&mc(),fi(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===cd?ll++:(ll=0,cd=e):ll=0,ul(0)}}function Yv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,qo(s)))}function mc(e){return Fv(),Hv(),Gv(),Kv()}function Kv(){if(He!==5)return!1;var e=Es,s=ld;ld=0;var a=Gr(Ra),l=H.T,f=$.p;try{$.p=32>a?32:a,H.T=null,a=ud,ud=null;var d=Es,T=Ra;if(He=0,wa=Es=null,Ra=0,(Kt&6)!==0)throw Error(r(331));var A=Kt;if(Kt|=4,xv(d.current),Dv(d,d.current,T,a),Kt=A,ul(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ce,d)}catch{}return!0}finally{$.p=f,H.T=l,Yv(e,s)}}function Qv(e,s,a){s=Vn(a,s),s=qf(e.stateNode,s,2),e=hs(e,s,2),e!==null&&(wi(e,2),fi(e))}function te(e,s,a){if(e.tag===3)Qv(e,e,a);else for(;s!==null;){if(s.tag===3){Qv(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ts===null||!Ts.has(l))){e=Vn(a,e),a=Wy(2),l=hs(s,a,2),l!==null&&(Jy(a,l,s,e),wi(l,2),fi(l));break}}s=s.return}}function md(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new hb;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(sd=!0,f.add(a),e=gb.bind(null,e,s,a),s.then(e,e))}function gb(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(kt&a)===a&&(fe===4||fe===3&&(kt&62914560)===kt&&300>Sn()-od?(Kt&2)===0&&Da(e,0):rd|=a,ba===kt&&(ba=0)),fi(e)}function Xv(e,s){s===0&&(s=vo()),e=ua(e,s),e!==null&&(wi(e,s),fi(e))}function yb(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Xv(e,a)}function vb(e,s){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Xv(e,a)}function _b(e,s){return Ys(e,s)}var pc=null,Va=null,pd=!1,gc=!1,gd=!1,Dr=0;function fi(e){e!==Va&&e.next===null&&(Va===null?pc=Va=e:Va=Va.next=e),gc=!0,pd||(pd=!0,Eb())}function ul(e,s){if(!gd&&gc){gd=!0;do for(var a=!1,l=pc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Ze(42|e)+1)-1,d&=f&~(T&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Jv(l,d))}else d=kt,d=Hr(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ws(l,d)||(a=!0,Jv(l,d));l=l.next}while(a);gd=!1}}function Tb(){Zv()}function Zv(){gc=pd=!1;var e=0;Dr!==0&&(Vb()&&(e=Dr),Dr=0);for(var s=Sn(),a=null,l=pc;l!==null;){var f=l.next,d=$v(l,s);d===0?(l.next=null,a===null?pc=f:a.next=f,f===null&&(Va=a)):(a=l,(e!==0||(d&3)!==0)&&(gc=!0)),l=f}ul(e)}function $v(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var T=31-Ze(d),A=1<<T,C=f[T];C===-1?((A&a)===0||(A&l)!==0)&&(f[T]=go(A,s)):C<=s&&(e.expiredLanes|=A),d&=~A}if(s=ne,a=kt,a=Hr(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ks(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ws(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&Ks(l),Gr(a)){case 2:case 8:a=qr;break;case 32:a=Qs;break;case 268435456:a=Fr;break;default:a=Qs}return l=Wv.bind(null,e),a=Ys(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&Ks(l),e.callbackPriority=2,e.callbackNode=null,2}function Wv(e,s){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mc()&&e.callbackNode!==a)return null;var l=kt;return l=Hr(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ov(e,l,s),$v(e,Sn()),e.callbackNode!=null&&e.callbackNode===a?Wv.bind(null,e):null)}function Jv(e,s){if(mc())return null;Ov(e,s,!0)}function Eb(){Mb(function(){(Kt&6)!==0?Ys(mo,Tb):Zv()})}function yd(){return Dr===0&&(Dr=yo()),Dr}function t_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$r(""+e)}function e_(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Ab(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=t_((f[_e]||null).action),T=l.submitter;T&&(s=(s=T[_e]||null)?t_(s.formAction):T.getAttribute("formAction"),s!==null&&(d=s,T=null));var A=new Wr("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Dr!==0){var C=T?e_(f,T):new FormData(f);Uf(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=T?e_(f,T):new FormData(f),Uf(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var vd=0;vd<ef.length;vd++){var _d=ef[vd],Sb=_d.toLowerCase(),bb=_d[0].toUpperCase()+_d.slice(1);Hn(Sb,"on"+bb)}Hn(Og,"onAnimationEnd"),Hn(Pg,"onAnimationIteration"),Hn(Lg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(jS,"onTransitionRun"),Hn(qS,"onTransitionStart"),Hn(FS,"onTransitionCancel"),Hn(Ug,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function n_(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var T=l.length-1;0<=T;T--){var A=l[T],C=A.instance,z=A.currentTarget;if(A=A.listener,C!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=z;try{d(f)}catch(K){ic(K)}f.currentTarget=null,d=C}else for(T=0;T<l.length;T++){if(A=l[T],C=A.instance,z=A.currentTarget,A=A.listener,C!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=z;try{d(f)}catch(K){ic(K)}f.currentTarget=null,d=C}}}}function Ot(e,s){var a=s[Eo];a===void 0&&(a=s[Eo]=new Set);var l=e+"__bubble";a.has(l)||(i_(s,e,2,!1),a.add(l))}function Td(e,s,a){var l=0;s&&(l|=4),i_(a,e,l,s)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[yc]){e[yc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(wb.has(a)||Td(a,!1,e),Td(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[yc]||(s[yc]=!0,Td("selectionchange",!1,s))}}function i_(e,s,a,l){switch(D_(s)){case 2:var f=Wb;break;case 8:f=Jb;break;default:f=Pd}a=f.bind(null,s,a,e),f=void 0,!Dn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function Ad(e,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Ri(A),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){l=d=T;continue t}A=A.parentNode}}l=l.return}_u(function(){var z=d,K=Rn(a),W=[];t:{var j=Bg.get(e);if(j!==void 0){var q=Wr,At=e;switch(e){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":q=sa;break;case"focusin":At="focus",q=ea;break;case"focusout":At="blur",q=ea;break;case"beforeblur":case"afterblur":q=ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Du;break;case Og:case Pg:case Lg:q=na;break;case Ug:q=Vu;break;case"scroll":case"scrollend":q=Tu;break;case"wheel":q=ra;break;case"copy":case"cut":case"paste":q=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oo;break;case"toggle":case"beforetoggle":q=Mu}var vt=(s&4)!==0,Jt=!vt&&(e==="scroll"||e==="scrollend"),L=vt?j!==null?j+"Capture":null:j;vt=[];for(var N=z,k;N!==null;){var X=N;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||L===null||(X=ar(N,L),X!=null&&vt.push(hl(N,X,k))),Jt)break;N=N.return}0<vt.length&&(j=new q(j,At,null,a,K),W.push({event:j,listeners:vt}))}}if((s&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&a!==xi&&(At=a.relatedTarget||a.fromElement)&&(Ri(At)||At[bn]))break t;if((q||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,q?(At=a.relatedTarget||a.toElement,q=z,At=At?Ri(At):null,At!==null&&(Jt=u(At),vt=At.tag,At!==Jt||vt!==5&&vt!==27&&vt!==6)&&(At=null)):(q=null,At=z),q!==At)){if(vt=Cn,X="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Oo,X="onPointerLeave",L="onPointerEnter",N="pointer"),Jt=q==null?j:Jn(q),k=At==null?j:Jn(At),j=new vt(X,N+"leave",q,a,K),j.target=Jt,j.relatedTarget=k,X=null,Ri(K)===z&&(vt=new vt(L,N+"enter",At,a,K),vt.target=k,vt.relatedTarget=Jt,X=vt),Jt=X,q&&At)e:{for(vt=q,L=At,N=0,k=vt;k;k=xa(k))N++;for(k=0,X=L;X;X=xa(X))k++;for(;0<N-k;)vt=xa(vt),N--;for(;0<k-N;)L=xa(L),k--;for(;N--;){if(vt===L||L!==null&&vt===L.alternate)break e;vt=xa(vt),L=xa(L)}vt=null}else vt=null;q!==null&&s_(W,j,q,vt,!1),At!==null&&Jt!==null&&s_(W,Jt,At,vt,!0)}}t:{if(j=z?Jn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var mt=Sg;else if(Ve(j))if(bg)mt=BS;else{mt=LS;var It=PS}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Do(z.elementType)&&(mt=Sg):mt=US;if(mt&&(mt=mt(e,z))){Pi(W,mt,a,K);break t}It&&It(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&as(j,"number",j.value)}switch(It=z?Jn(z):window,e){case"focusin":(Ve(It)||It.contentEditable==="true")&&(aa=It,Wh=z,Uo=null);break;case"focusout":Uo=Wh=aa=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Ig(W,a,K);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Ig(W,a,K)}var pt;if(ai)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?G(e,a)&&(Tt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&a.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(pt=Vo()):(ni=K,os="value"in ni?ni.value:ni.textContent,Ut=!0)),It=vc(z,Tt),0<It.length&&(Tt=new Io(Tt,e,null,a,K),W.push({event:Tt,listeners:It}),pt?Tt.data=pt:(pt=ot(a),pt!==null&&(Tt.data=pt)))),(pt=y?Ce(e,a):Bt(e,a))&&(Tt=vc(z,"onBeforeInput"),0<Tt.length&&(It=new Io("onBeforeInput","beforeinput",null,a,K),W.push({event:It,listeners:Tt}),It.data=pt)),Ab(W,e,z,a,K)}n_(W,s)})}function hl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function vc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ar(e,a),f!=null&&l.unshift(hl(e,f,d)),f=ar(e,s),f!=null&&l.push(hl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function s_(e,s,a,l,f){for(var d=s._reactName,T=[];a!==null&&a!==l;){var A=a,C=A.alternate,z=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||z===null||(C=z,f?(z=ar(a,d),z!=null&&T.unshift(hl(a,z,C))):f||(z=ar(a,d),z!=null&&T.push(hl(a,z,C)))),a=a.return}T.length!==0&&e.push({event:s,listeners:T})}var Rb=/\r\n?/g,Db=/\u0000|\uFFFD/g;function r_(e){return(typeof e=="string"?e:""+e).replace(Rb,`
`).replace(Db,"")}function a_(e,s){return s=r_(s),r_(e)===s}function _c(){}function Wt(e,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&wn(e,""+l);break;case"className":ti(e,"class",l);break;case"tabIndex":ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,a,l);break;case"style":Ro(e,l,d);break;case"data":if(s!=="object"){ti(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$r(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Wt(e,s,"name",f.name,f,null),Wt(e,s,"formEncType",f.formEncType,f,null),Wt(e,s,"formMethod",f.formMethod,f,null),Wt(e,s,"formTarget",f.formTarget,f,null)):(Wt(e,s,"encType",f.encType,f,null),Wt(e,s,"method",f.method,f,null),Wt(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$r(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=_c);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=$r(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),rs(e,"popover",l);break;case"xlinkActuate":je(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gh.get(a)||a,rs(e,a,l))}}function Sd(e,s,a,l,f,d){switch(a){case"style":Ro(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=e[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):rs(e,a,l)}}}function Ge(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(e,s,d,T,a,null)}}f&&Wt(e,s,"srcSet",a.srcSet,a,null),l&&Wt(e,s,"src",a.src,a,null);return;case"input":Ot("invalid",e);var A=d=T=f=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":T=K;break;case"checked":C=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Wt(e,s,l,K,a,null)}}ir(e,d,A,C,z,T,f,!1),Zr(e);return;case"select":Ot("invalid",e),l=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:Wt(e,s,f,A,a,null)}s=d,a=T,e.multiple=!!l,s!=null?Vi(e,!!l,s,!1):a!=null&&Vi(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Wt(e,s,T,A,a,null)}sr(e,l,f,d),Zr(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,s,C,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<cl.length;l++)Ot(cl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(e,s,z,l,a,null)}return;default:if(Do(s)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Sd(e,s,K,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Wt(e,s,A,l,a,null))}function Cb(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,A=null,C=null,z=null,K=null;for(q in a){var W=a[q];if(a.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(q)||Wt(e,s,q,null,l,W)}}for(var j in l){var q=l[j];if(W=a[j],l.hasOwnProperty(j)&&(q!=null||W!=null))switch(j){case"type":d=q;break;case"name":f=q;break;case"checked":z=q;break;case"defaultChecked":K=q;break;case"value":T=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:q!==W&&Wt(e,s,j,q,l,W)}}pn(e,T,A,C,z,K,d,f);return;case"select":q=T=A=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(d)||Wt(e,s,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":j=d;break;case"defaultValue":A=d;break;case"multiple":T=d;default:d!==C&&Wt(e,s,f,d,l,C)}s=A,a=T,l=q,j!=null?Vi(e,!!a,j,!1):!!l!=!!a&&(s!=null?Vi(e,!!a,s,!0):Vi(e,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Wt(e,s,A,null,l,f)}for(T in l)if(f=l[T],d=a[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":j=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Wt(e,s,T,f,l,d)}Zt(e,j,q);return;case"option":for(var At in a)if(j=a[At],a.hasOwnProperty(At)&&j!=null&&!l.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:Wt(e,s,At,null,l,j)}for(C in l)if(j=l[C],q=a[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Wt(e,s,C,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)j=a[vt],a.hasOwnProperty(vt)&&j!=null&&!l.hasOwnProperty(vt)&&Wt(e,s,vt,null,l,j);for(z in l)if(j=l[z],q=a[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Wt(e,s,z,j,l,q)}return;default:if(Do(s)){for(var Jt in a)j=a[Jt],a.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&Sd(e,s,Jt,void 0,l,j);for(K in l)j=l[K],q=a[K],!l.hasOwnProperty(K)||j===q||j===void 0&&q===void 0||Sd(e,s,K,j,l,q);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&Wt(e,s,L,null,l,j);for(W in l)j=l[W],q=a[W],!l.hasOwnProperty(W)||j===q||j==null&&q==null||Wt(e,s,W,j,l,q)}var bd=null,wd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Rd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dd=null;function Vb(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(Ib)}:u_;function Ib(e){setTimeout(function(){throw e})}function Ss(e){return e==="head"}function h_(e,s){var a=s,l=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&fl(T.documentElement),a&2&&fl(T.body),a&4)for(a=T.head,fl(a),T=a.firstChild;T;){var A=T.nextSibling,C=T.nodeName;T[Js]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(f===0){e.removeChild(d),Tl(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Tl(s)}function Cd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Nb(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Js])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function Ob(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function Vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Pb(e,s){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return e}var xd=null;function f_(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return e;s--}else a==="/$"&&s++}e=e.previousSibling}return null}function d_(e,s,a){switch(s=Tc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function fl(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);ss(e)}var Pn=new Map,m_=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=$.d;$.d={f:Lb,r:Ub,D:Bb,C:kb,L:zb,m:jb,X:Fb,S:qb,M:Hb};function Lb(){var e=Qi.f(),s=fc();return e||s}function Ub(e){var s=Wn(e);s!==null&&s.tag===5&&s.type==="form"?Oy(s):Qi.r(e)}var Ma=typeof document>"u"?null:document;function p_(e,s,a){var l=Ma;if(l&&typeof s=="string"&&s){var f=Te(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),m_.has(f)||(m_.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Ge(s,"link",e),me(s),l.head.appendChild(s)))}}function Bb(e){Qi.D(e),p_("dns-prefetch",e,null)}function kb(e,s){Qi.C(e,s),p_("preconnect",e,s)}function zb(e,s,a){Qi.L(e,s,a);var l=Ma;if(l&&e&&s){var f='link[rel="preload"][as="'+Te(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Te(a.imageSizes)+'"]')):f+='[href="'+Te(e)+'"]';var d=f;switch(s){case"style":d=Ia(e);break;case"script":d=Na(e)}Pn.has(d)||(e=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Pn.set(d,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(dl(d))||s==="script"&&l.querySelector(ml(d))||(s=l.createElement("link"),Ge(s,"link",e),me(s),l.head.appendChild(s)))}}function jb(e,s){Qi.m(e,s);var a=Ma;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Na(e)}if(!Pn.has(d)&&(e=v({rel:"modulepreload",href:e},s),Pn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(d)))return}l=a.createElement("link"),Ge(l,"link",e),me(l),a.head.appendChild(l)}}}function qb(e,s,a){Qi.S(e,s,a);var l=Ma;if(l&&e){var f=sn(l).hoistableStyles,d=Ia(e);s=s||"default";var T=f.get(d);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(dl(d)))A.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Pn.get(d))&&Md(e,a);var C=T=l.createElement("link");me(C),Ge(C,"link",e),C._p=new Promise(function(z,K){C.onload=z,C.onerror=K}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ac(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(d,T)}}}function Fb(e,s){Qi.X(e,s);var a=Ma;if(a&&e){var l=sn(a).hoistableScripts,f=Na(e),d=l.get(f);d||(d=a.querySelector(ml(f)),d||(e=v({src:e,async:!0},s),(s=Pn.get(f))&&Id(e,s),d=a.createElement("script"),me(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Hb(e,s){Qi.M(e,s);var a=Ma;if(a&&e){var l=sn(a).hoistableScripts,f=Na(e),d=l.get(f);d||(d=a.querySelector(ml(f)),d||(e=v({src:e,async:!0,type:"module"},s),(s=Pn.get(f))&&Id(e,s),d=a.createElement("script"),me(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function g_(e,s,a,l){var f=(f=Rt.current)?Ec(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ia(a.href),a=sn(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ia(a.href);var d=sn(f).hoistableStyles,T=d.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,T),(d=f.querySelector(dl(e)))&&!d._p&&(T.instance=d,T.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||Gb(f,e,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Na(a),a=sn(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ia(e){return'href="'+Te(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Gb(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Ge(s,"link",a),me(s),e.head.appendChild(s))}function Na(e){return'[src="'+Te(e)+'"]'}function ml(e){return"script[async]"+e}function v_(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+Te(a.href)+'"]');if(l)return s.instance=l,me(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),me(l),Ge(l,"style",f),Ac(l,a.precedence,e),s.instance=l;case"stylesheet":f=Ia(a.href);var d=e.querySelector(dl(f));if(d)return s.state.loading|=4,s.instance=d,me(d),d;l=y_(a),(f=Pn.get(f))&&Md(l,f),d=(e.ownerDocument||e).createElement("link"),me(d);var T=d;return T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),Ge(d,"link",l),s.state.loading|=4,Ac(d,a.precedence,e),s.instance=d;case"script":return d=Na(a.src),(f=e.querySelector(ml(d)))?(s.instance=f,me(f),f):(l=a,(f=Pn.get(d))&&(l=v({},a),Id(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),me(f),Ge(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ac(l,a.precedence,e));return s.instance}function Ac(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Md(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Id(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Sc=null;function __(e,s,a){if(Sc===null){var l=new Map,f=Sc=new Map;f.set(a,l)}else f=Sc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Js]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(s)||"";T=e+T;var A=l.get(T);A?A.push(d):l.set(T,[d])}}return l}function T_(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Yb(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var pl=null;function Kb(){}function Qb(e,s,a){if(pl===null)throw Error(r(475));var l=pl;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ia(a.href),d=e.querySelector(dl(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=bc.bind(l),e.then(l,l)),s.state.loading|=4,s.instance=d,me(d);return}d=e.ownerDocument||e,a=y_(a),(f=Pn.get(f))&&Md(a,f),d=d.createElement("link"),me(d);var T=d;T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),Ge(d,"link",a),s.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,e),(e=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=bc.bind(l),e.addEventListener("load",s),e.addEventListener("error",s))}}function Xb(){if(pl===null)throw Error(r(475));var e=pl;return e.stylesheets&&e.count===0&&Nd(e,e.stylesheets),0<e.count?function(s){var a=setTimeout(function(){if(e.stylesheets&&Nd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(a)}}:null}function bc(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function Nd(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,s.forEach(Zb,e),wc=null,bc.call(e))}function Zb(e,s){if(!(s.state.loading&4)){var a=wc.get(e);if(a)var l=a.get(null);else{a=new Map,wc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=s.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,f),a.set(T,f),this.count++,l=bc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var gl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function $b(e,s,a,l,f,d,T,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function A_(e,s,a,l,f,d,T,A,C,z,K,W){return e=new $b(e,s,a,T,A,C,z,W),s=1,d===!0&&(s|=24),d=yn(3,null,null,s),e.current=d,d.stateNode=e,s=mf(),s.refCount++,e.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},vf(d),e}function S_(e){return e?(e=ca,e):ca}function b_(e,s,a,l,f,d){f=S_(f),l.context===null?l.context=f:l.pendingContext=f,l=cs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=hs(e,l,s),a!==null&&(An(a,e,s),Yo(a,e,s))}function w_(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Od(e,s){w_(e,s),(e=e.alternate)&&w_(e,s)}function R_(e){if(e.tag===13){var s=ua(e,67108864);s!==null&&An(s,e,67108864),Od(e,67108864)}}var Rc=!0;function Wb(e,s,a,l){var f=H.T;H.T=null;var d=$.p;try{$.p=2,Pd(e,s,a,l)}finally{$.p=d,H.T=f}}function Jb(e,s,a,l){var f=H.T;H.T=null;var d=$.p;try{$.p=8,Pd(e,s,a,l)}finally{$.p=d,H.T=f}}function Pd(e,s,a,l){if(Rc){var f=Ld(l);if(f===null)Ad(e,s,l,Dc,a),C_(e,l);else if(ew(f,e,s,a,l))l.stopPropagation();else if(C_(e,l),s&4&&-1<tw.indexOf(e)){for(;f!==null;){var d=Wn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=jn(d.pendingLanes);if(T!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var C=1<<31-Ze(T);A.entanglements[1]|=C,T&=~C}fi(d),(Kt&6)===0&&(cc=Sn()+500,ul(0))}}break;case 13:A=ua(d,2),A!==null&&An(A,d,2),fc(),Od(d,2)}if(d=Ld(l),d===null&&Ad(e,s,l,Dc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Ad(e,s,l,null,a)}}function Ld(e){return e=Rn(e),Ud(e)}var Dc=null;function Ud(e){if(Dc=null,e=Ri(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=h(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Dc=e,null}function D_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kh()){case mo:return 2;case qr:return 8;case Qs:case zh:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Bd=!1,bs=null,ws=null,Rs=null,yl=new Map,vl=new Map,Ds=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,s){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":yl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(s.pointerId)}}function _l(e,s,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Wn(s),s!==null&&R_(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function ew(e,s,a,l,f){switch(s){case"focusin":return bs=_l(bs,e,s,a,l,f),!0;case"dragenter":return ws=_l(ws,e,s,a,l,f),!0;case"mouseover":return Rs=_l(Rs,e,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return yl.set(d,_l(yl.get(d)||null,e,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,vl.set(d,_l(vl.get(d)||null,e,s,a,l,f)),!0}return!1}function V_(e){var s=Ri(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){e.blockedOn=s,fu(e.priority,function(){if(a.tag===13){var l=En();l=es(l);var f=ua(a,l);f!==null&&An(f,a,l),Od(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);xi=l,a.target.dispatchEvent(l),xi=null}else return s=Wn(a),s!==null&&R_(s),e.blockedOn=a,!1;s.shift()}return!0}function x_(e,s,a){Cc(e)&&a.delete(s)}function nw(){Bd=!1,bs!==null&&Cc(bs)&&(bs=null),ws!==null&&Cc(ws)&&(ws=null),Rs!==null&&Cc(Rs)&&(Rs=null),yl.forEach(x_),vl.forEach(x_)}function Vc(e,s){e.blockedOn===s&&(e.blockedOn=null,Bd||(Bd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nw)))}var xc=null;function M_(e){xc!==e&&(xc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Ud(l||a)===null)continue;break}var d=Wn(a);d!==null&&(e.splice(s,3),s-=3,Uf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Tl(e){function s(C){return Vc(C,e)}bs!==null&&Vc(bs,e),ws!==null&&Vc(ws,e),Rs!==null&&Vc(Rs,e),yl.forEach(s),vl.forEach(s);for(var a=0;a<Ds.length;a++){var l=Ds[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ds.length&&(a=Ds[0],a.blockedOn===null);)V_(a),a.blockedOn===null&&Ds.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],T=f[_e]||null;if(typeof d=="function")T||M_(a);else if(T){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[_e]||null)A=T.formAction;else if(Ud(f)!==null)continue}else A=T.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),M_(a)}}}function kd(e){this._internalRoot=e}Mc.prototype.render=kd.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=En();b_(a,l,e,s,null,null)},Mc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;b_(e.current,2,null,e,null,null),fc(),s[bn]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var s=ns();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Ds.length&&s!==0&&s<Ds[a].priority;a++);Ds.splice(a,0,e),a===0&&V_(e)}};var I_=t.version;if(I_!=="19.1.1")throw Error(r(527,I_,"19.1.1"));$.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var iw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{ce=Ic.inject(iw),Yt=Ic}catch{}}return Al.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=Qy,d=Xy,T=Zy,A=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=A_(e,1,!1,null,null,a,l,f,d,T,A,null),e[bn]=s.current,Ed(e),new kd(s)},Al.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=Qy,T=Xy,A=Zy,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),s=A_(e,1,!0,s,a??null,l,f,d,T,A,C,z),s.context=S_(null),a=s.current,l=En(),l=es(l),f=cs(l),f.callback=null,hs(a,f,l),a=l,s.current.lanes=a,wi(s,a),fi(s),e[bn]=s.current,Ed(e),new Mc(s)},Al.version="19.1.1",Al}var q_;function mw(){if(q_)return qd.exports;q_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qd.exports=dw(),qd.exports}var pw=mw();const gw=pE(pw),yw=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},vw=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],h=n[i++],m=n[i++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],h=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,m=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(S=64)),r.push(i[v],i[E],i[S],i[M])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(gE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):vw(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const E=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||E==null)throw new _w;const S=u<<2|m>>4;if(r.push(S),g!==64){const M=m<<4&240|g>>2;if(r.push(M),E!==64){const U=g<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tw=function(n){const t=gE(n);return yE.encodeByteArray(t,!0)},Jc=function(n){return Tw(n).replace(/\./g,"")},Ew=function(n){try{return yE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=()=>Aw().__FIREBASE_DEFAULTS__,bw=()=>{if(typeof process>"u"||typeof F_>"u")return;const n=F_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ww=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Ew(n[1]);return t&&JSON.parse(t)},up=()=>{try{return yw()||Sw()||bw()||ww()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rw=n=>up()?.emulatorHosts?.[n],Dw=n=>{const t=Rw(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},vE=()=>up()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(h)),""].join(".")}const Cl={};function Mw(){const n={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?n.emulator.push(t):n.prod.push(t);return n}function Iw(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let H_=!1;function Nw(n,t){if(typeof window>"u"||typeof document>"u"||!cp(window.location.host)||Cl[n]===t||Cl[n]||H_)return;Cl[n]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=Mw().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{H_=!0,h()},S}function v(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=Iw(r),M=i("text"),U=document.getElementById(M)||document.createElement("span"),Y=i("learnmore"),F=document.getElementById(Y)||document.createElement("a"),et=i("preprendIcon"),nt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;m(Q),v(F,Y);const ht=g();p(nt,et),Q.append(nt,U,F,ht),document.body.appendChild(Q)}u?(U.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){const n=up()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lw(){return!Pw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uw(){try{return typeof indexedDB=="object"}catch{return!1}}function Bw(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="FirebaseError";class io extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=kw,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_E.prototype.create)}}class _E{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?zw(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new io(o,m,r)}}function zw(n,t){return n.replace(jw,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const jw=/\{\$([^}]+)}/g;function th(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],h=t[o];if(G_(u)&&G_(h)){if(!th(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function G_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n){return n&&n._delegate?n._delegate:n}class Bl{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Cw;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Hw(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fw(n){return n===Vr?void 0:n}function Hw(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new qw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const Yw={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},Kw=jt.INFO,Qw={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},Xw=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=Qw[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class TE{constructor(t){this.name=t,this._logLevel=Kw,this._logHandler=Xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const Zw=(n,t)=>t.some(i=>n instanceof i);let Y_,K_;function $w(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ww(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,_m=new WeakMap,AE=new WeakMap,Yd=new WeakMap,hp=new WeakMap;function Jw(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Ms(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&EE.set(i,n)}).catch(()=>{}),hp.set(t,n),t}function tR(n){if(_m.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});_m.set(n,t)}let Tm={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return _m.get(n);if(t==="objectStoreNames")return n.objectStoreNames||AE.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ms(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function eR(n){Tm=n(Tm)}function nR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Kd(this),t,...i);return AE.set(r,t.sort?t.sort():[t]),Ms(r)}:Ww().includes(n)?function(...t){return n.apply(Kd(this),t),Ms(EE.get(this))}:function(...t){return Ms(n.apply(Kd(this),t))}}function iR(n){return typeof n=="function"?nR(n):(n instanceof IDBTransaction&&tR(n),Zw(n,$w())?new Proxy(n,Tm):n)}function Ms(n){if(n instanceof IDBRequest)return Jw(n);if(Yd.has(n))return Yd.get(n);const t=iR(n);return t!==n&&(Yd.set(n,t),hp.set(t,n)),t}const Kd=n=>hp.get(n);function sR(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(n,t),m=Ms(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Ms(h.result),p.oldVersion,p.newVersion,Ms(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const rR=["get","getKey","getAll","getAllKeys","count"],aR=["put","add","delete","clear"],Qd=new Map;function Q_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Qd.get(t))return Qd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=aR.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||rR.includes(i)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return Qd.set(t,u),u}eR(n=>({...n,get:(t,i,r)=>Q_(t,i)||n.get(t,i,r),has:(t,i)=>!!Q_(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(lR(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function lR(n){return n.getComponent()?.type==="VERSION"}const Em="@firebase/app",X_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new TE("@firebase/app"),uR="@firebase/app-compat",cR="@firebase/analytics-compat",hR="@firebase/analytics",fR="@firebase/app-check-compat",dR="@firebase/app-check",mR="@firebase/auth",pR="@firebase/auth-compat",gR="@firebase/database",yR="@firebase/data-connect",vR="@firebase/database-compat",_R="@firebase/functions",TR="@firebase/functions-compat",ER="@firebase/installations",AR="@firebase/installations-compat",SR="@firebase/messaging",bR="@firebase/messaging-compat",wR="@firebase/performance",RR="@firebase/performance-compat",DR="@firebase/remote-config",CR="@firebase/remote-config-compat",VR="@firebase/storage",xR="@firebase/storage-compat",MR="@firebase/firestore",IR="@firebase/ai",NR="@firebase/firestore-compat",OR="firebase",PR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",LR={[Em]:"fire-core",[uR]:"fire-core-compat",[hR]:"fire-analytics",[cR]:"fire-analytics-compat",[dR]:"fire-app-check",[fR]:"fire-app-check-compat",[mR]:"fire-auth",[pR]:"fire-auth-compat",[gR]:"fire-rtdb",[yR]:"fire-data-connect",[vR]:"fire-rtdb-compat",[_R]:"fire-fn",[TR]:"fire-fn-compat",[ER]:"fire-iid",[AR]:"fire-iid-compat",[SR]:"fire-fcm",[bR]:"fire-fcm-compat",[wR]:"fire-perf",[RR]:"fire-perf-compat",[DR]:"fire-rc",[CR]:"fire-rc-compat",[VR]:"fire-gcs",[xR]:"fire-gcs-compat",[MR]:"fire-fst",[NR]:"fire-fst-compat",[IR]:"fire-vertex","fire-js":"fire-js",[OR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,UR=new Map,Sm=new Map;function Z_(n,t){try{n.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function nh(n){const t=n.name;if(Sm.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;Sm.set(t,n);for(const i of eh.values())Z_(i,n);for(const i of UR.values())Z_(i,n);return!0}function BR(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function kR(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new _E("app","Firebase",zR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=PR;function SE(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:Am,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Is.create("bad-app-name",{appName:String(o)});if(i||(i=vE()),!i)throw Is.create("no-options");const u=eh.get(o);if(u){if(th(i,u.options)&&th(r,u.config))return u;throw Is.create("duplicate-app",{appName:o})}const h=new Gw(o);for(const p of Sm.values())h.addComponent(p);const m=new jR(i,r,h);return eh.set(o,m),m}function FR(n=Am){const t=eh.get(n);if(!t&&n===Am&&vE())return SE();if(!t)throw Is.create("no-app",{appName:n});return t}function Fa(n,t,i){let r=LR[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(h.join(" "));return}nh(new Bl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firebase-heartbeat-database",GR=1,kl="firebase-heartbeat-store";let Xd=null;function bE(){return Xd||(Xd=sR(HR,GR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),Xd}async function YR(n){try{const i=(await bE()).transaction(kl),r=await i.objectStore(kl).get(wE(n));return await i.done,r}catch(t){if(t instanceof io)Xi.warn(t.message);else{const i=Is.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(i.message)}}}async function $_(n,t){try{const r=(await bE()).transaction(kl,"readwrite");await r.objectStore(kl).put(t,wE(n)),await r.done}catch(i){if(i instanceof io)Xi.warn(i.message);else{const r=Is.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(r.message)}}}function wE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=1024,QR=30;class XR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $R(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>QR){const o=WR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:i,unsentEntries:r}=ZR(this._heartbeatsCache.heartbeats),o=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Xi.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function ZR(n,t=KR){const i=[];let r=n.slice();for(const o of n){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),J_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),J_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $R{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uw()?Bw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return $_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function J_(n){return Jc(JSON.stringify({version:2,heartbeats:n})).length}function WR(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n){nh(new Bl("platform-logger",t=>new oR(t),"PRIVATE")),nh(new Bl("heartbeat",t=>new XR(t),"PRIVATE")),Fa(Em,X_,n),Fa(Em,X_,"esm2020"),Fa("fire-js","")}JR("");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,RE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function D(){}D.prototype=w.prototype,x.D=w.prototype,x.prototype=new D,x.prototype.constructor=x,x.C=function(I,O,P){for(var R=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)R[wt-2]=arguments[wt];return w.prototype[O].apply(I,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,D){D||(D=0);var I=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)I[O]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(O=0;16>O;++O)I[O]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=x.g[0],D=x.g[1],O=x.g[2];var P=x.g[3],R=w+(P^D&(O^P))+I[0]+3614090360&4294967295;w=D+(R<<7&4294967295|R>>>25),R=P+(O^w&(D^O))+I[1]+3905402710&4294967295,P=w+(R<<12&4294967295|R>>>20),R=O+(D^P&(w^D))+I[2]+606105819&4294967295,O=P+(R<<17&4294967295|R>>>15),R=D+(w^O&(P^w))+I[3]+3250441966&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(P^D&(O^P))+I[4]+4118548399&4294967295,w=D+(R<<7&4294967295|R>>>25),R=P+(O^w&(D^O))+I[5]+1200080426&4294967295,P=w+(R<<12&4294967295|R>>>20),R=O+(D^P&(w^D))+I[6]+2821735955&4294967295,O=P+(R<<17&4294967295|R>>>15),R=D+(w^O&(P^w))+I[7]+4249261313&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(P^D&(O^P))+I[8]+1770035416&4294967295,w=D+(R<<7&4294967295|R>>>25),R=P+(O^w&(D^O))+I[9]+2336552879&4294967295,P=w+(R<<12&4294967295|R>>>20),R=O+(D^P&(w^D))+I[10]+4294925233&4294967295,O=P+(R<<17&4294967295|R>>>15),R=D+(w^O&(P^w))+I[11]+2304563134&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(P^D&(O^P))+I[12]+1804603682&4294967295,w=D+(R<<7&4294967295|R>>>25),R=P+(O^w&(D^O))+I[13]+4254626195&4294967295,P=w+(R<<12&4294967295|R>>>20),R=O+(D^P&(w^D))+I[14]+2792965006&4294967295,O=P+(R<<17&4294967295|R>>>15),R=D+(w^O&(P^w))+I[15]+1236535329&4294967295,D=O+(R<<22&4294967295|R>>>10),R=w+(O^P&(D^O))+I[1]+4129170786&4294967295,w=D+(R<<5&4294967295|R>>>27),R=P+(D^O&(w^D))+I[6]+3225465664&4294967295,P=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(P^w))+I[11]+643717713&4294967295,O=P+(R<<14&4294967295|R>>>18),R=D+(P^w&(O^P))+I[0]+3921069994&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^P&(D^O))+I[5]+3593408605&4294967295,w=D+(R<<5&4294967295|R>>>27),R=P+(D^O&(w^D))+I[10]+38016083&4294967295,P=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(P^w))+I[15]+3634488961&4294967295,O=P+(R<<14&4294967295|R>>>18),R=D+(P^w&(O^P))+I[4]+3889429448&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^P&(D^O))+I[9]+568446438&4294967295,w=D+(R<<5&4294967295|R>>>27),R=P+(D^O&(w^D))+I[14]+3275163606&4294967295,P=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(P^w))+I[3]+4107603335&4294967295,O=P+(R<<14&4294967295|R>>>18),R=D+(P^w&(O^P))+I[8]+1163531501&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(O^P&(D^O))+I[13]+2850285829&4294967295,w=D+(R<<5&4294967295|R>>>27),R=P+(D^O&(w^D))+I[2]+4243563512&4294967295,P=w+(R<<9&4294967295|R>>>23),R=O+(w^D&(P^w))+I[7]+1735328473&4294967295,O=P+(R<<14&4294967295|R>>>18),R=D+(P^w&(O^P))+I[12]+2368359562&4294967295,D=O+(R<<20&4294967295|R>>>12),R=w+(D^O^P)+I[5]+4294588738&4294967295,w=D+(R<<4&4294967295|R>>>28),R=P+(w^D^O)+I[8]+2272392833&4294967295,P=w+(R<<11&4294967295|R>>>21),R=O+(P^w^D)+I[11]+1839030562&4294967295,O=P+(R<<16&4294967295|R>>>16),R=D+(O^P^w)+I[14]+4259657740&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^P)+I[1]+2763975236&4294967295,w=D+(R<<4&4294967295|R>>>28),R=P+(w^D^O)+I[4]+1272893353&4294967295,P=w+(R<<11&4294967295|R>>>21),R=O+(P^w^D)+I[7]+4139469664&4294967295,O=P+(R<<16&4294967295|R>>>16),R=D+(O^P^w)+I[10]+3200236656&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^P)+I[13]+681279174&4294967295,w=D+(R<<4&4294967295|R>>>28),R=P+(w^D^O)+I[0]+3936430074&4294967295,P=w+(R<<11&4294967295|R>>>21),R=O+(P^w^D)+I[3]+3572445317&4294967295,O=P+(R<<16&4294967295|R>>>16),R=D+(O^P^w)+I[6]+76029189&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(D^O^P)+I[9]+3654602809&4294967295,w=D+(R<<4&4294967295|R>>>28),R=P+(w^D^O)+I[12]+3873151461&4294967295,P=w+(R<<11&4294967295|R>>>21),R=O+(P^w^D)+I[15]+530742520&4294967295,O=P+(R<<16&4294967295|R>>>16),R=D+(O^P^w)+I[2]+3299628645&4294967295,D=O+(R<<23&4294967295|R>>>9),R=w+(O^(D|~P))+I[0]+4096336452&4294967295,w=D+(R<<6&4294967295|R>>>26),R=P+(D^(w|~O))+I[7]+1126891415&4294967295,P=w+(R<<10&4294967295|R>>>22),R=O+(w^(P|~D))+I[14]+2878612391&4294967295,O=P+(R<<15&4294967295|R>>>17),R=D+(P^(O|~w))+I[5]+4237533241&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~P))+I[12]+1700485571&4294967295,w=D+(R<<6&4294967295|R>>>26),R=P+(D^(w|~O))+I[3]+2399980690&4294967295,P=w+(R<<10&4294967295|R>>>22),R=O+(w^(P|~D))+I[10]+4293915773&4294967295,O=P+(R<<15&4294967295|R>>>17),R=D+(P^(O|~w))+I[1]+2240044497&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~P))+I[8]+1873313359&4294967295,w=D+(R<<6&4294967295|R>>>26),R=P+(D^(w|~O))+I[15]+4264355552&4294967295,P=w+(R<<10&4294967295|R>>>22),R=O+(w^(P|~D))+I[6]+2734768916&4294967295,O=P+(R<<15&4294967295|R>>>17),R=D+(P^(O|~w))+I[13]+1309151649&4294967295,D=O+(R<<21&4294967295|R>>>11),R=w+(O^(D|~P))+I[4]+4149444226&4294967295,w=D+(R<<6&4294967295|R>>>26),R=P+(D^(w|~O))+I[11]+3174756917&4294967295,P=w+(R<<10&4294967295|R>>>22),R=O+(w^(P|~D))+I[2]+718787259&4294967295,O=P+(R<<15&4294967295|R>>>17),R=D+(P^(O|~w))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+P&4294967295}r.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var D=w-this.blockSize,I=this.B,O=this.h,P=0;P<w;){if(O==0)for(;P<=D;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<w;)if(I[O++]=x.charCodeAt(P++),O==this.blockSize){o(this,I),O=0;break}}else for(;P<w;)if(I[O++]=x[P++],O==this.blockSize){o(this,I),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var D=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=D&255,D/=256;for(this.u(x),x=Array(16),w=D=0;4>w;++w)for(var I=0;32>I;I+=8)x[D++]=this.g[w]>>>I&255;return x};function u(x,w){var D=m;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=w(x)}function h(x,w){this.h=w;for(var D=[],I=!0,O=x.length-1;0<=O;O--){var P=x[O]|0;I&&P==w||(D[O]=P,I=!1)}this.g=D}var m={};function p(x){return-128<=x&&128>x?u(x,function(w){return new h([w|0],0>w?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return F(g(-x));for(var w=[],D=1,I=0;x>=D;I++)w[I]=x/D|0,D*=4294967296;return new h(w,0)}function v(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return F(v(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(w,8)),I=E,O=0;O<x.length;O+=8){var P=Math.min(8,x.length-O),R=parseInt(x.substring(O,O+P),w);8>P?(P=g(Math.pow(w,P)),I=I.j(P).add(g(R))):(I=I.j(D),I=I.add(g(R)))}return I}var E=p(0),S=p(1),M=p(16777216);n=h.prototype,n.m=function(){if(Y(this))return-F(this).m();for(var x=0,w=1,D=0;D<this.g.length;D++){var I=this.i(D);x+=(0<=I?I:4294967296+I)*w,w*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(Y(this))return"-"+F(this).toString(x);for(var w=g(Math.pow(x,6)),D=this,I="";;){var O=ht(D,w).g;D=et(D,O.j(w));var P=((0<D.g.length?D.g[0]:D.h)>>>0).toString(x);if(D=O,U(D))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Y(x){return x.h==-1}n.l=function(x){return x=et(this,x),Y(x)?-1:U(x)?0:1};function F(x){for(var w=x.g.length,D=[],I=0;I<w;I++)D[I]=~x.g[I];return new h(D,~x.h).add(S)}n.abs=function(){return Y(this)?F(this):this},n.add=function(x){for(var w=Math.max(this.g.length,x.g.length),D=[],I=0,O=0;O<=w;O++){var P=I+(this.i(O)&65535)+(x.i(O)&65535),R=(P>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);I=R>>>16,P&=65535,R&=65535,D[O]=R<<16|P}return new h(D,D[D.length-1]&-2147483648?-1:0)};function et(x,w){return x.add(F(w))}n.j=function(x){if(U(this)||U(x))return E;if(Y(this))return Y(x)?F(this).j(F(x)):F(F(this).j(x));if(Y(x))return F(this.j(F(x)));if(0>this.l(M)&&0>x.l(M))return g(this.m()*x.m());for(var w=this.g.length+x.g.length,D=[],I=0;I<2*w;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<x.g.length;O++){var P=this.i(I)>>>16,R=this.i(I)&65535,wt=x.i(O)>>>16,bt=x.i(O)&65535;D[2*I+2*O]+=R*bt,nt(D,2*I+2*O),D[2*I+2*O+1]+=P*bt,nt(D,2*I+2*O+1),D[2*I+2*O+1]+=R*wt,nt(D,2*I+2*O+1),D[2*I+2*O+2]+=P*wt,nt(D,2*I+2*O+2)}for(I=0;I<w;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=w;I<2*w;I++)D[I]=0;return new h(D,0)};function nt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function Q(x,w){this.g=x,this.h=w}function ht(x,w){if(U(w))throw Error("division by zero");if(U(x))return new Q(E,E);if(Y(x))return w=ht(F(x),w),new Q(F(w.g),F(w.h));if(Y(w))return w=ht(x,F(w)),new Q(F(w.g),w.h);if(30<x.g.length){if(Y(x)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var D=S,I=w;0>=I.l(x);)D=st(D),I=st(I);var O=ct(D,1),P=ct(I,1);for(I=ct(I,2),D=ct(D,2);!U(I);){var R=P.add(I);0>=R.l(x)&&(O=O.add(D),P=R),I=ct(I,1),D=ct(D,1)}return w=et(x,O.j(w)),new Q(O,w)}for(O=E;0<=x.l(w);){for(D=Math.max(1,Math.floor(x.m()/w.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=g(D),R=P.j(w);Y(R)||0<R.l(x);)D-=I,P=g(D),R=P.j(w);U(P)&&(P=S),O=O.add(P),x=et(x,R)}return new Q(O,x)}n.A=function(x){return ht(this,x).h},n.and=function(x){for(var w=Math.max(this.g.length,x.g.length),D=[],I=0;I<w;I++)D[I]=this.i(I)&x.i(I);return new h(D,this.h&x.h)},n.or=function(x){for(var w=Math.max(this.g.length,x.g.length),D=[],I=0;I<w;I++)D[I]=this.i(I)|x.i(I);return new h(D,this.h|x.h)},n.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),D=[],I=0;I<w;I++)D[I]=this.i(I)^x.i(I);return new h(D,this.h^x.h)};function st(x){for(var w=x.g.length+1,D=[],I=0;I<w;I++)D[I]=x.i(I)<<1|x.i(I-1)>>>31;return new h(D,x.h)}function ct(x,w){var D=w>>5;w%=32;for(var I=x.g.length-D,O=[],P=0;P<I;P++)O[P]=0<w?x.i(P+D)>>>w|x.i(P+D+1)<<32-w:x.i(P+D);return new h(O,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Ns=h}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DE,bl,CE,Fc,bm,VE,xE,ME;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(c,y){if(y)t:{var _=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break t;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function E(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,G){for(var ot=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ot[Ut-2]=arguments[Ut];return y.prototype[B].apply(b,ot)}}function Y(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const B=c.length||0,G=b.length||0;c.length=B+G;for(let ot=0;ot<G;ot++)c[B+ot]=b[ot]}else c.push(b)}}class et{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function nt(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ht(c){return ht[" "](c),c}ht[" "]=function(){};var st=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ct(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let G=0;G<D.length;G++)_=D[G],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function O(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function R(){var c=_t;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class wt{constructor(){this.h=this.g=null}add(y,_){const b=bt.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var bt=new et(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $,rt=!1,_t=new wt,V=()=>{const c=m.Promise.resolve(void 0);$=()=>{c.then(Z)}};var Z=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){P(_)}var y=bt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}rt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Mt(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(st){t:{try{ht(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Rt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Mt.aa.h.call(this)}}U(Mt,it);var Rt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),ee=0;function Zn(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++ee,this.da=this.fa=!1}function ts(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Si(c){this.src=c,this.g={},this.h=0}Si.prototype.add=function(c,y,_,b,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ot=Ys(c,y,b,B);return-1<ot?(y=c[ot],_||(y.fa=!1)):(y=new Zn(y,this.src,G,!!b,B),y.fa=_,c.push(y)),y};function Gs(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),G;(G=0<=B)&&Array.prototype.splice.call(b,B,1),G&&(ts(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ys(c,y,_,b){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==b)return B}return-1}var Ks="closure_lm_"+(1e6*Math.random()|0),fo={};function uu(c,y,_,b,B){if(Array.isArray(y)){for(var G=0;G<y.length;G++)uu(c,y[G],_,b,B);return null}return _=cu(_),c&&c[Ne]?c.K(y,_,g(b)?!!b.capture:!1,B):Sn(c,y,_,!1,b,B)}function Sn(c,y,_,b,B,G){if(!y)throw Error("Invalid event type");var ot=g(B)?!!B.capture:!!B,Ut=Fr(c);if(Ut||(c[Ks]=Ut=new Si(c)),_=Ut.add(y,_,b,ot,G),_.proxy)return _;if(b=kh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)yt||(B=ot),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(Qs(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function kh(){function c(_){return y.call(c.src,c.listener,_)}const y=zh;return c}function mo(c,y,_,b,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)mo(c,y[G],_,b,B);else b=g(b)?!!b.capture:!!b,_=cu(_),c&&c[Ne]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=Ys(G,_,b,B),-1<_&&(ts(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=Fr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ys(y,_,b,B)),(_=-1<c?y[c]:null)&&qr(_))}function qr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ne])Gs(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(Qs(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Fr(y))?(Gs(_,c),_.h==0&&(_.src=null,y[Ks]=null)):ts(c)}}}function Qs(c){return c in fo?fo[c]:fo[c]="on"+c}function zh(c,y){if(c.da)c=!0;else{y=new Mt(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&qr(c),c=_.call(b,y)}return c}function Fr(c){return c=c[Ks],c instanceof Si?c:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function cu(c){return typeof c=="function"?c:(c[po]||(c[po]=function(y){return c.handleEvent(y)}),c[po])}function ce(){at.call(this),this.i=new Si(this),this.M=this,this.F=null}U(ce,at),ce.prototype[Ne]=!0,ce.prototype.removeEventListener=function(c,y,_,b){mo(this,c,y,_,b)};function Yt(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var B=y;y=new it(b,c),I(y,B)}if(B=!0,_)for(var G=_.length-1;0<=G;G--){var ot=y.g=_[G];B=mn(ot,b,!0,y)&&B}if(ot=y.g=c,B=mn(ot,b,!0,y)&&B,B=mn(ot,b,!1,y)&&B,_)for(G=0;G<_.length;G++)ot=y.g=_[G],B=mn(ot,b,!1,y)&&B}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)ts(_[b]);delete c.g[y],c.h--}}this.F=null},ce.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ce.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function mn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,G=0;G<y.length;++G){var ot=y[G];if(ot&&!ot.da&&ot.capture==_){var Ut=ot.listener,Ce=ot.ha||ot.src;ot.fa&&Gs(c.i,ot),B=Ut.call(Ce,b)!==!1&&B}}return B&&!b.defaultPrevented}function Ze(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function hu(c){c.g=Ze(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class jh extends at{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(c){at.call(this),this.h=c,this.g={}}U(Xs,at);var Zs=[];function $s(c){ct(c.g,function(y,_){this.g.hasOwnProperty(_)&&qr(y)},c),c.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),$s(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,Hr=m.JSON.parse,Ws=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function go(){}go.prototype.h=null;function yo(c){return c.h||(c.h=c.i())}function vo(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){it.call(this,"d")}U(wi,it);function _o(){it.call(this,"c")}U(_o,it);var $n={},To=null;function es(){return To=To||new ce}$n.La="serverreachability";function Gr(c){it.call(this,$n.La,c)}U(Gr,it);function ns(c){const y=es();Yt(y,new Gr(y))}$n.STAT_EVENT="statevent";function fu(c,y){it.call(this,$n.STAT_EVENT,c),this.stat=y}U(fu,it);function se(c){const y=es();Yt(y,new fu(y,c))}$n.Ma="timingevent";function De(c,y){it.call(this,$n.Ma,c),this.size=y}U(De,it);function _e(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Eo(c,y,_,b,B,G){c.info(function(){if(c.g)if(G)for(var ot="",Ut=G.split("&"),Ce=0;Ce<Ut.length;Ce++){var Bt=Ut[Ce].split("=");if(1<Bt.length){var Pe=Bt[0];Bt=Bt[1];var Ve=Pe.split("_");ot=2<=Ve.length&&Ve[1]=="type"?ot+(Pe+"="+Bt+"&"):ot+(Pe+"=redacted&")}}else ot=null;else ot=G;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+ot})}function qh(c,y,_,b,B,G,ot){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+G+" "+ot})}function is(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Js(c,_)+(b?" "+b:"")})}function du(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function Js(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ot=1;ot<B.length;ot++)B[ot]=""}}}}return jn(_)}catch{return y}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Jn(){}U(Jn,go),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Wn=new Jn;function sn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var Ao={},Yr={};function qn(c,y,_){c.L=1,c.v=sr(pn(y)),c.m=_,c.P=!0,Di(c,null)}function Di(c,y){c.F=Date.now(),tr(c),c.A=pn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Co(_.i,"t",b),c.C=0,_=c.j.J,c.h=new me,c.g=Vu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new jh(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Zs[0]=B.toString()),B=Zs);for(var G=0;G<B.length;G++){var ot=uu(_,B[G],b||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ns(),Eo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)t:{const Ve=Cn(this.g);var y=this.g.Ba();const Pi=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||Eu(this.g)))){this.J||Ve!=4||y==7||(y==8||0>=Pi?ns(3):ns(2)),rs(this);var _=this.g.Z();this.X=_;e:if(mu(this)){var b=Eu(this.g);c="";var B=b.length,G=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),ti(this);var ot="";break e}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(G&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,qh(this.i,this.u,this.A,this.l,this.R,Ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ce=this.g;if((Ut=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Ut)){var Bt=Ut;break e}}Bt=null}if(_=Bt)is(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,er(this,_);else{this.o=!1,this.s=3,se(12),je(this),ti(this);break t}}if(this.P){_=!0;let qe;for(;!this.J&&this.C<ot.length;)if(qe=pu(this,ot),qe==Yr){Ve==4&&(this.s=4,se(14),_=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==Ao){this.s=4,se(15),is(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else is(this.i,this.l,qe,null),er(this,qe);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||ot.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)is(this.i,this.l,ot,"[Invalid Chunked Response]"),je(this),ti(this);else if(0<ot.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),fr(Pe),Pe.M=!0,se(11))}}else is(this.i,this.l,ot,null),er(this,ot);Ve==4&&je(this),this.o&&!this.J&&(Ve==4?Ru(this.j,this):(this.o=!1,tr(this)))}else Kh(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),je(this),ti(this)}}}catch{}finally{}};function mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?Yr:(_=Number(y.substring(_,b)),isNaN(_)?Ao:(b+=1,b+_>y.length?Yr:(y=y.slice(b,b+_),c.C=b+_,y)))}sn.prototype.cancel=function(){this.J=!0,je(this)};function tr(c){c.S=Date.now()+c.I,gu(c,c.I)}function gu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_e(S(c.ba,c),y)}function rs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(du(this.i,this.A),this.L!=2&&(ns(),se(17)),je(this),this.s=2,ti(this)):gu(this,this.S-c)};function ti(c){c.j.G==0||c.J||Ru(c.j,c)}function je(c){rs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$s(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function er(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||So(_.h,c))){if(!c.K&&So(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)sa(_),na(_);else break t;No(_),se(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(S(_.Za,_),6e3));if(1>=Qr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&sa(_),!nt(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Bt=B[y];if(_.T=Bt[0],Bt=Bt[1],_.G==2)if(Bt[0]=="c"){_.K=Bt[1],_.ia=Bt[2];const Pe=Bt[3];Pe!=null&&(_.la=Pe,_.j.info("VER="+_.la));const Ve=Bt[4];Ve!=null&&(_.Aa=Ve,_.j.info("SVER="+_.Aa));const Pi=Bt[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(b=1.5*Pi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const qe=c.g;if(qe){const oi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var G=b.h;G.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Xr(G,G.h),G.h=null))}if(b.D){const Po=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(b.ya=Po,Zt(b.I,b.D,Po))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ot=c;if(b.qa=Cu(b,b.J?b.ia:null,b.W),ot.K){rn(b.h,ot);var Ut=ot,Ce=b.L;Ce&&(Ut.I=Ce),Ut.B&&(rs(Ut),tr(Ut)),b.g=ot}else bu(b);0<_.i.length&&ia(_)}else Bt[0]!="stop"&&Bt[0]!="close"||Oi(_,7);else _.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Oi(_,7):Mo(_):Bt[0]!="noop"&&_.l&&_.l.ta(Bt),_.v=0)}}ns(4)}catch{}}var yu=class{constructor(c,y){this.g=c,this.map=y}};function Ci(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Qr(c){return c.h?1:c.g?c.g.size:0}function So(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xr(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ci.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Y(c.i)}function Fh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function Zr(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function wo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Zr(c),b=Fh(c),B=b.length,G=0;G<B;G++)y.call(void 0,b[G],_&&_[G],c)}var nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var G=c[_].substring(0,b);B=c[_].substring(b+1)}else G=c[_];y(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Te(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Te){this.h=c.h,ir(this,c.j),this.o=c.o,this.g=c.g,as(this,c.s),this.l=c.l;var y=c.i,_=new xi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Vi(this,_),this.m=c.m}else c&&(y=String(c).match(nr))?(this.h=!1,ir(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),as(this,y[4]),this.l=wn(y[5]||"",!0),Vi(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}Te.prototype.toString=function(){var c=[],y=this.j;y&&c.push(rr(y,Ro,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(rr(y,Ro,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(rr(_,_.charAt(0)=="/"?Gh:Do,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",rr(_,$r)),c.join("")};function pn(c){return new Te(c)}function ir(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Vi(c,y,_){y instanceof xi?(c.i=y,_u(c.i,c.h)):(_||(y=rr(y,Yh)),c.i=new xi(y,c.h))}function Zt(c,y,_){c.i.set(y,_)}function sr(c){return Zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function rr(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ro=/[#\/\?@]/g,Do=/[#\?:]/g,Gh=/[#\?]/g,Yh=/[#\?@]/g,$r=/#/g;function xi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=xi.prototype,n.add=function(c,y){Rn(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Mi(c,y){Rn(c),y=ei(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ii(c,y){return Rn(c),y=ei(c,y),c.g.has(y)}n.forEach=function(c,y){Rn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},n.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let G=0;G<B.length;G++)_.push(y[b])}return _},n.V=function(c){Rn(this);let y=[];if(typeof c=="string")Ii(this,c)&&(y=y.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},n.set=function(c,y){return Rn(this),this.i=null,c=ei(this,c),Ii(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Co(c,y,_){Mi(c,y),0<_.length&&(c.i=null,c.g.set(ei(c,y),Y(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const G=encodeURIComponent(String(b)),ot=this.V(b);for(b=0;b<ot.length;b++){var B=G;ot[b]!==""&&(B+="="+encodeURIComponent(String(ot[b]))),c.push(B)}}return this.i=c.join("&")};function ei(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _u(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(Mi(this,b),Co(this,B,_))},c)),c.j=y}function ar(c,y){const _=new bn;if(m.Image){const b=new Image;b.onload=M(Dn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=M(Dn,_,"TestLoadImage: error",!1,y,b),b.onabort=M(Dn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=M(Dn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Fn(c,y){const _=new bn,b=new AbortController,B=setTimeout(()=>{b.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(B),G.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function or(){this.g=new Ws}function ni(c,y,_){const b=_||"";try{wo(c,function(B,G){let ot=B;g(B)&&(ot=jn(B)),y.push(b+G+"="+encodeURIComponent(ot))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function os(c){this.l=c.Ub||null,this.j=c.eb||!1}U(os,go),os.prototype.g=function(){return new Ni(this.l,this.j)},os.prototype.i=function(c){return function(){return c}}({});function Ni(c,y){ce.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ni,ce),n=Ni.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,si(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):si(this),this.readyState==3&&Vo(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},n.Qa=function(c){this.g&&(this.response=c,ii(this))},n.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xo(c){let y="";return ct(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Oe(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=xo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Zt(c,y,_))}function Ht(c){ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ht,ce);var Wr=/^https?$/i,lr=["POST","PUT"];n=Ht.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?yo(this.o):yo(Wn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Tu(this,G);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())_.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(lr,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of _)this.g.setRequestHeader(G,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ur(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Tu(this,G)}};function Tu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Jr(c),ri(c)}function Jr(c){c.A||(c.A=!0,Yt(c,"complete"),Yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Yt(this,"complete"),Yt(this,"abort"),ri(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},n.bb=function(){ta(this)};function ta(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Ze(c.Ea,0,c);else if(Yt(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=ot===0){var B=String(c.D).match(nr)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!Wr.test(B?B.toLowerCase():"")}_=b}if(_)Yt(c,"complete"),Yt(c,"success");else{c.m=6;try{var G=2<Cn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Jr(c)}}finally{ri(c)}}}}function ri(c,y){if(c.g){ur(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Yt(c,"ready");try{_.onreadystatechange=b}catch{}}}function ur(c){c.I&&(m.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Hr(y)}};function Eu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kh(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(nt(c[b]))continue;var _=O(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[B]||[];y[B]=G,G.push(_)}x(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ea(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,c),this.cb=cr("retryDelaySeedMs",1e4,c),this.Wa=cr("forwardChannelMaxRetries",2,c),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(c&&c.concurrentRequestLimit),this.Da=new or,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ea.prototype,n.la=8,n.G=1,n.connect=function(c,y,_,b){se(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Cu(this,null,this.W),ia(this)};function Mo(c){if(Au(c),c.G==3){var y=c.U++,_=pn(c.I);if(Zt(_,"SID",c.K),Zt(_,"RID",y),Zt(_,"TYPE","terminate"),hr(c,_),y=new sn(c,c.j,y),y.L=2,y.v=sr(pn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Vu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),tr(y)}Du(c)}function na(c){c.g&&(fr(c),c.g.cancel(),c.g=null)}function Au(c){na(c),c.u&&(m.clearTimeout(c.u),c.u=null),sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ia(c){if(!Kr(c.h)&&!c.s){c.s=!0;var y=c.Ga;$||V(),rt||($(),rt=!0),_t.add(y,c),c.B=0}}function Qh(c,y){return Qr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_e(S(c.Ga,c,y),Oo(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new sn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Su(this,B,y),_=pn(this.I),Zt(_,"RID",c),Zt(_,"CVER",22),this.D&&Zt(_,"X-HTTP-Session-Id",this.D),hr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(xo(G)))+"&"+y:this.m&&Oe(_,this.m,G)),Xr(this.h,B),this.Ua&&Zt(_,"TYPE","init"),this.P?(Zt(_,"$req",y),Zt(_,"SID","null"),B.T=!0,qn(B,_,null)):qn(B,_,y),this.G=2}}else this.G==3&&(c?Io(this,c):this.i.length==0||Kr(this.h)||Io(this))};function Io(c,y){var _;y?_=y.l:_=c.U++;const b=pn(c.I);Zt(b,"SID",c.K),Zt(b,"RID",_),Zt(b,"AID",c.T),hr(c,b),c.m&&c.o&&Oe(b,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Su(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xr(c.h,_),qn(_,b,y)}function hr(c,y){c.H&&ct(c.H,function(_,b){Zt(y,b,_)}),c.l&&wo({},function(_,b){Zt(y,b,_)})}function Su(c,y,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;t:{var B=c.i;let G=-1;for(;;){const ot=["count="+_];G==-1?0<_?(G=B[0].g,ot.push("ofs="+G)):G=0:ot.push("ofs="+G);let Ut=!0;for(let Ce=0;Ce<_;Ce++){let Bt=B[Ce].g;const Pe=B[Ce].map;if(Bt-=G,0>Bt)G=Math.max(0,B[Ce].g-100),Ut=!1;else try{ni(Pe,ot,"req"+Bt+"_")}catch{b&&b(Pe)}}if(Ut){b=ot.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;$||V(),rt||($(),rt=!0),_t.add(y,c),c.v=0}}function No(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_e(S(c.Fa,c),Oo(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_e(S(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),na(this),wu(this))};function fr(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Zt(y,"RID","rpc"),Zt(y,"SID",c.K),Zt(y,"AID",c.T),Zt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Zt(y,"TO",c.ja),Zt(y,"TYPE","xmlhttp"),hr(c,y),c.m&&c.o&&Oe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=sr(pn(y)),_.m=null,_.P=!0,Di(_,c)}n.Za=function(){this.C!=null&&(this.C=null,na(this),No(this),se(19))};function sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ru(c,y){var _=null;if(c.g==y){sa(c),fr(c),c.g=null;var b=2}else if(So(c.h,y))_=y.D,rn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=es(),Yt(b,new De(b,_)),ia(c)}else bu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&Qh(c,y)||b==2&&No(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Oo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),b=c.Xa;const B=!b;b=new Te(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ir(b,"https"),sr(b),B?ar(b.toString(),_):Fn(b.toString(),_)}else se(2);c.G=0,c.l&&c.l.sa(y),Du(c),Au(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Du(c){if(c.G=0,c.ka=[],c.l){const y=bo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Cu(c,y,_){var b=_ instanceof Te?pn(_):new Te(_);if(b.g!="")y&&(b.g=y+"."+b.g),as(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var G=new Te(null);b&&ir(G,b),y&&(G.g=y),B&&as(G,B),_&&(G.l=_),b=G}return _=c.D,y=c.ya,_&&y&&Zt(b,_,y),Zt(b,"VER",c.la),hr(c,b),b}function Vu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ht(new os({eb:_})):new Ht(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}n=xu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ra(){}ra.prototype.g=function(c,y){return new an(c,y)};function an(c,y){ce.call(this),this.g=new ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!nt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!nt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}U(an,ce),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Mo(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);y.i.push(new yu(y.Ya++,c)),y.G==3&&ia(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,an.aa.N.call(this)};function Mu(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Mu,wi);function Iu(){_o.call(this),this.status=1}U(Iu,_o);function ai(c){this.g=c}U(ai,xu),ai.prototype.ua=function(){Yt(this.g,"a")},ai.prototype.ta=function(c){Yt(this.g,new Mu(c))},ai.prototype.sa=function(c){Yt(this.g,new Iu)},ai.prototype.ra=function(){Yt(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,ME=function(){return new ra},xE=function(){return es()},VE=$n,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Fc=ss,Ri.COMPLETE="complete",CE=Ri,vo.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ce.prototype.listen=ce.prototype.K,bl=vo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,DE=Ht}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const e0="@firebase/firestore",n0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new TE("@firebase/firestore");function Oa(){return Lr.logLevel}function ft(n,...t){if(Lr.logLevel<=jt.DEBUG){const i=t.map(fp);Lr.debug(`Firestore (${so}): ${n}`,...i)}}function Zi(n,...t){if(Lr.logLevel<=jt.ERROR){const i=t.map(fp);Lr.error(`Firestore (${so}): ${n}`,...i)}}function Xa(n,...t){if(Lr.logLevel<=jt.WARN){const i=t.map(fp);Lr.warn(`Firestore (${so}): ${n}`,...i)}}function fp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,IE(n,r,i)}function IE(n,t,i){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Zi(r),new Error(r)}function Gt(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||IE(t,o,r)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends io{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class t2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(tn.UNAUTHENTICATED))}shutdown(){}}class e2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class n2{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Os,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Os)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new NE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class i2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new i2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>r(u))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new i0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new i0(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=a2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Pt(n,t){return n<t?-1:n>t?1:0}function wm(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Zd(o)===Zd(u)?Pt(o,u):Zd(o)?1:-1}return Pt(n.length,t.length)}const o2=55296,l2=57343;function Zd(n){const t=n.charCodeAt(0);return t>=o2&&t<=l2}function Za(n,t,i){return n.length===t.length&&n.every((r,o)=>i(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class di{constructor(t,i,r){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Et(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(r=>{i.push(r)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=di.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Pt(t.length,i.length)}static compareSegments(t,i){const r=di.isNumericId(t),o=di.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?di.extractNumericId(t).compare(di.extractNumericId(i)):wm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ns.fromString(t.substring(4,t.length-2))}}class ie extends di{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new dt(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(o=>o.length>0))}return new ie(i)}static emptyPath(){return new ie([])}}const u2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends di{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return u2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Qe([s0])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new dt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new dt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new dt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ie.fromString(t))}static fromName(t){return new gt(ie.fromString(t).popFirst(5))}static empty(){return new gt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,t,i){if(!i)throw new dt(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function c2(n,t,i,r){if(t===!0&&r===!0)throw new dt(J.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function r0(n){if(!gt.isDocumentKey(n))throw new dt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a0(n){if(gt.isDocumentKey(n))throw new dt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Th(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function zl(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Th(n);throw new dt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,t){const i={typeString:n};return t&&(i.value=t),i}function Jl(n,t){if(!PE(n))throw new dt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const h=n[r];if(o&&typeof h!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new dt(J.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-62135596800,l0=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*l0);return new Xt(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<o0)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,Xt._jsonSchema))return new Xt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:Re("string",Xt._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Xt(0,0))}static max(){return new Dt(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function h2(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(r===1e9?new Xt(i+1,0):new Xt(i,r));return new Ls(o,gt.empty(),t)}function f2(n){return new Ls(n.readTime,n.key,jl)}class Ls{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ls(Dt.min(),gt.empty(),jl)}static max(){return new Ls(Dt.max(),gt.empty(),jl)}}function d2(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(n.documentKey,t.documentKey),i!==0?i:Pt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==m2)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new tt((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):tt.reject(i)}static resolve(t){return new tt((i,r)=>{i(t)})}static reject(t){return new tt((i,r)=>{r(t)})}static waitFor(t){return new tt((i,r)=>{let o=0,u=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&i()},p=>r(p))}),h=!0,u===o&&i()})}static or(t){let i=tt.resolve(!1);for(const r of t)i=i.next(o=>o?tt.resolve(o):r());return i}static forEach(t,i){const r=[];return t.forEach((o,u)=>{r.push(i.call(this,o,u))}),this.waitFor(r)}static mapArray(t,i){return new tt((r,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next(v=>{h[g]=v,++m,m===u&&r(h)},v=>o(v))}})}static doWhile(t,i){return new tt((r,o)=>{const u=()=>{t()===!0?i().next(()=>{u()},o):r()};u()})}}function g2(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=-1;function Ah(n){return n==null}function ih(n){return n===0&&1/n==-1/0}function y2(n){return typeof n=="number"&&Number.isInteger(n)&&!ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="";function v2(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=u0(t)),t=_2(n.get(i),t);return u0(t)}function _2(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case LE:i+="";break;default:i+=u}}return i}function u0(n){return n+LE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function Br(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function UE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,r)=>(t(i,r),!1))}toString(){const t=[];return this.inorderTraversal((i,r)=>(t.push(`${i}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Ke(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,r)=>(t(i),!1))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(t){return new h0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(r=>{i=i.add(r)}),i}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ie(this.comparator);return i.data=t,i}}class h0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Qn([])}unionWith(t){let i=new Ie(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Qn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BE("Invalid base64 string: "+u):u}}(t);return new Xe(i)}static fromUint8Array(t){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(Gt(!!n,39018),typeof n=="string"){let t=0;const i=T2.exec(n);if(Gt(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?Xe.fromBase64String(n):Xe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="server_timestamp",zE="__type__",jE="__previous_value__",qE="__local_write_time__";function pp(n){return(n?.mapValue?.fields||{})[zE]?.stringValue===kE}function Sh(n){const t=n.mapValue.fields[jE];return pp(t)?Sh(t):t}function ql(n){const t=Us(n.mapValue.fields[qE].timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t,i,r,o,u,h,m,p,g,v){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const sh="(default)";class Fl{constructor(t,i){this.projectId=t,this.database=i||sh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="__type__",A2="__max__",Pc={mapValue:{}},HE="__vector__",rh="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pp(n)?4:b2(n)?9007199254740991:S2(n)?10:11:Et(28295,{value:n})}function Ai(n,t){if(n===t)return!0;const i=ks(n);if(i!==ks(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ql(n).isEqual(ql(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Us(o.timestampValue),m=Us(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return Bs(o.bytesValue).isEqual(Bs(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ve(o.doubleValue),m=ve(u.doubleValue);return h===m?ih(h)===ih(m):isNaN(h)&&isNaN(m)}return!1}(n,t);case 9:return Za(n.arrayValue.values||[],t.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(c0(h)!==c0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ai(h[p],m[p])))return!1;return!0}(n,t);default:return Et(52216,{left:n})}}function Hl(n,t){return(n.values||[]).find(i=>Ai(i,t))!==void 0}function $a(n,t){if(n===t)return 0;const i=ks(n),r=ks(t);if(i!==r)return Pt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,t.booleanValue);case 2:return function(u,h){const m=ve(u.integerValue||u.doubleValue),p=ve(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(n,t);case 3:return f0(n.timestampValue,t.timestampValue);case 4:return f0(ql(n),ql(t));case 5:return wm(n.stringValue,t.stringValue);case 6:return function(u,h){const m=Bs(u),p=Bs(h);return m.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Pt(m[g],p[g]);if(v!==0)return v}return Pt(m.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,h){const m=Pt(ve(u.latitude),ve(h.latitude));return m!==0?m:Pt(ve(u.longitude),ve(h.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return d0(n.arrayValue,t.arrayValue);case 10:return function(u,h){const m=u.fields||{},p=h.fields||{},g=m[rh]?.arrayValue,v=p[rh]?.arrayValue,E=Pt(g?.values?.length||0,v?.values?.length||0);return E!==0?E:d0(g,v)}(n.mapValue,t.mapValue);case 11:return function(u,h){if(u===Pc.mapValue&&h===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(h===Pc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=wm(p[E],v[E]);if(S!==0)return S;const M=$a(m[p[E]],g[v[E]]);if(M!==0)return M}return Pt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function f0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Pt(n,t);const i=Us(n),r=Us(t),o=Pt(i.seconds,r.seconds);return o!==0?o:Pt(i.nanos,r.nanos)}function d0(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=$a(i[o],r[o]);if(u)return u}return Pt(i.length,r.length)}function Wa(n){return Rm(n)}function Rm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Us(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return Bs(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return gt.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Rm(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Rm(i.fields[h])}`;return o+"}"}(n.mapValue):Et(61005,{value:n})}function Hc(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sh(n);return t?16+Hc(t):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,u)=>o+Hc(u),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Br(r.fields,(u,h)=>{o+=u.length+Hc(h)}),o}(n.mapValue);default:throw Et(13486,{value:n})}}function m0(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Dm(n){return!!n&&"integerValue"in n}function gp(n){return!!n&&"arrayValue"in n}function p0(n){return!!n&&"nullValue"in n}function g0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gc(n){return!!n&&"mapValue"in n}function S2(n){return(n?.mapValue?.fields||{})[FE]?.stringValue===HE}function Vl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Br(n.mapValue.fields,(i,r)=>t.mapValue.fields[i]=Vl(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vl(n.arrayValue.values[i]);return t}return{...n}}function b2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===A2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(i)}setAll(t){let i=Qe.emptyPath(),r={},o=[];t.forEach((h,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}h?r[m.lastSegment()]=Vl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ai(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Br(i,(o,u)=>t[o]=u);for(const o of r)delete t[o]}clone(){return new Bn(Vl(this.value))}}function GE(n){const t=[];return Br(n.fields,(i,r)=>{const o=new Qe([i]);if(Gc(r)){const u=GE(r.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)}),new Qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,i,r,o,u,h,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new en(t,0,Dt.min(),Dt.min(),Dt.min(),Bn.empty(),0)}static newFoundDocument(t,i,r,o){return new en(t,1,i,Dt.min(),r,o,0)}static newNoDocument(t,i){return new en(t,2,i,Dt.min(),Dt.min(),Bn.empty(),0)}static newUnknownDocument(t,i){return new en(t,3,i,Dt.min(),Dt.min(),Bn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i){this.position=t,this.inclusive=i}}function y0(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],h=n.position[o];if(u.field.isKeyField()?r=gt.comparator(gt.fromName(h.referenceValue),i.key):r=$a(h,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Ai(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i="asc"){this.field=t,this.dir=i}}function w2(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{}class we extends YE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new D2(t,i,r):i==="array-contains"?new x2(t,r):i==="in"?new M2(t,r):i==="not-in"?new I2(t,r):i==="array-contains-any"?new N2(t,r):new we(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new C2(t,r):new V2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&ks(this.value)===ks(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends YE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Xn(t,i)}matches(t){return KE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(n){return n.op==="and"}function QE(n){return R2(n)&&KE(n)}function R2(n){for(const t of n.filters)if(t instanceof Xn)return!1;return!0}function Cm(n){if(n instanceof we)return n.field.canonicalString()+n.op.toString()+Wa(n.value);if(QE(n))return n.filters.map(t=>Cm(t)).join(",");{const t=n.filters.map(i=>Cm(i)).join(",");return`${n.op}(${t})`}}function XE(n,t){return n instanceof we?function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&Ai(r.value,o.value)}(n,t):n instanceof Xn?function(r,o){return o instanceof Xn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((u,h,m)=>u&&XE(h,o.filters[m]),!0):!1}(n,t):void Et(19439)}function ZE(n){return n instanceof we?function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`}(n):n instanceof Xn?function(i){return i.op.toString()+" {"+i.getFilters().map(ZE).join(" ,")+"}"}(n):"Filter"}class D2 extends we{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class C2 extends we{constructor(t,i){super(t,"in",i),this.keys=$E("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class V2 extends we{constructor(t,i){super(t,"not-in",i),this.keys=$E("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function $E(n,t){return(t.arrayValue?.values||[]).map(i=>gt.fromName(i.referenceValue))}class x2 extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return gp(i)&&Hl(i.arrayValue,this.value)}}class M2 extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class I2 extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class N2 extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!gp(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,i=null,r=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function _0(n,t=null,i=[],r=[],o=null,u=null,h=null){return new O2(n,t,i,r,o,u,h)}function yp(n){const t=Ct(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(r=>Cm(r)).join(","),i+="|ob:",i+=t.orderBy.map(r=>function(u){return u.field.canonicalString()+u.dir}(r)).join(","),Ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Wa(r)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Wa(r)).join(",")),t.Te=i}return t.Te}function vp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!w2(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!XE(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!v0(n.startAt,t.startAt)&&v0(n.endAt,t.endAt)}function Vm(n){return gt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,i=null,r=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P2(n,t,i,r,o,u,h,m){return new tu(n,t,i,r,o,u,h,m)}function WE(n){return new tu(n)}function T0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JE(n){return n.collectionGroup!==null}function xl(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ie(Qe.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new oh(u,r))}),i.has(Qe.keyField().canonicalString())||t.Ie.push(new oh(Qe.keyField(),r))}return t.Ie}function mi(n){const t=Ct(n);return t.Ee||(t.Ee=L2(t,xl(n))),t.Ee}function L2(n,t){if(n.limitType==="F")return _0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)});const i=n.endAt?new ah(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ah(n.startAt.position,n.startAt.inclusive):null;return _0(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function xm(n,t){const i=n.filters.concat([t]);return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Mm(n,t,i){return new tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function bh(n,t){return vp(mi(n),mi(t))&&n.limitType===t.limitType}function t1(n){return`${yp(mi(n))}|lt:${n.limitType}`}function Pa(n){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(o=>ZE(o)).join(", ")}]`),Ah(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(o=>Wa(o)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(o=>Wa(o)).join(",")),`Target(${r})`}(mi(n))}; limitType=${n.limitType})`}function wh(n,t){return t.isFoundDocument()&&function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):gt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(n,t)&&function(r,o){for(const u of xl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(r,o){return!(r.startAt&&!function(h,m,p){const g=y0(h,m,p);return h.inclusive?g<=0:g<0}(r.startAt,xl(r),o)||r.endAt&&!function(h,m,p){const g=y0(h,m,p);return h.inclusive?g>=0:g>0}(r.endAt,xl(r),o))}(n,t)}function U2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function e1(n){return(t,i)=>{let r=!1;for(const o of xl(n)){const u=B2(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function B2(n,t,i){const r=n.field.isKeyField()?gt.comparator(t.key,i.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?$a(p,g):Et(42886)}(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Br(this.inner,(i,r)=>{for(const[o,u]of r)t(o,u)})}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new ue(gt.comparator);function $i(){return k2}const n1=new ue(gt.comparator);function wl(...n){let t=n1;for(const i of n)t=t.insert(i.key,i);return t}function i1(n){let t=n1;return n.forEach((i,r)=>t=t.insert(i,r.overlayedDocument)),t}function Mr(){return Ml()}function s1(){return Ml()}function Ml(){return new kr(n=>n.toString(),(n,t)=>n.isEqual(t))}const z2=new ue(gt.comparator),j2=new Ie(gt.comparator);function Lt(...n){let t=j2;for(const i of n)t=t.add(i);return t}const q2=new Ie(Pt);function F2(){return q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function r1(n){return{integerValue:""+n}}function H2(n,t){return y2(t)?r1(t):_p(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function G2(n,t,i){return n instanceof lh?function(o,u){const h={fields:{[zE]:{stringValue:kE},[qE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=Sh(u)),u&&(h.fields[jE]=u),{mapValue:h}}(i,t):n instanceof Gl?o1(n,t):n instanceof Yl?l1(n,t):function(o,u){const h=a1(o,u),m=E0(h)+E0(o.Ae);return Dm(h)&&Dm(o.Ae)?r1(m):_p(o.serializer,m)}(n,t)}function Y2(n,t,i){return n instanceof Gl?o1(n,t):n instanceof Yl?l1(n,t):i}function a1(n,t){return n instanceof uh?function(r){return Dm(r)||function(u){return!!u&&"doubleValue"in u}(r)}(t)?t:{integerValue:0}:null}class lh extends Rh{}class Gl extends Rh{constructor(t){super(),this.elements=t}}function o1(n,t){const i=u1(t);for(const r of n.elements)i.some(o=>Ai(o,r))||i.push(r);return{arrayValue:{values:i}}}class Yl extends Rh{constructor(t){super(),this.elements=t}}function l1(n,t){let i=u1(t);for(const r of n.elements)i=i.filter(o=>!Ai(o,r));return{arrayValue:{values:i}}}class uh extends Rh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function E0(n){return ve(n.integerValue||n.doubleValue)}function u1(n){return gp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function K2(n,t){return n.field.isEqual(t.field)&&function(r,o){return r instanceof Gl&&o instanceof Gl||r instanceof Yl&&o instanceof Yl?Za(r.elements,o.elements,Ai):r instanceof uh&&o instanceof uh?Ai(r.Ae,o.Ae):r instanceof lh&&o instanceof lh}(n.transform,t.transform)}class Q2{constructor(t,i){this.version=t,this.transformResults=i}}class pi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new pi}static exists(t){return new pi(void 0,t)}static updateTime(t){return new pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Dh{}function c1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Tp(n.key,pi.none()):new eu(n.key,n.data,pi.none());{const i=n.data,r=Bn.empty();let o=new Ie(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new zr(n.key,r,new Qn(o.toArray()),pi.none())}}function X2(n,t,i){n instanceof eu?function(o,u,h){const m=o.value.clone(),p=S0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,t,i):n instanceof zr?function(o,u,h){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=S0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(h1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,t,i):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function Il(n,t,i,r){return n instanceof eu?function(u,h,m,p){if(!Yc(u.precondition,h))return m;const g=u.value.clone(),v=b0(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(n,t,i,r):n instanceof zr?function(u,h,m,p){if(!Yc(u.precondition,h))return m;const g=b0(u.fieldTransforms,p,h),v=h.data;return v.setAll(h1(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,i,r):function(u,h,m){return Yc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(n,t,i)}function Z2(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=a1(r.transform,o||null);u!=null&&(i===null&&(i=Bn.empty()),i.set(r.field,u))}return i||null}function A0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Za(r,o,(u,h)=>K2(u,h))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class eu extends Dh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zr extends Dh{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function h1(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}}),t}function S0(n,t,i){const r=new Map;Gt(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const u=n[o],h=u.transform,m=t.data.field(u.field);r.set(u.field,Y2(h,m,i[o]))}return r}function b0(n,t,i){const r=new Map;for(const o of n){const u=o.transform,h=i.data.field(o.field);r.set(o.field,G2(u,h,t))}return r}class Tp extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $2 extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&X2(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=s1();return this.mutations.forEach(o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=i.has(o.key)?null:m;const p=c1(h,m);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,(i,r)=>A0(i,r))&&Za(this.baseMutations,t.baseMutations,(i,r)=>A0(i,r))}}class Ep{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=function(){return z2}();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Ep(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,zt;function eD(n){switch(n){case J.OK:return Et(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function f1(n){if(n===void 0)return Zi("GRPC error has no .code"),J.UNKNOWN;switch(n){case Se.OK:return J.OK;case Se.CANCELLED:return J.CANCELLED;case Se.UNKNOWN:return J.UNKNOWN;case Se.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Se.INTERNAL:return J.INTERNAL;case Se.UNAVAILABLE:return J.UNAVAILABLE;case Se.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Se.NOT_FOUND:return J.NOT_FOUND;case Se.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Se.ABORTED:return J.ABORTED;case Se.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Se.DATA_LOSS:return J.DATA_LOSS;default:return Et(39323,{code:n})}}(zt=Se||(Se={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new Ns([4294967295,4294967295],0);function w0(n){const t=nD().encode(n),i=new RE;return i.update(t),new Uint8Array(i.digest())}function R0(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ns([i,r],0),new Ns([o,u],0)]}class Ap{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ns.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Ns.fromNumber(r)));return o.compare(iD)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=w0(t),[r,o]=R0(i);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Ap(u,o,i);return r.forEach(m=>h.insert(m)),h}insert(t){if(this.ge===0)return;const i=w0(t),[r,o]=R0(i);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ch(Dt.min(),o,new ue(Pt),$i(),Lt())}}class nu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new nu(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class d1{constructor(t,i){this.targetId=t,this.Ce=i}}class m1{constructor(t,i,r=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class D0{constructor(){this.ve=0,this.Fe=C0(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Et(38017,{changeType:u})}}),new nu(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=C0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sD{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.Je=Lc(),this.He=Lc(),this.Ye=new ue(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach((r,o)=>{this.rt(o)&&i(o)})}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Vm(u))if(r===0){const h=new gt(u.path);this.et(i,h,en.newNoDocument(h,Dt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const h=this._t(i);if(h!==r){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let h,m;try{h=Bs(r).toUint8Array()}catch(p){if(p instanceof BE)return Xa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ap(h,o,u)}catch(p){return Xa(p instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)}),o}Tt(t){const i=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Vm(m.target)){const p=new gt(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,t))}u.Be&&(i.set(h,u.ke()),u.qe())}});let r=Lt();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(u))}),this.je.forEach((u,h)=>h.setReadTime(t));const o=new Ch(t,i,this.Ye,this.je,r);return this.je=$i(),this.Je=Lc(),this.He=Lc(),this.Ye=new ue(Pt),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new D0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ie(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ie(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new D0),this.Ge.getRemoteKeysForTarget(t).forEach(i=>{this.et(t,i,null)})}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Lc(){return new ue(gt.comparator)}function C0(){return new ue(gt.comparator)}const rD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class lD{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Im(n,t){return n.useProto3Json||Ah(t)?t:{value:t}}function ch(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function p1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function uD(n,t){return ch(n,t.toTimestamp())}function gi(n){return Gt(!!n,49232),Dt.fromTimestamp(function(i){const r=Us(i);return new Xt(r.seconds,r.nanos)}(n))}function Sp(n,t){return Nm(n,t).canonicalString()}function Nm(n,t){const i=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?i:i.child(t)}function g1(n){const t=ie.fromString(n);return Gt(E1(t),10190,{key:t.toString()}),t}function Om(n,t){return Sp(n.databaseId,t.path)}function $d(n,t){const i=g1(t);if(i.get(1)!==n.databaseId.projectId)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new gt(v1(i))}function y1(n,t){return Sp(n.databaseId,t)}function cD(n){const t=g1(n);return t.length===4?ie.emptyPath():v1(t)}function Pm(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v1(n){return Gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function V0(n,t,i){return{name:Om(n,t),fields:i.value.mapValue.fields}}function hD(n,t){let i;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Gt(v===void 0||typeof v=="string",58123),Xe.fromBase64String(v||"")):(Gt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Xe.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(g){const v=g.code===void 0?J.UNKNOWN:f1(g.code);return new dt(v,g.message||"")}(h);i=new m1(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=$d(n,r.document.name),u=gi(r.document.updateTime),h=r.document.createTime?gi(r.document.createTime):Dt.min(),m=new Bn({mapValue:{fields:r.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=r.targetIds||[],v=r.removedTargetIds||[];i=new Kc(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=$d(n,r.document),u=r.readTime?gi(r.readTime):Dt.min(),h=en.newNoDocument(o,u),m=r.removedTargetIds||[];i=new Kc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=$d(n,r.document),u=r.removedTargetIds||[];i=new Kc([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new tD(o,u),m=r.targetId;i=new d1(m,h)}}return i}function fD(n,t){let i;if(t instanceof eu)i={update:V0(n,t.key,t.value)};else if(t instanceof Tp)i={delete:Om(n,t.key)};else if(t instanceof zr)i={update:V0(n,t.key,t.data),updateMask:ED(t.fieldMask)};else{if(!(t instanceof $2))return Et(16599,{Vt:t.type});i={verify:Om(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(r=>function(u,h){const m=h.transform;if(m instanceof lh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Gl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:h.transform})}(0,r))),t.precondition.isNone||(i.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:uD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)}(n,t.precondition)),i}function dD(n,t){return n&&n.length>0?(Gt(t!==void 0,14353),n.map(i=>function(o,u){let h=o.updateTime?gi(o.updateTime):gi(u);return h.isEqual(Dt.min())&&(h=gi(u)),new Q2(h,o.transformResults||[])}(i,t))):[]}function mD(n,t){return{documents:[y1(n,t.path)]}}function pD(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=y1(n,o);const u=function(g){if(g.length!==0)return T1(Xn.create(g,"and"))}(t.filters);u&&(i.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:La(S.field),direction:vD(S.dir)}}(v))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const m=Im(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:i,parent:o}}function gD(n){let t=cD(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=function(E){const S=_1(E);return S instanceof Xn&&QE(S)?S.getFilters():[S]}(i.where));let h=[];i.orderBy&&(h=function(E){return E.map(S=>function(U){return new oh(Ua(U.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(i.orderBy));let m=null;i.limit&&(m=function(E){let S;return S=typeof E=="object"?E.value:E,Ah(S)?null:S}(i.limit));let p=null;i.startAt&&(p=function(E){const S=!!E.before,M=E.values||[];return new ah(M,S)}(i.startAt));let g=null;return i.endAt&&(g=function(E){const S=!E.before,M=E.values||[];return new ah(M,S)}(i.endAt)),P2(t,o,h,u,m,"F",p,g)}function yD(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function _1(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ua(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(i.unaryFilter.field);return we.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ua(i.unaryFilter.field);return we.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(n):n.fieldFilter!==void 0?function(i){return we.create(Ua(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Xn.create(i.compositeFilter.filters.map(r=>_1(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(n):Et(30097,{filter:n})}function vD(n){return rD[n]}function _D(n){return aD[n]}function TD(n){return oD[n]}function La(n){return{fieldPath:n.canonicalString()}}function Ua(n){return Qe.fromServerFormat(n.fieldPath)}function T1(n){return n instanceof we?function(i){if(i.op==="=="){if(g0(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(p0(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(g0(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(p0(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:_D(i.op),value:i.value}}}(n):n instanceof Xn?function(i){const r=i.getFilters().map(o=>T1(o));return r.length===1?r[0]:{compositeFilter:{op:TD(i.op),filters:r}}}(n):Et(54877,{filter:n})}function ED(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function E1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,i,r,o,u=Dt.min(),h=Dt.min(),m=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t){this.yt=t}}function SD(n){const t=gD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Cn=new wD}addToCollectionParentIndex(t,i){return this.Cn.add(i),tt.resolve()}getCollectionParents(t,i){return tt.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return tt.resolve()}deleteFieldIndex(t,i){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,i){return tt.resolve()}getDocumentsMatchingTarget(t,i){return tt.resolve(null)}getIndexType(t,i){return tt.resolve(0)}getFieldIndexes(t,i){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,i){return tt.resolve(Ls.min())}getMinOffsetFromCollectionGroup(t,i){return tt.resolve(Ls.min())}updateCollectionGroup(t,i,r){return tt.resolve()}updateIndexEntries(t,i){return tt.resolve()}}class wD{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ie(ie.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ie(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A1=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(A1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="LruGarbageCollector",RD=1048576;function I0([n,t],[i,r]){const o=Pt(n,i);return o===0?Pt(t,r):o}class DD{constructor(t){this.Ir=t,this.buffer=new Ie(I0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();I0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class CD{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(M0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?ft(M0,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)})}}class VD{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next(r=>Math.floor(i/100*r))}nthSequenceNumber(t,i){if(i===0)return tt.resolve(Eh.ce);const r=new DD(i);return this.mr.forEachTarget(t,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(x0)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x0):this.yr(t,i))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(r=E,m=Date.now(),this.removeTargets(t,r,i))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,r))).next(E=>(g=Date.now(),Oa()<=jt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function xD(n,t){return new VD(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new kr(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?tt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(r!==null&&Il(r.mutation,o,Qn.empty(),Xt.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.getLocalViewOfDocuments(t,r,Lt()).next(()=>r))}getLocalViewOfDocuments(t,i,r=Lt()){const o=Mr();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,r).next(u=>{let h=wl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const r=Mr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,Lt()))}populateOverlays(t,i,r){const o=[];return r.forEach(u=>{i.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((h,m)=>{i.set(h,m)})})}computeViews(t,i,r,o){let u=$i();const h=Ml(),m=function(){return Ml()}();return i.forEach((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof zr)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Il(v.mutation,g,v.mutation.getFieldMask(),Xt.now())):h.set(g.key,Qn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),i.forEach((g,v)=>m.set(g,new ID(v,h.get(g)??null))),m))}recalculateAndSaveOverlays(t,i){const r=Ml();let o=new ue((h,m)=>h-m),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Qn.empty();v=m.applyToLocalView(g,v),r.set(p,v);const E=(o.get(m.batchId)||Lt()).add(p);o=o.insert(m.batchId,E)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,E=s1();v.forEach(S=>{if(!u.has(S)){const M=c1(i.get(S),r.get(S));M!==null&&E.set(S,M),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,g,E))}return tt.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,i,r,o){return function(h){return gt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):JE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):tt.resolve(Mr());let m=jl,p=u;return h.next(g=>tt.forEach(g,(v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),u.get(v)?tt.resolve():this.remoteDocumentCache.getEntry(t,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Lt())).next(v=>({batchId:m,changes:i1(v)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next(r=>{let o=wl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let h=wl();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(E,S){return new tu(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(v=>{v.forEach((E,S)=>{h=h.insert(E,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,en.newInvalidDocument(v)))});let m=wl();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Il(v.mutation,g,Qn.empty(),Xt.now()),wh(i,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return tt.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(i)),tt.resolve()}getNamedQuery(t,i){return tt.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,function(o){return{name:o.name,query:SD(o.bundledQuery),readTime:gi(o.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.overlays=new ue(gt.comparator),this.qr=new Map}getOverlay(t,i){return tt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Mr();return tt.forEach(i,o=>this.getOverlay(t,o).next(u=>{u!==null&&r.set(o,u)})).next(()=>r)}saveOverlays(t,i,r){return r.forEach((o,u)=>{this.St(t,i,u)}),tt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(r)),tt.resolve()}getOverlaysForCollection(t,i,r){const o=Mr(),u=i.length+1,h=new gt(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ue((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=Mr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Mr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return tt.resolve(m)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new J2(i,r));let u=this.qr.get(i);u===void 0&&(u=Lt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.Qr=new Ie(ke.$r),this.Ur=new Ie(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ke(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach(r=>this.addReference(r,i))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach(r=>this.removeReference(r,i))}jr(t){const i=new gt(new ie([])),r=new ke(i,t),o=new ke(i,t+1),u=[];return this.Ur.forEachInRange([r,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new ie([])),r=new ke(i,t),o=new ke(i,t+1);let u=Lt();return this.Ur.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new ke(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(ke.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new W2(u,i,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,i){return tt.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?mp:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ie(Pt);return i.forEach(o=>{const u=new ke(o,0),h=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{r=r.add(m.Yr)})}),tt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;gt.isDocumentKey(u)||(u=u.child(""));const h=new ke(new gt(u),0);let m=new Ie(Pt);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),tt.resolve(this.ti(m))}ti(t){const i=[];return t.forEach(r=>{const o=this.Xr(r);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return tt.forEach(i.mutations,o=>{const u=new ke(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,i){const r=new ke(i,0),o=this.Zr.firstAfterOrEqual(r);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.ri=t,this.docs=function(){return new ue(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return tt.resolve(r?r.document.mutableCopy():en.newInvalidDocument(i))}getEntries(t,i){let r=$i();return i.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),tt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=$i();const h=i.path,m=new gt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||d2(f2(v),r)<=0||(o.has(v.key)||wh(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){Et(9500)}ii(t,i){return tt.forEach(this.docs,r=>i(r))}newChangeBuffer(t){return new kD(this)}getSize(t){return tt.resolve(this.size)}}class kD extends MD{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)}),tt.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.persistence=t,this.si=new kr(i=>yp(i),vp),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new bp,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach((r,o)=>i(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),tt.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,tt.resolve()}updateTargetData(t,i){return this.Pr(i),tt.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return tt.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),tt.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach(h=>{u.push(o.markPotentiallyOrphaned(t,h))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),tt.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return tt.resolve(r)}containsKey(t,i){return tt.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new LD,this.referenceDelegate=t(this),this.Pi=new zD(this),this.indexManager=new bD,this.remoteDocumentCache=function(o){return new BD(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new AD(i),this.Ii=new OD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new PD,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new UD(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ft("MemoryPersistence","Starting transaction:",t);const o=new jD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,i){return tt.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,i)))}}class jD extends p2{constructor(t){super(),this.currentSequenceNumber=t}}class wp{constructor(t){this.persistence=t,this.Ri=new bp,this.Vi=null}static mi(t){return new wp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),tt.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),tt.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>r.removeTargetData(t,i))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,r=>{const o=gt.fromPath(r);return this.gi(t,o).next(u=>{u||i.removeEntry(o,Dt.min())})}).next(()=>(this.Vi=null,i.apply(t)))}updateLimboDocument(t,i){return this.gi(t,i).next(r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(t){return 0}gi(t,i){return tt.or([()=>tt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class hh{constructor(t,i){this.persistence=t,this.pi=new kr(r=>v2(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=xD(this,i)}static mi(t,i){return new hh(t,i)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>i.next(o=>r+o))}wr(t){let i=0;return this.pr(t,r=>{i++}).next(()=>i)}pr(t,i){return tt.forEach(this.pi,(r,o)=>this.br(t,r,o).next(u=>u?tt.resolve():i(o)))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,h=>this.br(t,h,i).next(m=>{m||(r++,u.removeEntry(h,Dt.min()))})).next(()=>u.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),tt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),tt.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hc(t.data.value)),i}br(t,i,r){return tt.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return tt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Lt(),o=Lt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rp(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Lw()?8:g2(Ow())>0?6:4}()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ys(t,i).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(t,i,o,r).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new qD;return this.Ss(t,i,h).next(m=>{if(u.result=m,this.Vs)return this.bs(t,i,h,m.size)})}).next(()=>u.result)}bs(t,i,r,o){return r.documentReadCount<this.fs?(Oa()<=jt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(Oa()<=jt.DEBUG&&ft("QueryEngine","Query:",Pa(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Oa()<=jt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mi(i))):tt.resolve())}ys(t,i){if(T0(i))return tt.resolve(null);let r=mi(i);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Mm(i,null,"F"),r=mi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next(u=>{const h=Lt(...u);return this.ps.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.Ds(i,m);return this.Cs(i,g,h,p.readTime)?this.ys(t,Mm(i,null,"F")):this.vs(t,g,i,p)}))})))}ws(t,i,r,o){return T0(i)||o.isEqual(Dt.min())?tt.resolve(null):this.ps.getDocuments(t,r).next(u=>{const h=this.Ds(i,u);return this.Cs(i,h,r,o)?tt.resolve(null):(Oa()<=jt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(i)),this.vs(t,h,i,h2(o,jl)).next(m=>m))})}Ds(t,i){let r=new Ie(e1(t));return i.forEach((o,u)=>{wh(t,u)&&(r=r.add(u))}),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,r){return Oa()<=jt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Ls.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="LocalStore",HD=3e8;class GD{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ue(Pt),this.xs=new kr(u=>yp(u),vp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ND(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ms))}}function YD(n,t,i,r){return new GD(n,t,i,r)}async function b1(n,t){const i=Ct(n);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],m=[];let p=Lt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function KD(n,t){const i=Ct(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const E=g.batch,S=E.keys();let M=tt.resolve();return S.forEach(U=>{M=M.next(()=>v.getEntry(p,U)).next(Y=>{const F=g.docVersions.get(U);Gt(F!==null,48541),Y.version.compareTo(F)<0&&(E.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),v.addEntry(Y)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,E))}(i,r,t,u).next(()=>u.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let p=Lt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>i.localDocuments.getDocuments(r,o))})}function w1(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Pi.getLastRemoteSnapshotVersion(i))}function QD(n,t){const i=Ct(n),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];t.targetChanges.forEach((v,E)=>{const S=o.get(E);if(!S)return;m.push(i.Pi.removeMatchingKeys(u,v.removedDocuments,E).next(()=>i.Pi.addMatchingKeys(u,v.addedDocuments,E)));let M=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?M=M.withResumeToken(Xe.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,r)),o=o.insert(E,M),function(Y,F,et){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=HD?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(S,M,v)&&m.push(i.Pi.updateTargetData(u,M))});let p=$i(),g=Lt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(XD(u,h,t.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!r.isEqual(Dt.min())){const v=i.Pi.getLastRemoteSnapshotVersion(u).next(E=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(v)}return tt.waitFor(m).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(i.Ms=o,u))}function XD(n,t,i){let r=Lt(),o=Lt();return i.forEach(u=>r=r.add(u)),t.getEntries(n,r).next(u=>{let h=$i();return i.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Dt.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ft(Dp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function ZD(n,t){const i=Ct(n);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=mp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function $D(n,t){const i=Ct(n);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return i.Pi.getTargetData(r,t).next(u=>u?(o=u,tt.resolve(o)):i.Pi.allocateTargetId(r).next(h=>(o=new xs(t,h,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r})}async function Lm(n,t,i){const r=Ct(n),o=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ao(h))throw h;ft(Dp,`Failed to update sequence numbers for target ${t}: ${h}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function N0(n,t,i){const r=Ct(n);let o=Dt.min(),u=Lt();return r.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const E=Ct(p),S=E.xs.get(v);return S!==void 0?tt.resolve(E.Ms.get(S)):E.Pi.getTargetData(g,v)}(r,h,mi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>r.Fs.getDocumentsMatchingQuery(h,t,i?o:Dt.min(),i?u:Lt())).next(m=>(WD(r,U2(t),m),{documents:m,Qs:u})))}function WD(n,t,i){let r=n.Os.get(t)||Dt.min();i.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Os.set(t,r)}class O0{constructor(){this.activeTargetIds=F2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JD{constructor(){this.Mo=new O0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new O0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="ConnectivityMonitor";class L0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(P0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(P0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Um(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RestConnection",eC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,u){const h=Um(),m=this.zo(t,i.toUriEncodedString());ft(Wd,`Sending RPC '${t}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=cp(g);return this.Jo(t,m,p,r,v).then(E=>(ft(Wd,`Received RPC '${t}' ${h}: `,E),E),E=>{throw Xa(Wd,`RPC '${t}' ${h} failed with error: `,E,"url: ",m,"request:",r),E})}Ho(t,i,r,o,u,h){return this.Go(t,i,r,o,u)}jo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,u)=>t[u]=o),r&&r.headers.forEach((o,u)=>t[u]=o)}zo(t,i){const r=eC[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class sC extends nC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,u){const h=Um();return new Promise((m,p)=>{const g=new DE;g.setWithCredentials(!0),g.listenOnce(CE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Fc.NO_ERROR:const E=g.getResponseJson();ft(Je,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(E)),m(E);break;case Fc.TIMEOUT:ft(Je,`RPC '${t}' ${h} timed out`),p(new dt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const S=g.getStatus();if(ft(Je,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M?.error;if(U&&U.status&&U.message){const Y=function(et){const nt=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(nt)>=0?nt:J.UNKNOWN}(U.status);p(new dt(Y,U.message))}else p(new dt(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new dt(J.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(Je,`RPC '${t}' ${h} completed.`)}});const v=JSON.stringify(o);ft(Je,`RPC '${t}' ${h} sending request:`,o),g.send(i,"POST",v,r,15)})}T_(t,i,r){const o=Um(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=ME(),m=xE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const v=u.join("");ft(Je,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=h.createWebChannel(v,p);this.I_(E);let S=!1,M=!1;const U=new iC({Yo:F=>{M?ft(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(S||(ft(Je,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ft(Je,`RPC '${t}' stream ${o} sending:`,F),E.send(F))},Zo:()=>E.close()}),Y=(F,et,nt)=>{F.listen(et,Q=>{try{nt(Q)}catch(ht){setTimeout(()=>{throw ht},0)}})};return Y(E,bl.EventType.OPEN,()=>{M||(ft(Je,`RPC '${t}' stream ${o} transport opened.`),U.o_())}),Y(E,bl.EventType.CLOSE,()=>{M||(M=!0,ft(Je,`RPC '${t}' stream ${o} transport closed`),U.a_(),this.E_(E))}),Y(E,bl.EventType.ERROR,F=>{M||(M=!0,Xa(Je,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),U.a_(new dt(J.UNAVAILABLE,"The operation could not be completed")))}),Y(E,bl.EventType.MESSAGE,F=>{if(!M){const et=F.data[0];Gt(!!et,16349);const nt=et,Q=nt?.error||nt[0]?.error;if(Q){ft(Je,`RPC '${t}' stream ${o} received error:`,Q);const ht=Q.status;let st=function(w){const D=Se[w];if(D!==void 0)return f1(D)}(ht),ct=Q.message;st===void 0&&(st=J.INTERNAL,ct="Unknown error status: "+ht+" with message "+Q.message),M=!0,U.a_(new dt(st,ct)),E.close()}else ft(Je,`RPC '${t}' stream ${o} received:`,et),U.u_(et)}}),Y(m,VE.STAT_EVENT,F=>{F.stat===bm.PROXY?ft(Je,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===bm.NOPROXY&&ft(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(i=>i===t)}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n){return new lD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="PersistentStream";class D1{constructor(t,i,r,o,u,h,m,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===i&&this.G_(r,o)},r=>{t(()=>{const o=new dt(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ft(U0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget(()=>this.D_===t?i():(ft(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rC extends D1{constructor(t,i,r,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=hD(this.serializer,t),r=function(u){if(!("targetChange"in u))return Dt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Dt.min():h.readTime?gi(h.readTime):Dt.min()}(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Pm(this.serializer),i.addTarget=function(u,h){let m;const p=h.target;if(m=Vm(p)?{documents:mD(u,p)}:{query:pD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=p1(u,h.resumeToken);const g=Im(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Dt.min())>0){m.readTime=ch(u,h.snapshotVersion.toTimestamp());const g=Im(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const r=yD(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Pm(this.serializer),i.removeTarget=t,this.q_(i)}}class aC extends D1{constructor(t,i,r,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=dD(t.writeResults,t.commitTime),r=gi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map(r=>fD(this.serializer,r))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{}class lC extends oC{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(t,Nm(i,r),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(J.UNKNOWN,u.toString())})}Ho(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(t,Nm(i,r),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt(J.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):ft("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="RemoteStore";class cC{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{r.enqueueAndForget(async()=>{jr(this)&&(ft(Ur,"Restarting streams for network reachability change."),await async function(p){const g=Ct(p);g.Ea.add(4),await iu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await xh(g)}(this))})}),this.Ra=new uC(r,o)}}async function xh(n){if(jr(n))for(const t of n.da)await t(!0)}async function iu(n){for(const t of n.da)await t(!1)}function C1(n,t){const i=Ct(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Mp(i)?xp(i):oo(i).O_()&&Vp(i,t))}function Cp(n,t){const i=Ct(n),r=oo(i);i.Ia.delete(t),r.O_()&&V1(i,t),i.Ia.size===0&&(r.O_()?r.L_():jr(i)&&i.Ra.set("Unknown"))}function Vp(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(n).Y_(t)}function V1(n,t){n.Va.Ue(t),oo(n).Z_(t)}function xp(n){n.Va=new sD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),oo(n).start(),n.Ra.ua()}function Mp(n){return jr(n)&&!oo(n).x_()&&n.Ia.size>0}function jr(n){return Ct(n).Ea.size===0}function x1(n){n.Va=void 0}async function hC(n){n.Ra.set("Online")}async function fC(n){n.Ia.forEach((t,i)=>{Vp(n,t)})}async function dC(n,t){x1(n),Mp(n)?(n.Ra.ha(t),xp(n)):n.Ra.set("Unknown")}async function mC(n,t,i){if(n.Ra.set("Online"),t instanceof m1&&t.state===2&&t.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(n,t)}catch(r){ft(Ur,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fh(n,r)}else if(t instanceof Kc?n.Va.Ze(t):t instanceof d1?n.Va.st(t):n.Va.tt(t),!i.isEqual(Dt.min()))try{const r=await w1(n.localStore);i.compareTo(r)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Xe.EMPTY_BYTE_STRING,v.snapshotVersion)),V1(u,p);const E=new xs(v.target,p,g,v.sequenceNumber);Vp(u,E)}),u.remoteSyncer.applyRemoteEvent(m)}(n,i)}catch(r){ft(Ur,"Failed to raise snapshot:",r),await fh(n,r)}}async function fh(n,t,i){if(!ao(t))throw t;n.Ea.add(1),await iu(n),n.Ra.set("Offline"),i||(i=()=>w1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ft(Ur,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await xh(n)})}function M1(n,t){return t().catch(i=>fh(n,i,t))}async function Mh(n){const t=Ct(n),i=zs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mp;for(;pC(t);)try{const o=await ZD(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,gC(t,o)}catch(o){await fh(t,o)}I1(t)&&N1(t)}function pC(n){return jr(n)&&n.Ta.length<10}function gC(n,t){n.Ta.push(t);const i=zs(n);i.O_()&&i.X_&&i.ea(t.mutations)}function I1(n){return jr(n)&&!zs(n).x_()&&n.Ta.length>0}function N1(n){zs(n).start()}async function yC(n){zs(n).ra()}async function vC(n){const t=zs(n);for(const i of n.Ta)t.ea(i.mutations)}async function _C(n,t,i){const r=n.Ta.shift(),o=Ep.from(r,t,i);await M1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Mh(n)}async function TC(n,t){t&&zs(n).X_&&await async function(r,o){if(function(h){return eD(h)&&h!==J.ABORTED}(o.code)){const u=r.Ta.shift();zs(r).B_(),await M1(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Mh(r)}}(n,t),I1(n)&&N1(n)}async function B0(n,t){const i=Ct(n);i.asyncQueue.verifyOperationInProgress(),ft(Ur,"RemoteStore received new credentials");const r=jr(i);i.Ea.add(3),await iu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await xh(i)}async function EC(n,t){const i=Ct(n);t?(i.Ea.delete(2),await xh(i)):t||(i.Ea.add(2),await iu(i),i.Ra.set("Unknown"))}function oo(n){return n.ma||(n.ma=function(i,r,o){const u=Ct(i);return u.sa(),new rC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:hC.bind(null,n),t_:fC.bind(null,n),r_:dC.bind(null,n),H_:mC.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Mp(n)?xp(n):n.Ra.set("Unknown")):(await n.ma.stop(),x1(n))})),n.ma}function zs(n){return n.fa||(n.fa=function(i,r,o){const u=Ct(i);return u.sa(),new aC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:yC.bind(null,n),r_:TC.bind(null,n),ta:vC.bind(null,n),na:_C.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Mh(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(Ur,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const h=Date.now()+r,m=new Ip(t,i,h,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(n,t){if(Zi("AsyncQueue",`${t}: ${n}`),ao(n))return new dt(J.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=wl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,r)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.ga=new ue(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal((i,r)=>{t.push(r)}),t}}class to{constructor(t,i,r,o,u,h,m,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new to(t,i,Ha.emptySet(i),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class SC{constructor(){this.queries=z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ct(i),u=o.queries;o.queries=z0(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(r)})})(this,new dt(J.ABORTED,"Firestore shutting down"))}}function z0(){return new kr(n=>t1(n),bh)}async function bC(n,t){const i=Ct(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new AC,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const m=Np(h,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Op(i)}async function wC(n,t){const i=Ct(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function RC(n,t){const i=Ct(n);let r=!1;for(const o of t){const u=o.query,h=i.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&Op(i)}function DC(n,t,i){const r=Ct(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);r.queries.delete(t)}function Op(n){n.Ca.forEach(t=>{t.next()})}var Bm,j0;(j0=Bm||(Bm={})).Ma="default",j0.Cache="cache";class CC{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new to(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.key=t}}class P1{constructor(t){this.key=t}}class VC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=e1(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new k0,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const S=o.get(v),M=wh(this.query,E)?E:null,U=!!S&&this.mutatedKeys.has(S.key),Y=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let F=!1;S&&M?S.data.isEqual(M.data)?U!==Y&&(r.track({type:3,doc:M}),F=!0):this.su(S,M)||(r.track({type:2,doc:M}),F=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!S&&M?(r.track({type:0,doc:M}),F=!0):S&&!M&&(r.track({type:1,doc:S}),F=!0,(p||g)&&(m=!0)),F&&(M?(h=h.add(M),u=Y?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort((v,E)=>function(M,U){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:F})}};return Y(M)-Y(U)}(v.type,E.type)||this.eu(v.doc,E.doc)),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new to(this.query,t.tu,u,h,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new k0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const i=[];return t.forEach(r=>{this.Xa.has(r)||i.push(new P1(r))}),this.Xa.forEach(r=>{t.has(r)||i.push(new O1(r))}),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pp="SyncEngine";class xC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class MC{constructor(t){this.key=t,this.hu=!1}}class IC{constructor(t,i,r,o,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new kr(m=>t1(m),bh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(gt.comparator),this.Au=new Map,this.Ru=new bp,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NC(n,t,i=!0){const r=j1(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await L1(r,t,i,!0),o}async function OC(n,t){const i=j1(n);await L1(i,t,!0,!1)}async function L1(n,t,i,r){const o=await $D(n.localStore,mi(t)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await PC(n,t,u,h==="current",o.resumeToken)),n.isPrimaryClient&&i&&C1(n.remoteStore,o),m}async function PC(n,t,i,r,o){n.pu=(E,S,M)=>async function(Y,F,et,nt){let Q=F.view.ru(et);Q.Cs&&(Q=await N0(Y.localStore,F.query,!1).then(({documents:x})=>F.view.ru(x,Q)));const ht=nt&&nt.targetChanges.get(F.targetId),st=nt&&nt.targetMismatches.get(F.targetId)!=null,ct=F.view.applyChanges(Q,Y.isPrimaryClient,ht,st);return F0(Y,F.targetId,ct.au),ct.snapshot}(n,E,S,M);const u=await N0(n.localStore,t,!0),h=new VC(t,u.Qs),m=h.ru(u.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=h.applyChanges(m,n.isPrimaryClient,p);F0(n,i,g.au);const v=new xC(t,i,h);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function LC(n,t,i){const r=Ct(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter(h=>!bh(h,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Cp(r.remoteStore,o.targetId),km(r,o.targetId)}).catch(ro)):(km(r,o.targetId),await Lm(r.localStore,o.targetId,!0))}async function UC(n,t){const i=Ct(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Cp(i.remoteStore,r.targetId))}async function BC(n,t,i){const r=GC(n);try{const o=await function(h,m){const p=Ct(h),g=Xt.now(),v=m.reduce((M,U)=>M.add(U.key),Lt());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let U=$i(),Y=Lt();return p.Ns.getEntries(M,v).next(F=>{U=F,U.forEach((et,nt)=>{nt.isValidDocument()||(Y=Y.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,U)).next(F=>{E=F;const et=[];for(const nt of m){const Q=Z2(nt,E.get(nt.key).overlayedDocument);Q!=null&&et.push(new zr(nt.key,Q,GE(Q.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,et,m)}).next(F=>{S=F;const et=F.applyToLocalDocumentSet(E,Y);return p.documentOverlayCache.saveOverlays(M,F.batchId,et)})}).then(()=>({batchId:S.batchId,changes:i1(E)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ue(Pt)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g}(r,o.batchId,i),await su(r,o.changes),await Mh(r.remoteStore)}catch(o){const u=Np(o,"Failed to persist write");i.reject(u)}}async function U1(n,t){const i=Ct(n);try{const r=await QD(i.localStore,t);t.targetChanges.forEach((o,u)=>{const h=i.Au.get(u);h&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Gt(h.hu,14607):o.removedDocuments.size>0&&(Gt(h.hu,42227),h.hu=!1))}),await su(i,r,t)}catch(r){await ro(r)}}function q0(n,t,i){const r=Ct(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ct(h);p.onlineState=m;let g=!1;p.queries.forEach((v,E)=>{for(const S of E.Sa)S.va(m)&&(g=!0)}),g&&Op(p)}(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function kC(n,t,i){const r=Ct(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let h=new ue(gt.comparator);h=h.insert(u,en.newNoDocument(u,Dt.min()));const m=Lt().add(u),p=new Ch(Dt.min(),new Map,new ue(Pt),h,m);await U1(r,p),r.du=r.du.remove(u),r.Au.delete(t),Lp(r)}else await Lm(r.localStore,t,!1).then(()=>km(r,t,i)).catch(ro)}async function zC(n,t){const i=Ct(n),r=t.batch.batchId;try{const o=await KD(i.localStore,t);k1(i,r,null),B1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await su(i,o)}catch(o){await ro(o)}}async function jC(n,t,i){const r=Ct(n);try{const o=await function(h,m){const p=Ct(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(E=>(Gt(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(r.localStore,t);k1(r,t,i),B1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await su(r,o)}catch(o){await ro(o)}}function B1(n,t){(n.mu.get(t)||[]).forEach(i=>{i.resolve()}),n.mu.delete(t)}function k1(n,t,i){const r=Ct(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function km(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(r=>{n.Ru.containsKey(r)||z1(n,r)})}function z1(n,t){n.Eu.delete(t.path.canonicalString());const i=n.du.get(t);i!==null&&(Cp(n.remoteStore,i),n.du=n.du.remove(t),n.Au.delete(i),Lp(n))}function F0(n,t,i){for(const r of i)r instanceof O1?(n.Ru.addReference(r.key,t),qC(n,r)):r instanceof P1?(ft(Pp,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||z1(n,r.key)):Et(19791,{wu:r})}function qC(n,t){const i=t.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(ft(Pp,"New document in limbo: "+i),n.Eu.add(r),Lp(n))}function Lp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new gt(ie.fromString(t)),r=n.fu.next();n.Au.set(r,new MC(i)),n.du=n.du.insert(i,r),C1(n.remoteStore,new xs(mi(WE(i.path)),r,"TargetPurposeLimboResolution",Eh.ce))}}async function su(n,t,i){const r=Ct(n),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach((m,p)=>{h.push(r.pu(p,t,i).then(g=>{if((g||i)&&r.isPrimaryClient){const v=g?!g.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Rp.As(p.targetId,g);u.push(v)}}))}),await Promise.all(h),r.Pu.H_(o),await async function(p,g){const v=Ct(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>tt.forEach(g,S=>tt.forEach(S.Es,M=>v.persistence.referenceDelegate.addReference(E,S.targetId,M)).next(()=>tt.forEach(S.ds,M=>v.persistence.referenceDelegate.removeReference(E,S.targetId,M)))))}catch(E){if(!ao(E))throw E;ft(Dp,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const M=v.Ms.get(S),U=M.snapshotVersion,Y=M.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(S,Y)}}}(r.localStore,u))}async function FC(n,t){const i=Ct(n);if(!i.currentUser.isEqual(t)){ft(Pp,"User change. New user:",t.toKey());const r=await b1(i.localStore,t);i.currentUser=t,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new dt(J.CANCELLED,h))})}),u.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await su(i,r.Ls)}}function HC(n,t){const i=Ct(n),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const u=i.Iu.get(t);if(!u)return o;for(const h of u){const m=i.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function j1(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=U1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kC.bind(null,t),t.Pu.H_=RC.bind(null,t.eventManager),t.Pu.yu=DC.bind(null,t.eventManager),t}function GC(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jC.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return YD(this.persistence,new FD,t.initialUser,this.serializer)}Cu(t){return new S1(wp.mi,this.serializer)}Du(t){return new JD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class YC extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CD(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new S1(r=>hh.mi(r,i),this.serializer)}}class zm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FC.bind(null,this.syncEngine),await EC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new SC}()}createDatastore(t){const i=Vh(t.databaseInfo.databaseId),r=function(u){return new sC(u)}(t.databaseInfo);return function(u,h,m,p){return new lC(u,h,m,p)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,o,u,h,m){return new cC(r,o,u,h,m)}(this.localStore,this.datastore,t.asyncQueue,i=>q0(this.syncEngine,i,0),function(){return L0.v()?new L0:new tC}())}createSyncEngine(t,i){return function(o,u,h,m,p,g,v){const E=new IC(o,u,h,m,p,g);return v&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const r=Ct(i);ft(Ur,"RemoteStore shutting down."),r.Ea.add(5),await iu(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="FirestoreClient";class QC{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,async h=>{ft(js,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(r,h=>(ft(js,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Np(i,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function tm(n,t){n.asyncQueue.verifyOperationInProgress(),ft(js,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await b1(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function H0(n,t){n.asyncQueue.verifyOperationInProgress();const i=await XC(n);ft(js,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener(r=>B0(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>B0(t.remoteStore,o)),n._onlineComponents=t}async function XC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(js,"Using user provided OfflineComponentProvider");try{await tm(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await tm(n,new dh)}}else ft(js,"Using default OfflineComponentProvider"),await tm(n,new YC(void 0));return n._offlineComponents}async function q1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(js,"Using user provided OnlineComponentProvider"),await H0(n,n._uninitializedComponentsProvider._online)):(ft(js,"Using default OnlineComponentProvider"),await H0(n,new zm))),n._onlineComponents}function ZC(n){return q1(n).then(t=>t.syncEngine)}async function $C(n){const t=await q1(n),i=t.eventManager;return i.onListen=NC.bind(null,t.syncEngine),i.onUnlisten=LC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=OC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=UC.bind(null,t.syncEngine),i}function WC(n,t,i={}){const r=new Os;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new KC({next:S=>{v.Nu(),h.enqueueAndForget(()=>wC(u,E)),S.fromCache&&p.source==="server"?g.reject(new dt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new CC(m,v,{includeMetadataChanges:!0,qa:!0});return bC(u,E)}(await $C(n),n.asyncQueue,t,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firestore.googleapis.com",Y0=!0;class K0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H1,this.ssl=Y0}else this.host=t.host,this.ssl=t.ssl??Y0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=A1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<RD)throw new dt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}c2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F1(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t2;switch(r.type){case"firstParty":return new s2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=G0.get(i);r&&(ft("ComponentProvider","Removing Datastore"),G0.delete(i),r.terminate())}(this),Promise.resolve()}}function JC(n,t,i,r={}){n=zl(n,Ih);const o=cp(t),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},m=`${t}:${i}`;o&&(Vw(`https://${m}`),Nw("Firestore",!0)),u.host!==H1&&u.host!==m&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!th(p,h)&&(n._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=tn.MOCK_USER;else{g=xw(r.mockUserToken,n._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new dt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(E)}n._authCredentials=new e2(new NE(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new lo(this.firestore,t,this._query)}}class ze{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ze(this.firestore,t,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Jl(i,ze._jsonSchema))return new ze(t,r||null,new gt(ie.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Re("string",ze._jsonSchemaVersion),referencePath:Re("string")};class Ps extends lo{constructor(t,i,r){super(t,i,WE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ze(this.firestore,null,new gt(t))}withConverter(t){return new Ps(this.firestore,t,this._path)}}function em(n,t,...i){if(n=Qa(n),OE("collection","path",t),n instanceof Ih){const r=ie.fromString(t,...i);return a0(r),new Ps(n,null,r)}{if(!(n instanceof ze||n instanceof Ps))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return a0(r),new Ps(n.firestore,null,r)}}function G1(n,t,...i){if(n=Qa(n),arguments.length===1&&(t=dp.newId()),OE("doc","path",t),n instanceof Ih){const r=ie.fromString(t,...i);return r0(r),new ze(n,null,new gt(r))}{if(!(n instanceof ze||n instanceof Ps))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return r0(r),new ze(n.firestore,n instanceof Ps?n.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="AsyncQueue";class X0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R1(this,"async_queue_retry"),this._c=()=>{const r=Jd();r&&ft(Q0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Os;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;ft(Q0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const i=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",Z0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Ip.createAndSchedule(this,t,i,r,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:Z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Z0(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Nh extends Ih{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new X0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X0(t),this._firestoreClient=void 0,await t}}}function nm(n,t){const i=typeof n=="object"?n:FR(),r=typeof n=="string"?n:sh,o=BR(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Dw("firestore");u&&JC(o,...u)}return o}function Y1(n){if(n._terminated)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tV(n),n._firestoreClient}function tV(n){const t=n._freezeSettings(),i=function(o,u,h,m){return new E2(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,F1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new QC(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Xe.fromBase64String(t))}catch(i){throw new dt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Re("string",kn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,yi._jsonSchema))return new yi(t.latitude,t.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Re("string",yi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new vi(t.vectorValues);throw new dt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Re("string",vi._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=/^__.*__$/;class nV{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new zr(t,this.data,this.fieldMask,i,this.fieldTransforms):new eu(t,this.data,i,this.fieldTransforms)}}function Q1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:n})}}class Bp{constructor(t,i,r,o,u,h){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Q1(this.Ac)&&eV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class iV{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Vh(t)}Cc(t,i,r,o=!1){return new Bp({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X1(n){const t=n._freezeSettings(),i=Vh(n._databaseId);return new iV(n._databaseId,!!t.ignoreUndefinedProperties,i)}function sV(n,t,i,r,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,t,i,o);W1("Data must be an object, but it was:",h,r);const m=Z1(r,h);let p,g;if(u.merge)p=new Qn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=aV(t,E,i);if(!h.contains(S))throw new dt(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lV(v,S)||v.push(S)}p=new Qn(v),g=h.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=h.fieldTransforms;return new nV(new Bn(m),p,g)}function rV(n,t,i,r=!1){return kp(i,n.Cc(r?4:3,t))}function kp(n,t){if($1(n=Qa(n)))return W1("Unsupported field value:",t,n),Z1(n,t);if(n instanceof K1)return function(r,o){if(!Q1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,o){const u=[];let h=0;for(const m of r){let p=kp(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(n,t)}return function(r,o){if((r=Qa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Xt.fromDate(r);return{timestampValue:ch(o.serializer,u)}}if(r instanceof Xt){const u=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(r instanceof yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:p1(o.serializer,r._byteString)};if(r instanceof ze){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vi)return function(h,m){return{mapValue:{fields:{[FE]:{stringValue:HE},[rh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return _p(m.serializer,g)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${Th(r)}`)}(n,t)}function Z1(n,t){const i={};return UE(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Br(n,(r,o)=>{const u=kp(o,t.mc(r));u!=null&&(i[r]=u)}),{mapValue:{fields:i}}}function $1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xt||n instanceof yi||n instanceof kn||n instanceof ze||n instanceof K1||n instanceof vi)}function W1(n,t,i){if(!$1(i)||!PE(i)){const r=Th(i);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function aV(n,t,i){if((t=Qa(t))instanceof Up)return t._internalPath;if(typeof t=="string")return J1(n,t);throw mh("Field path arguments must be of type string or ",n,!1,void 0,i)}const oV=new RegExp("[~\\*/\\[\\]]");function J1(n,t,i){if(t.search(oV)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Up(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function mh(n,t,i,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new dt(J.INVALID_ARGUMENT,m+n+p)}function lV(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(zp("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class uV extends tA{data(){return super.data()}}function zp(n,t){return typeof t=="string"?J1(n,t):t instanceof Up?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new dt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jp{}class hV extends jp{}function fV(n,t,...i){let r=[];t instanceof jp&&r.push(t),r=r.concat(i),function(u){const h=u.filter(p=>p instanceof qp).length,m=u.filter(p=>p instanceof Oh).length;if(h>1||h>0&&m>0)throw new dt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Oh extends hV{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Oh(t,i,r)}_apply(t){const i=this._parse(t);return eA(t._query,i),new lo(t.firestore,t.converter,xm(t._query,i))}_parse(t){const i=X1(t.firestore);return function(u,h,m,p,g,v,E){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new dt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){J0(E,v);const U=[];for(const Y of E)U.push(W0(p,u,Y));S={arrayValue:{values:U}}}else S=W0(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||J0(E,v),S=rV(m,h,E,v==="in"||v==="not-in");return we.create(g,v,S)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function $0(n,t,i){const r=t,o=zp("where",n);return Oh._create(o,r,i)}class qp extends jp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new qp(t,i)}_parse(t){const i=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return i.length===1?i[0]:Xn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)eA(h,p),h=xm(h,p)}(t._query,i),new lo(t.firestore,t.converter,xm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W0(n,t,i){if(typeof(i=Qa(i))=="string"){if(i==="")throw new dt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JE(t)&&i.indexOf("/")!==-1)throw new dt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(ie.fromString(i));if(!gt.isDocumentKey(r))throw new dt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m0(n,new gt(r))}if(i instanceof ze)return m0(n,i._key);throw new dt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(i)}.`)}function J0(n,t){if(!Array.isArray(n)||n.length===0)throw new dt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eA(n,t){const i=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new dt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class dV{convertValue(t,i="none"){switch(ks(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Br(t,(o,u)=>{r[o]=this.convertValue(u,i)}),r}convertVectorValue(t){const i=t.fields?.[rh].arrayValue?.values?.map(r=>ve(r.doubleValue));return new vi(i)}convertGeoPoint(t){return new yi(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Sh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const i=Us(t);return new Xt(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Gt(E1(r),9688,{name:t});const o=new Fl(r.get(1),r.get(3)),u=new gt(r.popFirst(5));return o.isEqual(i)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n,t,i){let r;return r=n?n.toFirestore(t):t,r}class Bc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ga extends tA{constructor(t,i,r,o,u,h){super(t,i,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(zp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ga._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:Re("string",Ga._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Qc extends Ga{data(t={}){return super.data(t)}}class Ya{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Bc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(r=>{t.call(i,new Qc(this._firestore,this._userDataWriter,r.key,r,new Bc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:pV(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function pV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Re("string",Ya._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class gV extends dV{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function tT(n){n=zl(n,lo);const t=zl(n.firestore,Nh),i=Y1(t),r=new gV(t);return cV(n._query),WC(i,n._query).then(o=>new Ya(t,r,n,o))}function yV(n){return nA(zl(n.firestore,Nh),[new Tp(n._key,pi.none())])}function eT(n,t){const i=zl(n.firestore,Nh),r=G1(n),o=mV(n.converter,t);return nA(i,[sV(X1(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,pi.exists(!1))]).then(()=>r)}function nA(n,t){return function(r,o){const u=new Os;return r.asyncQueue.enqueueAndForget(async()=>BC(await ZC(r),o,u)),u.promise}(Y1(n),t)}(function(t,i=!0){(function(o){so=o})(qR),nh(new Bl("firestore",(r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new Nh(new n2(r.getProvider("auth-internal")),new r2(h,r.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new dt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(g.options.projectId,v)}(h,o),h);return u={useFetchStreams:i,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fa(e0,n0,t),Fa(e0,n0,"esm2020")})();var vV="firebase",_V="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa(vV,_V,"app");const TV={apiKey:"AIzaSyACwB4pRkYCZDXjE8VvhwixxTuc1N-UB2Q",authDomain:"healthtickcalender.firebaseapp.com",projectId:"healthtickcalender",storageBucket:"healthtickcalender.firebasestorage.app",messagingSenderId:"913024993722",appId:"1:913024993722:web:3ba674c74afe63f1e5f583",measurementId:"G-BXEV0H9XMC"},im=SE(TV),Fp=ut.createContext({});function Hp(n){const t=ut.useRef(null);return t.current===null&&(t.current=n()),t.current}const Gp=typeof window<"u",iA=Gp?ut.useLayoutEffect:ut.useEffect,Ph=ut.createContext(null);function Yp(n,t){n.indexOf(t)===-1&&n.push(t)}function Kp(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Wi=(n,t,i)=>i>t?t:i<n?n:i;let Qp=()=>{};const Ji={},sA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function rA(n){return typeof n=="object"&&n!==null}const aA=n=>/^0[^.\s]+$/u.test(n);function Xp(n){let t;return()=>(t===void 0&&(t=n()),t)}const zn=n=>n,EV=(n,t)=>i=>t(n(i)),ru=(...n)=>n.reduce(EV),Kl=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class Zp{constructor(){this.subscriptions=[]}add(t){return Yp(this.subscriptions,t),()=>Kp(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _i=n=>n*1e3,Ti=n=>n/1e3;function oA(n,t){return t?n*(1e3/t):0}const lA=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,AV=1e-7,SV=12;function bV(n,t,i,r,o){let u,h,m=0;do h=t+(i-t)/2,u=lA(h,r,o)-n,u>0?i=h:t=h;while(Math.abs(u)>AV&&++m<SV);return h}function au(n,t,i,r){if(n===t&&i===r)return zn;const o=u=>bV(u,0,1,n,i);return u=>u===0||u===1?u:lA(o(u),t,r)}const uA=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,cA=n=>t=>1-n(1-t),hA=au(.33,1.53,.69,.99),$p=cA(hA),fA=uA($p),dA=n=>(n*=2)<1?.5*$p(n):.5*(2-Math.pow(2,-10*(n-1))),Wp=n=>1-Math.sin(Math.acos(n)),mA=cA(Wp),pA=uA(Wp),wV=au(.42,0,1,1),RV=au(0,0,.58,1),gA=au(.42,0,.58,1),DV=n=>Array.isArray(n)&&typeof n[0]!="number",yA=n=>Array.isArray(n)&&typeof n[0]=="number",CV={linear:zn,easeIn:wV,easeInOut:gA,easeOut:RV,circIn:Wp,circInOut:pA,circOut:mA,backIn:$p,backInOut:fA,backOut:hA,anticipate:dA},VV=n=>typeof n=="string",nT=n=>{if(yA(n)){Qp(n.length===4);const[t,i,r,o]=n;return au(t,i,r,o)}else if(VV(n))return CV[n];return n},kc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function xV(n,t){let i=new Set,r=new Set,o=!1,u=!1;const h=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){h.has(v)&&(g.schedule(v),n()),v(m)}const g={schedule:(v,E=!1,S=!1)=>{const U=S&&o?i:r;return E&&h.add(v),U.has(v)||U.add(v),v},cancel:v=>{r.delete(v),h.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const MV=40;function vA(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,h=kc.reduce((Q,ht)=>(Q[ht]=xV(u),Q),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:S,render:M,postRender:U}=h,Y=()=>{const Q=Ji.useManualTiming?o.timestamp:performance.now();i=!1,Ji.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Q-o.timestamp,MV),1)),o.timestamp=Q,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),E.process(o),S.process(o),M.process(o),U.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(Y))},F=()=>{i=!0,r=!0,o.isProcessing||n(Y)};return{schedule:kc.reduce((Q,ht)=>{const st=h[ht];return Q[ht]=(ct,x=!1,w=!1)=>(i||F(),st.schedule(ct,x,w)),Q},{}),cancel:Q=>{for(let ht=0;ht<kc.length;ht++)h[kc[ht]].cancel(Q)},state:o,steps:h}}const{schedule:ae,cancel:qs,state:Ye,steps:sm}=vA(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Xc;function IV(){Xc=void 0}const dn={now:()=>(Xc===void 0&&dn.set(Ye.isProcessing||Ji.useManualTiming?Ye.timestamp:performance.now()),Xc),set:n=>{Xc=n,queueMicrotask(IV)}},_A=n=>t=>typeof t=="string"&&t.startsWith(n),Jp=_A("--"),NV=_A("var(--"),tg=n=>NV(n)?OV.test(n.split("/*")[0].trim()):!1,OV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ql={...uo,transform:n=>Wi(0,1,n)},zc={...uo,default:1},Nl=n=>Math.round(n*1e5)/1e5,eg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PV(n){return n==null}const LV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ng=(n,t)=>i=>!!(typeof i=="string"&&LV.test(i)&&i.startsWith(n)||t&&!PV(i)&&Object.prototype.hasOwnProperty.call(i,t)),TA=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,h,m]=r.match(eg);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(h),alpha:m!==void 0?parseFloat(m):1}},UV=n=>Wi(0,255,n),rm={...uo,transform:n=>Math.round(UV(n))},Ir={test:ng("rgb","red"),parse:TA("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+rm.transform(n)+", "+rm.transform(t)+", "+rm.transform(i)+", "+Nl(Ql.transform(r))+")"};function BV(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const jm={test:ng("#"),parse:BV,transform:Ir.transform},ou=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Vs=ou("deg"),Ei=ou("%"),St=ou("px"),kV=ou("vh"),zV=ou("vw"),iT={...Ei,parse:n=>Ei.parse(n)/100,transform:n=>Ei.transform(n*100)},Ba={test:ng("hsl","hue"),parse:TA("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ei.transform(Nl(t))+", "+Ei.transform(Nl(i))+", "+Nl(Ql.transform(r))+")"},be={test:n=>Ir.test(n)||jm.test(n)||Ba.test(n),parse:n=>Ir.test(n)?Ir.parse(n):Ba.test(n)?Ba.parse(n):jm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ir.transform(n):Ba.transform(n),getAnimatableNone:n=>{const t=be.parse(n);return t.alpha=0,be.transform(t)}},jV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qV(n){return isNaN(n)&&typeof n=="string"&&(n.match(eg)?.length||0)+(n.match(jV)?.length||0)>0}const EA="number",AA="color",FV="var",HV="var(",sT="${}",GV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xl(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(GV,p=>(be.test(p)?(r.color.push(u),o.push(AA),i.push(be.parse(p))):p.startsWith(HV)?(r.var.push(u),o.push(FV),i.push(p)):(r.number.push(u),o.push(EA),i.push(parseFloat(p))),++u,sT)).split(sT);return{values:i,split:m,indexes:r,types:o}}function SA(n){return Xl(n).values}function bA(n){const{split:t,types:i}=Xl(n),r=t.length;return o=>{let u="";for(let h=0;h<r;h++)if(u+=t[h],o[h]!==void 0){const m=i[h];m===EA?u+=Nl(o[h]):m===AA?u+=be.transform(o[h]):u+=o[h]}return u}}const YV=n=>typeof n=="number"?0:be.test(n)?be.getAnimatableNone(n):n;function KV(n){const t=SA(n);return bA(n)(t.map(YV))}const Fs={test:qV,parse:SA,createTransformer:bA,getAnimatableNone:KV};function am(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function QV({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,h=0;if(!t)o=u=h=i;else{const m=i<.5?i*(1+t):i+t-i*t,p=2*i-m;o=am(p,m,n+1/3),u=am(p,m,n),h=am(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:r}}function ph(n,t){return i=>i>0?t:n}const le=(n,t,i)=>n+(t-n)*i,om=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},XV=[jm,Ir,Ba],ZV=n=>XV.find(t=>t.test(n));function rT(n){const t=ZV(n);if(!t)return!1;let i=t.parse(n);return t===Ba&&(i=QV(i)),i}const aT=(n,t)=>{const i=rT(n),r=rT(t);if(!i||!r)return ph(n,t);const o={...i};return u=>(o.red=om(i.red,r.red,u),o.green=om(i.green,r.green,u),o.blue=om(i.blue,r.blue,u),o.alpha=le(i.alpha,r.alpha,u),Ir.transform(o))},qm=new Set(["none","hidden"]);function $V(n,t){return qm.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function WV(n,t){return i=>le(n,t,i)}function ig(n){return typeof n=="number"?WV:typeof n=="string"?tg(n)?ph:be.test(n)?aT:ex:Array.isArray(n)?wA:typeof n=="object"?be.test(n)?aT:JV:ph}function wA(n,t){const i=[...n],r=i.length,o=n.map((u,h)=>ig(u)(u,t[h]));return u=>{for(let h=0;h<r;h++)i[h]=o[h](u);return i}}function JV(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=ig(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function tx(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],h=n.indexes[u][r[u]],m=n.values[h]??0;i[o]=m,r[u]++}return i}const ex=(n,t)=>{const i=Fs.createTransformer(t),r=Xl(n),o=Xl(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?qm.has(n)&&!o.values.length||qm.has(t)&&!r.values.length?$V(n,t):ru(wA(tx(r,o),o.values),i):ph(n,t)};function RA(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?le(n,t,i):ig(n)(n,t)}const nx=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>ae.update(t,i),stop:()=>qs(t),now:()=>Ye.isProcessing?Ye.timestamp:dn.now()}},DA=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gh=2e4;function sg(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<gh;)t+=i,r=n.next(t);return t>=gh?1/0:t}function ix(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(sg(r),gh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Ti(o)}}const sx=5;function CA(n,t,i){const r=Math.max(t-sx,0);return oA(i-n(r),t-r)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lm=.001;function rx({duration:n=de.duration,bounce:t=de.bounce,velocity:i=de.velocity,mass:r=de.mass}){let o,u,h=1-t;h=Wi(de.minDamping,de.maxDamping,h),n=Wi(de.minDuration,de.maxDuration,Ti(n)),h<1?(o=g=>{const v=g*h,E=v*n,S=v-i,M=Fm(g,h),U=Math.exp(-E);return lm-S/M*U},u=g=>{const E=g*h*n,S=E*i+i,M=Math.pow(h,2)*Math.pow(g,2)*n,U=Math.exp(-E),Y=Fm(Math.pow(g,2),h);return(-o(g)+lm>0?-1:1)*((S-M)*U)/Y}):(o=g=>{const v=Math.exp(-g*n),E=(g-i)*n+1;return-lm+v*E},u=g=>{const v=Math.exp(-g*n),E=(i-g)*(n*n);return v*E});const m=5/n,p=ox(o,u,m);if(n=_i(n),isNaN(p))return{stiffness:de.stiffness,damping:de.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:h*2*Math.sqrt(r*g),duration:n}}}const ax=12;function ox(n,t,i){let r=i;for(let o=1;o<ax;o++)r=r-n(r)/t(r);return r}function Fm(n,t){return n*Math.sqrt(1-t*t)}const lx=["duration","bounce"],ux=["stiffness","damping","mass"];function oT(n,t){return t.some(i=>n[i]!==void 0)}function cx(n){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...n};if(!oT(n,ux)&&oT(n,lx))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Wi(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:de.mass,stiffness:o,damping:u}}else{const i=rx(n);t={...t,...i,mass:de.mass},t.isResolvedFromDuration=!0}return t}function yh(n=de.visualDuration,t=de.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],h=i.keyframes[i.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:M}=cx({...i,velocity:-Ti(i.velocity||0)}),U=S||0,Y=g/(2*Math.sqrt(p*v)),F=h-u,et=Ti(Math.sqrt(p/v)),nt=Math.abs(F)<5;r||(r=nt?de.restSpeed.granular:de.restSpeed.default),o||(o=nt?de.restDelta.granular:de.restDelta.default);let Q;if(Y<1){const st=Fm(et,Y);Q=ct=>{const x=Math.exp(-Y*et*ct);return h-x*((U+Y*et*F)/st*Math.sin(st*ct)+F*Math.cos(st*ct))}}else if(Y===1)Q=st=>h-Math.exp(-et*st)*(F+(U+et*F)*st);else{const st=et*Math.sqrt(Y*Y-1);Q=ct=>{const x=Math.exp(-Y*et*ct),w=Math.min(st*ct,300);return h-x*((U+Y*et*F)*Math.sinh(w)+st*F*Math.cosh(w))/st}}const ht={calculatedDuration:M&&E||null,next:st=>{const ct=Q(st);if(M)m.done=st>=E;else{let x=st===0?U:0;Y<1&&(x=st===0?_i(U):CA(Q,st,ct));const w=Math.abs(x)<=r,D=Math.abs(h-ct)<=o;m.done=w&&D}return m.value=m.done?h:ct,m},toString:()=>{const st=Math.min(sg(ht),gh),ct=DA(x=>ht.next(st*x).value,st,30);return st+"ms "+ct},toTransition:()=>{}};return ht}yh.applyToOptions=n=>{const t=ix(n,100,yh);return n.ease=t.ease,n.duration=_i(t.duration),n.type="keyframes",n};function Hm({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:m,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},M=w=>m!==void 0&&w<m||p!==void 0&&w>p,U=w=>m===void 0?p:p===void 0||Math.abs(m-w)<Math.abs(p-w)?m:p;let Y=i*t;const F=E+Y,et=h===void 0?F:h(F);et!==F&&(Y=et-E);const nt=w=>-Y*Math.exp(-w/r),Q=w=>et+nt(w),ht=w=>{const D=nt(w),I=Q(w);S.done=Math.abs(D)<=g,S.value=S.done?et:I};let st,ct;const x=w=>{M(S.value)&&(st=w,ct=yh({keyframes:[S.value,U(S.value)],velocity:CA(Q,w,S.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return x(0),{calculatedDuration:null,next:w=>{let D=!1;return!ct&&st===void 0&&(D=!0,ht(w),x(w)),st!==void 0&&w>=st?ct.next(w-st):(!D&&ht(w),S)}}}function hx(n,t,i){const r=[],o=i||Ji.mix||RA,u=n.length-1;for(let h=0;h<u;h++){let m=o(n[h],n[h+1]);if(t){const p=Array.isArray(t)?t[h]||zn:t;m=ru(p,m)}r.push(m)}return r}function fx(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(Qp(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=hx(t,r,o),p=m.length,g=v=>{if(h&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=Kl(n[E],n[E+1],v);return m[E](S)};return i?v=>g(Wi(n[0],n[u-1],v)):g}function dx(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=Kl(0,t,r);n.push(le(i,1,o))}}function mx(n){const t=[0];return dx(t,n.length-1),t}function px(n,t){return n.map(i=>i*t)}function gx(n,t){return n.map(()=>t||gA).splice(0,n.length-1)}function Ol({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=DV(r)?r.map(nT):nT(r),u={done:!1,value:t[0]},h=px(i&&i.length===t.length?i:mx(t),n),m=fx(h,t,{ease:Array.isArray(o)?o:gx(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const yx=n=>n!==null;function rg(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(yx),m=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const vx={decay:Hm,inertia:Hm,tween:Ol,keyframes:Ol,spring:yh};function VA(n){typeof n.type=="string"&&(n.type=vx[n.type])}class ag{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const _x=n=>n/100;class og extends ag{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;VA(t);const{type:i=Ol,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=t;let{keyframes:m}=t;const p=i||Ol;p!==Ol&&typeof m[0]!="number"&&(this.mixKeyframes=ru(_x,RA(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-h})),g.calculatedDuration===null&&(g.calculatedDuration=sg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:S,repeatDelay:M,type:U,onUpdate:Y,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const et=this.currentTime-g*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?et<0:et>o;this.currentTime=Math.max(et,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,ht=r;if(E){const w=Math.min(this.currentTime,o)/m;let D=Math.floor(w),I=w%1;!I&&w>=1&&(I=1),I===1&&D--,D=Math.min(D,E+1),!!(D%2)&&(S==="reverse"?(I=1-I,M&&(I-=M/m)):S==="mirror"&&(ht=h)),Q=Wi(0,1,I)*m}const st=nt?{done:!1,value:v[0]}:ht.next(Q);u&&(st.value=u(st.value));let{done:ct}=st;!nt&&p!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return x&&U!==Hm&&(st.value=rg(v,this.options,F,this.speed)),Y&&Y(st.value),x&&this.finish(),st}then(t,i){return this.finished.then(t,i)}get duration(){return Ti(this.calculatedDuration)}get time(){return Ti(this.currentTime)}set time(t){t=_i(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(dn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=nx,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Tx(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Nr=n=>n*180/Math.PI,Gm=n=>{const t=Nr(Math.atan2(n[1],n[0]));return Ym(t)},Ex={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Gm,rotateZ:Gm,skewX:n=>Nr(Math.atan(n[1])),skewY:n=>Nr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ym=n=>(n=n%360,n<0&&(n+=360),n),lT=Gm,uT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),cT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Ax={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uT,scaleY:cT,scale:n=>(uT(n)+cT(n))/2,rotateX:n=>Ym(Nr(Math.atan2(n[6],n[5]))),rotateY:n=>Ym(Nr(Math.atan2(-n[2],n[0]))),rotateZ:lT,rotate:lT,skewX:n=>Nr(Math.atan(n[4])),skewY:n=>Nr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Km(n){return n.includes("scale")?1:0}function Qm(n,t){if(!n||n==="none")return Km(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=Ax,o=i;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Ex,o=m}if(!o)return Km(t);const u=r[t],h=o[1].split(",").map(bx);return typeof u=="function"?u(h):h[u]}const Sx=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return Qm(i,t)};function bx(n){return parseFloat(n.trim())}const co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ho=new Set(co),hT=n=>n===uo||n===St,wx=new Set(["x","y","z"]),Rx=co.filter(n=>!wx.has(n));function Dx(n){const t=[];return Rx.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const Or={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Qm(t,"x"),y:(n,{transform:t})=>Qm(t,"y")};Or.translateX=Or.x;Or.translateY=Or.y;const Pr=new Set;let Xm=!1,Zm=!1,$m=!1;function xA(){if(Zm){const n=Array.from(Pr).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=Dx(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,h])=>{r.getValue(u)?.set(h)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zm=!1,Xm=!1,Pr.forEach(n=>n.complete($m)),Pr.clear()}function MA(){Pr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Zm=!0)})}function Cx(){$m=!0,MA(),xA(),$m=!1}class lg{constructor(t,i,r,o,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(Pr.add(this),Xm||(Xm=!0,ae.read(MA),ae.resolveKeyframes(xA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o?.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const m=r.readValue(i,h);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=h),o&&u===void 0&&o.set(t[0])}Tx(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Pr.delete(this)}cancel(){this.state==="scheduled"&&(Pr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Vx=n=>n.startsWith("--");function xx(n,t,i){Vx(t)?n.style.setProperty(t,i):n.style[t]=i}const Mx=Xp(()=>window.ScrollTimeline!==void 0),Ix={};function Nx(n,t){const i=Xp(n);return()=>Ix[t]??i()}const IA=Nx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,fT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dl([0,.65,.55,1]),circOut:Dl([.55,0,1,.45]),backIn:Dl([.31,.01,.66,-.59]),backOut:Dl([.33,1.53,.69,.99])};function NA(n,t){if(n)return typeof n=="function"?IA()?DA(n,t):"ease-out":yA(n)?Dl(n):Array.isArray(n)?n.map(i=>NA(i,t)||fT.easeOut):fT[n]}function Ox(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const E=NA(m,o);Array.isArray(E)&&(v.easing=E);const S={delay:r,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),n.animate(v,S)}function OA(n){return typeof n=="function"&&"applyToOptions"in n}function Px({type:n,...t}){return OA(n)&&IA()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Lx extends ag{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=t,Qp(typeof t.type!="string");const g=Px(t);this.animation=Ox(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=rg(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):xx(i,r,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ti(Number(t))}get time(){return Ti(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_i(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Mx()?(this.animation.timeline=t,zn):i(this)}}const PA={anticipate:dA,backInOut:fA,circInOut:pA};function Ux(n){return n in PA}function Bx(n){typeof n.ease=="string"&&Ux(n.ease)&&(n.ease=PA[n.ease])}const dT=10;class kx extends Lx{constructor(t){Bx(t),VA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...h}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const m=new og({...h,autoplay:!1}),p=_i(this.finishedTime??this.time);i.setWithVelocity(m.sample(p-dT).value,m.sample(p).value,dT),m.stop()}}const mT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Fs.test(n)||n==="0")&&!n.startsWith("url("));function zx(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function jx(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],h=mT(o,t),m=mT(u,t);return!h||!m?!1:zx(n)||(i==="spring"||OA(i))&&r}function Wm(n){n.duration=0,n.type}const qx=new Set(["opacity","clipPath","filter","transform"]),Fx=Xp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Hx(n){const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:h}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return Fx()&&i&&qx.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&h!=="inertia"}const Gx=40;class Yx extends ag{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:m,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=dn.now();const S={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:h,name:p,motionValue:g,element:v,...E},M=v?.KeyframeResolver||lg;this.keyframeResolver=new M(m,(U,Y,F)=>this.onKeyframesResolved(U,Y,S,!F),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,r,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=dn.now(),jx(t,u,h,m)||((Ji.instantAnimations||!p)&&v?.(rg(t,r,i)),t[0]=t[t.length-1],Wm(r),r.repeat=0);const S={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>Gx?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},M=!g&&Hx(S)?new kx({...S,element:S.motionValue.owner.current}):new og(S);M.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Cx()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Kx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qx(n){const t=Kx.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function LA(n,t,i=1){const[r,o]=Qx(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const h=u.trim();return sA(h)?parseFloat(h):h}return tg(o)?LA(o,t,i+1):o}function ug(n,t){return n?.[t]??n?.default??n}const UA=new Set(["width","height","top","left","right","bottom",...co]),Xx={test:n=>n==="auto",parse:n=>n},BA=n=>t=>t.test(n),kA=[uo,St,Ei,Vs,zV,kV,Xx],pT=n=>kA.find(BA(n));function Zx(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||aA(n):!0}const $x=new Set(["brightness","contrast","saturate","opacity"]);function Wx(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(eg)||[];if(!r)return n;const o=i.replace(r,"");let u=$x.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const Jx=/\b([a-z-]*)\(.*?\)/gu,Jm={...Fs,getAnimatableNone:n=>{const t=n.match(Jx);return t?t.map(Wx).join(" "):n}},gT={...uo,transform:Math.round},tM={rotate:Vs,rotateX:Vs,rotateY:Vs,rotateZ:Vs,scale:zc,scaleX:zc,scaleY:zc,scaleZ:zc,skew:Vs,skewX:Vs,skewY:Vs,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Ql,originX:iT,originY:iT,originZ:St},cg={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...tM,zIndex:gT,fillOpacity:Ql,strokeOpacity:Ql,numOctaves:gT},eM={...cg,color:be,backgroundColor:be,outlineColor:be,fill:be,stroke:be,borderColor:be,borderTopColor:be,borderRightColor:be,borderBottomColor:be,borderLeftColor:be,filter:Jm,WebkitFilter:Jm},zA=n=>eM[n];function jA(n,t){let i=zA(n);return i!==Jm&&(i=Fs),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const nM=new Set(["auto","none","0"]);function iM(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!nM.has(u)&&Xl(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=jA(i,o)}class sM extends lg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),tg(g))){const v=LA(g,i.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!UA.has(r)||t.length!==2)return;const[o,u]=t,h=pT(o),m=pT(u);if(h!==m)if(hT(h)&&hT(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Or[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||Zx(t[o]))&&r.push(o);r.length&&iM(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Or[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,h=r[u];r[u]=Or[i](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function rM(n,t,i){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=i?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const qA=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function FA(n){return rA(n)&&"offsetHeight"in n}const yT=30,aM=n=>!isNaN(parseFloat(n));class oM{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=dn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Zp);const r=this.events[t].add(i);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,yT);return oA(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eo(n,t){return new oM(n,t)}const{schedule:hg}=vA(queueMicrotask,!1),Kn={x:!1,y:!1};function HA(){return Kn.x||Kn.y}function lM(n){return n==="x"||n==="y"?Kn[n]?null:(Kn[n]=!0,()=>{Kn[n]=!1}):Kn.x||Kn.y?null:(Kn.x=Kn.y=!0,()=>{Kn.x=Kn.y=!1})}function GA(n,t){const i=rM(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function vT(n){return!(n.pointerType==="touch"||HA())}function uM(n,t,i={}){const[r,o,u]=GA(n,i),h=m=>{if(!vT(m))return;const{target:p}=m,g=t(p,m);if(typeof g!="function"||!p)return;const v=E=>{vT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return r.forEach(m=>{m.addEventListener("pointerenter",h,o)}),u}const YA=(n,t)=>t?n===t?!0:YA(n,t.parentElement):!1,fg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,cM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hM(n){return cM.has(n.tagName)||n.tabIndex!==-1}const Zc=new WeakSet;function _T(n){return t=>{t.key==="Enter"&&n(t)}}function um(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fM=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=_T(()=>{if(Zc.has(i))return;um(i,"down");const o=_T(()=>{um(i,"up")}),u=()=>um(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function TT(n){return fg(n)&&!HA()}function dM(n,t,i={}){const[r,o,u]=GA(n,i),h=m=>{const p=m.currentTarget;if(!TT(m))return;Zc.add(p);const g=t(p,m),v=(M,U)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),Zc.has(p)&&Zc.delete(p),TT(M)&&typeof g=="function"&&g(M,{success:U})},E=M=>{v(M,p===window||p===document||i.useGlobalTarget||YA(p,M.target))},S=M=>{v(M,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",S,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",h,o),FA(m)&&(m.addEventListener("focus",g=>fM(g,o)),!hM(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function KA(n){return rA(n)&&"ownerSVGElement"in n}function mM(n){return KA(n)&&n.tagName==="svg"}const nn=n=>!!(n&&n.getVelocity),pM=[...kA,be,Fs],gM=n=>pM.find(BA(n)),dg=ut.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class yM extends ut.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const r=i.offsetParent,o=FA(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=i.offsetHeight||0,u.width=i.offsetWidth||0,u.top=i.offsetTop,u.left=i.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vM({children:n,isPresent:t,anchorX:i,root:r}){const o=ut.useId(),u=ut.useRef(null),h=ut.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=ut.useContext(dg);return ut.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:E,right:S}=h.current;if(t||!u.current||!p||!g)return;const M=i==="left"?`left: ${E}`:`right: ${S}`;u.current.dataset.motionPopId=o;const U=document.createElement("style");m&&(U.nonce=m);const Y=r??document.head;return Y.appendChild(U),U.sheet&&U.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${M}px !important;
            top: ${v}px !important;
          }
        `),()=>{Y.contains(U)&&Y.removeChild(U)}},[t]),lt.jsx(yM,{isPresent:t,childRef:u,sizeRef:h,children:ut.cloneElement(n,{ref:u})})}const _M=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:h,anchorX:m,root:p})=>{const g=Hp(TM),v=ut.useId();let E=!0,S=ut.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:i,custom:o,onExitComplete:M=>{g.set(M,!0);for(const U of g.values())if(!U)return;r&&r()},register:M=>(g.set(M,!1),()=>g.delete(M))}),[i,g,r]);return u&&E&&(S={...S}),ut.useMemo(()=>{g.forEach((M,U)=>g.set(U,!1))},[i]),ut.useEffect(()=>{!i&&!g.size&&r&&r()},[i]),h==="popLayout"&&(n=lt.jsx(vM,{isPresent:i,anchorX:m,root:p,children:n})),lt.jsx(Ph.Provider,{value:S,children:n})};function TM(){return new Map}function QA(n=!0){const t=ut.useContext(Ph);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=ut.useId();ut.useEffect(()=>{if(n)return o(u)},[n]);const h=ut.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,h]:[!0]}const jc=n=>n.key||"";function ET(n){const t=[];return ut.Children.forEach(n,i=>{ut.isValidElement(i)&&t.push(i)}),t}const EM=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:h=!1,anchorX:m="left",root:p})=>{const[g,v]=QA(h),E=ut.useMemo(()=>ET(n),[n]),S=h&&!g?[]:E.map(jc),M=ut.useRef(!0),U=ut.useRef(E),Y=Hp(()=>new Map),[F,et]=ut.useState(E),[nt,Q]=ut.useState(E);iA(()=>{M.current=!1,U.current=E;for(let ct=0;ct<nt.length;ct++){const x=jc(nt[ct]);S.includes(x)?Y.delete(x):Y.get(x)!==!0&&Y.set(x,!1)}},[nt,S.length,S.join("-")]);const ht=[];if(E!==F){let ct=[...E];for(let x=0;x<nt.length;x++){const w=nt[x],D=jc(w);S.includes(D)||(ct.splice(x,0,w),ht.push(w))}return u==="wait"&&ht.length&&(ct=ht),Q(ET(ct)),et(E),null}const{forceRender:st}=ut.useContext(Fp);return lt.jsx(lt.Fragment,{children:nt.map(ct=>{const x=jc(ct),w=h&&!g?!1:E===nt||S.includes(x),D=()=>{if(Y.has(x))Y.set(x,!0);else return;let I=!0;Y.forEach(O=>{O||(I=!1)}),I&&(st?.(),Q(U.current),h&&v?.(),r&&r())};return lt.jsx(_M,{isPresent:w,initial:!M.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:D,anchorX:m,children:ct},x)})})},XA=ut.createContext({strict:!1}),AT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},no={};for(const n in AT)no[n]={isEnabled:t=>AT[n].some(i=>!!t[i])};function AM(n){for(const t in n)no[t]={...no[t],...n[t]}}const SM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||SM.has(n)}let ZA=n=>!vh(n);function bM(n){typeof n=="function"&&(ZA=t=>t.startsWith("on")?!vh(t):n(t))}try{bM(require("@emotion/is-prop-valid").default)}catch{}function wM(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(ZA(o)||i===!0&&vh(o)||!t&&!vh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Lh=ut.createContext({});function Uh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Zl(n){return typeof n=="string"||Array.isArray(n)}const mg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pg=["initial",...mg];function Bh(n){return Uh(n.animate)||pg.some(t=>Zl(n[t]))}function $A(n){return!!(Bh(n)||n.variants)}function RM(n,t){if(Bh(n)){const{initial:i,animate:r}=n;return{initial:i===!1||Zl(i)?i:void 0,animate:Zl(r)?r:void 0}}return n.inherit!==!1?t:{}}function DM(n){const{initial:t,animate:i}=RM(n,ut.useContext(Lh));return ut.useMemo(()=>({initial:t,animate:i}),[ST(t),ST(i)])}function ST(n){return Array.isArray(n)?n.join(" "):n}const $l={};function CM(n){for(const t in n)$l[t]=n[t],Jp(t)&&($l[t].isCSSVariable=!0)}function WA(n,{layout:t,layoutId:i}){return ho.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!$l[n]||n==="opacity")}const VM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xM=co.length;function MM(n,t,i){let r="",o=!0;for(let u=0;u<xM;u++){const h=co[u],m=n[h];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(h.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||i){const g=qA(m,cg[h]);if(!p){o=!1;const v=VM[h]||h;r+=`${v}(${g}) `}i&&(t[h]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function gg(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let h=!1,m=!1;for(const p in t){const g=t[p];if(ho.has(p)){h=!0;continue}else if(Jp(p)){o[p]=g;continue}else{const v=qA(g,cg[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(h||i?r.transform=MM(t,n.transform,i):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}const yg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JA(n,t,i){for(const r in t)!nn(t[r])&&!WA(r,i)&&(n[r]=t[r])}function IM({transformTemplate:n},t){return ut.useMemo(()=>{const i=yg();return gg(i,t,n),Object.assign({},i.vars,i.style)},[t])}function NM(n,t){const i=n.style||{},r={};return JA(r,i,n),Object.assign(r,IM(n,t)),r}function OM(n,t){const i={},r=NM(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const PM={offset:"stroke-dashoffset",array:"stroke-dasharray"},LM={offset:"strokeDashoffset",array:"strokeDasharray"};function UM(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?PM:LM;n[u.offset]=St.transform(-r);const h=St.transform(t),m=St.transform(i);n[u.array]=`${h} ${m}`}function tS(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...m},p,g,v){if(gg(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:S}=n;E.transform&&(S.transform=E.transform,delete E.transform),(S.transform||E.transformOrigin)&&(S.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),S.transform&&(S.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),i!==void 0&&(E.y=i),r!==void 0&&(E.scale=r),o!==void 0&&UM(E,o,u,h,!1)}const eS=()=>({...yg(),attrs:{}}),nS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function BM(n,t,i,r){const o=ut.useMemo(()=>{const u=eS();return tS(u,t,nS(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};JA(u,n.style,n),o.style={...u,...o.style}}return o}const kM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vg(n){return typeof n!="string"||n.includes("-")?!1:!!(kM.indexOf(n)>-1||/[A-Z]/u.test(n))}function zM(n,t,i,{latestValues:r},o,u=!1){const m=(vg(n)?BM:OM)(t,r,o,n),p=wM(t,typeof n=="string",u),g=n!==ut.Fragment?{...p,...m,ref:i}:{},{children:v}=t,E=ut.useMemo(()=>nn(v)?v.get():v,[v]);return ut.createElement(n,{...g,children:E})}function bT(n){const t=[{},{}];return n?.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function _g(n,t,i,r){if(typeof t=="function"){const[o,u]=bT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=bT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function $c(n){return nn(n)?n.get():n}function jM({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:qM(i,r,o,n),renderState:t()}}function qM(n,t,i,r){const o={},u=r(n,{});for(const S in u)o[S]=$c(u[S]);let{initial:h,animate:m}=n;const p=Bh(n),g=$A(n);t&&g&&!p&&n.inherit!==!1&&(h===void 0&&(h=t.initial),m===void 0&&(m=t.animate));let v=i?i.initial===!1:!1;v=v||h===!1;const E=v?m:h;if(E&&typeof E!="boolean"&&!Uh(E)){const S=Array.isArray(E)?E:[E];for(let M=0;M<S.length;M++){const U=_g(n,S[M]);if(U){const{transitionEnd:Y,transition:F,...et}=U;for(const nt in et){let Q=et[nt];if(Array.isArray(Q)){const ht=v?Q.length-1:0;Q=Q[ht]}Q!==null&&(o[nt]=Q)}for(const nt in Y)o[nt]=Y[nt]}}}return o}const iS=n=>(t,i)=>{const r=ut.useContext(Lh),o=ut.useContext(Ph),u=()=>jM(n,t,r,o);return i?u():Hp(u)};function Tg(n,t,i){const{style:r}=n,o={};for(const u in r)(nn(r[u])||t.style&&nn(t.style[u])||WA(u,n)||i?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}const FM=iS({scrapeMotionValuesFromProps:Tg,createRenderState:yg});function sS(n,t,i){const r=Tg(n,t,i);for(const o in n)if(nn(n[o])||nn(t[o])){const u=co.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}const HM=iS({scrapeMotionValuesFromProps:sS,createRenderState:eS}),GM=Symbol.for("motionComponentSymbol");function ka(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function YM(n,t,i){return ut.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),i&&(typeof i=="function"?i(r):ka(i)&&(i.current=r))},[t])}const Eg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KM="framerAppearId",rS="data-"+Eg(KM),aS=ut.createContext({});function QM(n,t,i,r,o){const{visualElement:u}=ut.useContext(Lh),h=ut.useContext(XA),m=ut.useContext(Ph),p=ut.useContext(dg).reducedMotion,g=ut.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(n,{visualState:t,parent:u,props:i,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=ut.useContext(aS);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&XM(g.current,i,o,E);const S=ut.useRef(!1);ut.useInsertionEffect(()=>{v&&S.current&&v.update(i,m)});const M=i[rS],U=ut.useRef(!!M&&!window.MotionHandoffIsComplete?.(M)&&window.MotionHasOptimisedAnimation?.(M));return iA(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),U.current&&v.animationState&&v.animationState.animateChanges())}),ut.useEffect(()=>{v&&(!U.current&&v.animationState&&v.animationState.animateChanges(),U.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(M)}),U.current=!1),v.enteringChildren=void 0)}),v}function XM(n,t,i,r){const{layoutId:o,layout:u,drag:h,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:oS(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||m&&ka(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function oS(n){if(n)return n.options.allowProjection!==!1?n.projection:oS(n.parent)}function cm(n,{forwardMotionProps:t=!1}={},i,r){i&&AM(i);const o=vg(n)?HM:FM;function u(m,p){let g;const v={...ut.useContext(dg),...m,layoutId:ZM(m)},{isStatic:E}=v,S=DM(m),M=o(m,E);if(!E&&Gp){$M();const U=WM(v);g=U.MeasureLayout,S.visualElement=QM(n,M,v,r,U.ProjectionNode)}return lt.jsxs(Lh.Provider,{value:S,children:[g&&S.visualElement?lt.jsx(g,{visualElement:S.visualElement,...v}):null,zM(n,m,YM(M,S.visualElement,p),M,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=ut.forwardRef(u);return h[GM]=n,h}function ZM({layoutId:n}){const t=ut.useContext(Fp).id;return t&&n!==void 0?t+"-"+n:n}function $M(n,t){ut.useContext(XA).strict}function WM(n){const{drag:t,layout:i}=no;if(!t&&!i)return{};const r={...t,...i};return{MeasureLayout:t?.isEnabled(n)||i?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function JM(n,t){if(typeof Proxy>"u")return cm;const i=new Map,r=(u,h)=>cm(u,h,n,t),o=(u,h)=>r(u,h);return new Proxy(o,{get:(u,h)=>h==="create"?r:(i.has(h)||i.set(h,cm(h,void 0,n,t)),i.get(h))})}function lS({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function tI({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function eI(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function hm(n){return n===void 0||n===1}function tp({scale:n,scaleX:t,scaleY:i}){return!hm(n)||!hm(t)||!hm(i)}function xr(n){return tp(n)||uS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function uS(n){return wT(n.x)||wT(n.y)}function wT(n){return n&&n!=="0%"}function _h(n,t,i){const r=n-i,o=t*r;return i+o}function RT(n,t,i,r,o){return o!==void 0&&(n=_h(n,o,r)),_h(n,i,r)+t}function ep(n,t=0,i=1,r,o){n.min=RT(n.min,t,i,r,o),n.max=RT(n.max,t,i,r,o)}function cS(n,{x:t,y:i}){ep(n.x,t.translate,t.scale,t.originPoint),ep(n.y,i.translate,i.scale,i.originPoint)}const DT=.999999999999,CT=1.0000000000001;function nI(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,h;for(let m=0;m<o;m++){u=i[m],h=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ja(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,cS(n,h)),r&&xr(u.latestValues)&&ja(n,u.latestValues))}t.x<CT&&t.x>DT&&(t.x=1),t.y<CT&&t.y>DT&&(t.y=1)}function za(n,t){n.min=n.min+t,n.max=n.max+t}function VT(n,t,i,r,o=.5){const u=le(n.min,n.max,o);ep(n,t,i,u,r)}function ja(n,t){VT(n.x,t.x,t.scaleX,t.scale,t.originX),VT(n.y,t.y,t.scaleY,t.scale,t.originY)}function hS(n,t){return lS(eI(n.getBoundingClientRect(),t))}function iI(n,t,i){const r=hS(n,i),{scroll:o}=t;return o&&(za(r.x,o.offset.x),za(r.y,o.offset.y)),r}const xT=()=>({translate:0,scale:1,origin:0,originPoint:0}),qa=()=>({x:xT(),y:xT()}),MT=()=>({min:0,max:0}),ye=()=>({x:MT(),y:MT()}),np={current:null},fS={current:!1};function sI(){if(fS.current=!0,!!Gp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>np.current=n.matches;n.addEventListener("change",t),t()}else np.current=!1}const rI=new WeakMap;function aI(n,t,i){for(const r in t){const o=t[r],u=i[r];if(nn(o))n.addValue(r,o);else if(nn(u))n.addValue(r,eo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const h=n.getValue(r);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=n.getStaticValue(r);n.addValue(r,eo(h!==void 0?h:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const IT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oI{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=dn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ae.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Bh(i),this.isVariantNode=$A(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(i,{},this);for(const S in E){const M=E[S];p[S]!==void 0&&nn(M)&&M.set(p[S])}}mount(t){this.current=t,rI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),fS.current||sI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:np.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qs(this.notifyUpdate),qs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ho.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in no){const i=no[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<IT.length;r++){const o=IT[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=t[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=aI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=eo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(sA(r)||aA(r))?r=parseFloat(r):!gM(r)&&Fs.test(i)&&(r=jA(t,i)),this.setBaseTarget(t,nn(r)?r.get():r)),nn(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const u=_g(this.props,i,this.presenceContext?.custom);u&&(r=u[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!nn(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Zp),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){hg.render(this.render)}}class dS extends oI{constructor(){super(...arguments),this.KeyframeResolver=sM}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nn(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function mS(n,{style:t,vars:i},r,o){const u=n.style;let h;for(h in t)u[h]=t[h];o?.applyProjectionStyles(u,r);for(h in i)u.setProperty(h,i[h])}function lI(n){return window.getComputedStyle(n)}class uI extends dS{constructor(){super(...arguments),this.type="html",this.renderInstance=mS}readValueFromInstance(t,i){if(ho.has(i))return this.projection?.isProjecting?Km(i):Sx(t,i);{const r=lI(t),o=(Jp(i)?r.getPropertyValue(i):r[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return hS(t,i)}build(t,i,r){gg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Tg(t,i,r)}}const pS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cI(n,t,i,r){mS(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(pS.has(o)?o:Eg(o),t.attrs[o])}class hI extends dS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ho.has(i)){const r=zA(i);return r&&r.default||0}return i=pS.has(i)?i:Eg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return sS(t,i,r)}build(t,i,r){tS(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){cI(t,i,r,o)}mount(t){this.isSVGTag=nS(t.tagName),super.mount(t)}}const fI=(n,t)=>vg(n)?new hI(t):new uI(t,{allowProjection:n!==ut.Fragment});function Ka(n,t,i){const r=n.getProps();return _g(r,t,i!==void 0?i:r.custom,n)}const ip=n=>Array.isArray(n);function dI(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,eo(i))}function mI(n){return ip(n)?n[n.length-1]||0:n}function pI(n,t){const i=Ka(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const h in u){const m=mI(u[h]);dI(n,h,m)}}function gI(n){return!!(nn(n)&&n.add)}function sp(n,t){const i=n.getValue("willChange");if(gI(i))return i.add(t);if(!i&&Ji.WillChange){const r=new Ji.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function gS(n){return n.props[rS]}const yI=n=>n!==null;function vI(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(yI),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}const _I={type:"spring",stiffness:500,damping:25,restSpeed:10},TI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),EI={type:"keyframes",duration:.8},AI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SI=(n,{keyframes:t})=>t.length>2?EI:ho.has(n)?n.startsWith("scale")?TI(t[1]):_I:AI;function bI({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Ag=(n,t,i,r={},o,u)=>h=>{const m=ug(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-_i(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:S=>{t.set(S),m.onUpdate&&m.onUpdate(S)},onComplete:()=>{h(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};bI(m)||Object.assign(v,SI(n,v)),v.duration&&(v.duration=_i(v.duration)),v.repeatDelay&&(v.repeatDelay=_i(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Wm(v),v.delay===0&&(E=!0)),(Ji.instantAnimations||Ji.skipAnimations)&&(E=!0,Wm(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,E&&!u&&t.get()!==void 0){const S=vI(v.keyframes,m);if(S!==void 0){ae.update(()=>{v.onUpdate(S),v.onComplete()});return}}return m.isSync?new og(v):new Yx(v)};function wI({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function yS(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:h,...m}=t;r&&(u=r);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in m){const E=n.getValue(v,n.latestValues[v]??null),S=m[v];if(S===void 0||g&&wI(g,v))continue;const M={delay:i,...ug(u||{},v)},U=E.get();if(U!==void 0&&!E.isAnimating&&!Array.isArray(S)&&S===U&&!M.velocity)continue;let Y=!1;if(window.MotionHandoffAnimation){const et=gS(n);if(et){const nt=window.MotionHandoffAnimation(et,v,ae);nt!==null&&(M.startTime=nt,Y=!0)}}sp(n,v),E.start(Ag(v,E,S,n.shouldReduceMotion&&UA.has(v)?{type:!1}:M,n,Y));const F=E.animation;F&&p.push(F)}return h&&Promise.all(p).then(()=>{ae.update(()=>{h&&pI(n,h)})}),p}function vS(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),h=n.size,m=(h-1)*r;return typeof i=="function"?i(u,h):o===1?u*r:m-u*r}function rp(n,t,i={}){const r=Ka(n,t,i.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(yS(n,r,i)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return RI(n,t,p,g,v,E,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,g]=m==="beforeChildren"?[u,h]:[h,u];return p().then(()=>g())}else return Promise.all([u(),h(i.delay)])}function RI(n,t,i=0,r=0,o=0,u=1,h){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(rp(p,t,{...h,delay:i+(typeof r=="function"?0:r)+vS(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function DI(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>rp(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=rp(n,t,i);else{const o=typeof t=="function"?Ka(n,t,i.custom):t;r=Promise.all(yS(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}function _S(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const CI=pg.length;function TS(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?TS(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<CI;i++){const r=pg[i],o=n.props[r];(Zl(o)||o===!1)&&(t[r]=o)}return t}const VI=[...mg].reverse(),xI=mg.length;function MI(n){return t=>Promise.all(t.map(({animation:i,options:r})=>DI(n,i,r)))}function II(n){let t=MI(n),i=NT(),r=!0;const o=p=>(g,v)=>{const E=Ka(n,v,p==="exit"?n.presenceContext?.custom:void 0);if(E){const{transition:S,transitionEnd:M,...U}=E;g={...g,...U,...M}}return g};function u(p){t=p(n)}function h(p){const{props:g}=n,v=TS(n.parent)||{},E=[],S=new Set;let M={},U=1/0;for(let F=0;F<xI;F++){const et=VI[F],nt=i[et],Q=g[et]!==void 0?g[et]:v[et],ht=Zl(Q),st=et===p?nt.isActive:null;st===!1&&(U=F);let ct=Q===v[et]&&Q!==g[et]&&ht;if(ct&&r&&n.manuallyAnimateOnMount&&(ct=!1),nt.protectedKeys={...M},!nt.isActive&&st===null||!Q&&!nt.prevProp||Uh(Q)||typeof Q=="boolean")continue;const x=NI(nt.prevProp,Q);let w=x||et===p&&nt.isActive&&!ct&&ht||F>U&&ht,D=!1;const I=Array.isArray(Q)?Q:[Q];let O=I.reduce(o(et),{});st===!1&&(O={});const{prevResolvedValues:P={}}=nt,R={...P,...O},wt=$=>{w=!0,S.has($)&&(D=!0,S.delete($)),nt.needsAnimating[$]=!0;const rt=n.getValue($);rt&&(rt.liveStyle=!1)};for(const $ in R){const rt=O[$],_t=P[$];if(M.hasOwnProperty($))continue;let V=!1;ip(rt)&&ip(_t)?V=!_S(rt,_t):V=rt!==_t,V?rt!=null?wt($):S.add($):rt!==void 0&&S.has($)?wt($):nt.protectedKeys[$]=!0}nt.prevProp=Q,nt.prevResolvedValues=O,nt.isActive&&(M={...M,...O}),r&&n.blockInitialAnimation&&(w=!1);const bt=ct&&x;w&&(!bt||D)&&E.push(...I.map($=>{const rt={type:et};if(typeof $=="string"&&r&&!bt&&n.manuallyAnimateOnMount&&n.parent){const{parent:_t}=n,V=Ka(_t,$);if(_t.enteringChildren&&V){const{delayChildren:Z}=V.transition||{};rt.delay=vS(_t.enteringChildren,n,Z)}}return{animation:$,options:rt}}))}if(S.size){const F={};if(typeof g.initial!="boolean"){const et=Ka(n,Array.isArray(g.initial)?g.initial[0]:g.initial);et&&et.transition&&(F.transition=et.transition)}S.forEach(et=>{const nt=n.getBaseTarget(et),Q=n.getValue(et);Q&&(Q.liveStyle=!0),F[et]=nt??null}),E.push({animation:F})}let Y=!!E.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(Y=!1),r=!1,Y?t(E):Promise.resolve()}function m(p,g){if(i[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),i[p].isActive=g;const v=h(p);for(const E in i)i[E].protectedKeys={};return v}return{animateChanges:h,setActive:m,setAnimateFunction:u,getState:()=>i,reset:()=>{i=NT(),r=!0}}}function NI(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!_S(t,n):!1}function Cr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NT(){return{animate:Cr(!0),whileInView:Cr(),whileHover:Cr(),whileTap:Cr(),whileDrag:Cr(),whileFocus:Cr(),exit:Cr()}}class Hs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class OI extends Hs{constructor(t){super(t),t.animationState||(t.animationState=II(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PI=0;class LI extends Hs{constructor(){super(...arguments),this.id=PI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UI={animation:{Feature:OI},exit:{Feature:LI}};function Wl(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}function lu(n){return{point:{x:n.pageX,y:n.pageY}}}const BI=n=>t=>fg(t)&&n(t,lu(t));function Pl(n,t,i,r){return Wl(n,t,BI(i),r)}const ES=1e-4,kI=1-ES,zI=1+ES,AS=.01,jI=0-AS,qI=0+AS;function ln(n){return n.max-n.min}function FI(n,t,i){return Math.abs(n-t)<=i}function OT(n,t,i,r=.5){n.origin=r,n.originPoint=le(t.min,t.max,n.origin),n.scale=ln(i)/ln(t),n.translate=le(i.min,i.max,n.origin)-n.originPoint,(n.scale>=kI&&n.scale<=zI||isNaN(n.scale))&&(n.scale=1),(n.translate>=jI&&n.translate<=qI||isNaN(n.translate))&&(n.translate=0)}function Ll(n,t,i,r){OT(n.x,t.x,i.x,r?r.originX:void 0),OT(n.y,t.y,i.y,r?r.originY:void 0)}function PT(n,t,i){n.min=i.min+t.min,n.max=n.min+ln(t)}function HI(n,t,i){PT(n.x,t.x,i.x),PT(n.y,t.y,i.y)}function LT(n,t,i){n.min=t.min-i.min,n.max=n.min+ln(t)}function Ul(n,t,i){LT(n.x,t.x,i.x),LT(n.y,t.y,i.y)}function Un(n){return[n("x"),n("y")]}const SS=({current:n})=>n?n.ownerDocument.defaultView:null,UT=(n,t)=>Math.abs(n-t);function GI(n,t){const i=UT(n.x,t.x),r=UT(n.y,t.y);return Math.sqrt(i**2+r**2)}class bS{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=dm(this.lastMoveEventInfo,this.history),M=this.startEvent!==null,U=GI(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!M&&!U)return;const{point:Y}=S,{timestamp:F}=Ye;this.history.push({...Y,timestamp:F});const{onStart:et,onMove:nt}=this.handlers;M||(et&&et(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,S)},this.handlePointerMove=(S,M)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=fm(M,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(S,M)=>{this.end();const{onEnd:U,onSessionEnd:Y,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const et=dm(S.type==="pointercancel"?this.lastMoveEventInfo:fm(M,this.transformPagePoint),this.history);this.startEvent&&U&&U(S,et),Y&&Y(S,et)},!fg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=h,this.contextWindow=o||window;const m=lu(t),p=fm(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Ye;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=i;E&&E(t,dm(p,this.history)),this.removeListeners=ru(Pl(this.contextWindow,"pointermove",this.handlePointerMove),Pl(this.contextWindow,"pointerup",this.handlePointerUp),Pl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qs(this.updatePoint)}}function fm(n,t){return t?{point:t(n.point)}:n}function BT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function dm({point:n},t){return{point:n,delta:BT(n,wS(t)),offset:BT(n,YI(t)),velocity:KI(t,.1)}}function YI(n){return n[0]}function wS(n){return n[n.length-1]}function KI(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=wS(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>_i(t)));)i--;if(!r)return{x:0,y:0};const u=Ti(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function QI(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?le(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?le(i,n,r.max):Math.min(n,i)),n}function kT(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function XI(n,{top:t,left:i,bottom:r,right:o}){return{x:kT(n.x,i,o),y:kT(n.y,t,r)}}function zT(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function ZI(n,t){return{x:zT(n.x,t.x),y:zT(n.y,t.y)}}function $I(n,t){let i=.5;const r=ln(n),o=ln(t);return o>r?i=Kl(t.min,t.max-r,n.min):r>o&&(i=Kl(n.min,n.max-o,t.min)),Wi(0,1,i)}function WI(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const ap=.35;function JI(n=ap){return n===!1?n=0:n===!0&&(n=ap),{x:jT(n,"left","right"),y:jT(n,"top","bottom")}}function jT(n,t,i){return{min:qT(n,t),max:qT(n,i)}}function qT(n,t){return typeof n=="number"?n:n[t]||0}const t4=new WeakMap;class e4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(lu(E).point)},h=(E,S)=>{const{drag:M,dragPropagation:U,onDragStart:Y}=this.getProps();if(M&&!U&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lM(M),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(et=>{let nt=this.getAxisMotionValue(et).get()||0;if(Ei.test(nt)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const ht=Q.layout.layoutBox[et];ht&&(nt=ln(ht)*(parseFloat(nt)/100))}}this.originPoint[et]=nt}),Y&&ae.postRender(()=>Y(E,S)),sp(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},m=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S;const{dragPropagation:M,dragDirectionLock:U,onDirectionLock:Y,onDrag:F}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:et}=S;if(U&&this.currentDirection===null){this.currentDirection=n4(et),this.currentDirection!==null&&Y&&Y(this.currentDirection);return}this.updateAxis("x",S.point,et),this.updateAxis("y",S.point,et),this.visualElement.render(),F&&F(E,S)},p=(E,S)=>{this.latestPointerEvent=E,this.latestPanInfo=S,this.stop(E,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Un(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new bS(t,{onSessionStart:u,onStart:h,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:SS(this.visualElement)})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:m}=this.getProps();m&&ae.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!qc(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(h=QI(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&ka(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=XI(r.layoutBox,t):this.constraints=!1,this.elastic=JI(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Un(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=WI(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!ka(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=iI(r,o.root,this.visualElement.getTransformPagePoint());let h=ZI(o.layout.layoutBox,u);if(i){const m=i(tI(h));this.hasMutatedConstraints=!!m,m&&(h=lS(m))}return h}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=Un(v=>{if(!qc(v,i,this.currentDirection))return;let E=p&&p[v]||{};h&&(E={min:0,max:0});const S=o?200:1e6,M=o?40:1e7,U={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,U)});return Promise.all(g).then(m)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return sp(this.visualElement,t),r.start(Ag(t,r,0,i,this.visualElement,!1))}stopAnimation(){Un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Un(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Un(i=>{const{drag:r}=this.getProps();if(!qc(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:h,max:m}=o.layout.layoutBox[i];u.set(t[i]-le(h,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!ka(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Un(h=>{const m=this.getAxisMotionValue(h);if(m&&this.constraints!==!1){const p=m.get();o[h]=$I({min:p,max:p},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(h=>{if(!qc(h,t,null))return;const m=this.getAxisMotionValue(h),{min:p,max:g}=this.constraints[h];m.set(le(p,g,o[h]))})}addListeners(){if(!this.visualElement.current)return;t4.set(this.visualElement,this);const t=this.visualElement.current,i=Pl(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();ka(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ae.read(r);const h=Wl(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Un(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{h(),i(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=ap,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:m}}}function qc(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function n4(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class i4 extends Hs{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new e4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const FT=n=>(t,i)=>{n&&ae.postRender(()=>n(t,i))};class s4 extends Hs{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new bS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:FT(t),onStart:FT(i),onMove:r,onEnd:(u,h)=>{delete this.session,o&&ae.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=Pl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Sl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(St.test(n))n=parseFloat(n);else return n;const i=HT(n,t.target.x),r=HT(n,t.target.y);return`${i}% ${r}%`}},r4={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=Fs.parse(n);if(o.length>5)return r;const u=Fs.createTransformer(n),h=typeof o[0]!="number"?1:0,m=i.x.scale*t.x,p=i.y.scale*t.y;o[0+h]/=m,o[1+h]/=p;const g=le(m,p,.5);return typeof o[2+h]=="number"&&(o[2+h]/=g),typeof o[3+h]=="number"&&(o[3+h]/=g),u(o)}};let mm=!1;class a4 extends ut.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;CM(o4),u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),mm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Wc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:h}=r;return h&&(h.isPresent=u,mm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||ae.postRender(()=>{const m=h.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;mm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RS(n){const[t,i]=QA(),r=ut.useContext(Fp);return lt.jsx(a4,{...n,layoutGroup:r,switchLayoutGroup:ut.useContext(aS),isPresent:t,safeToRemove:i})}const o4={borderRadius:{...Sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sl,borderTopRightRadius:Sl,borderBottomLeftRadius:Sl,borderBottomRightRadius:Sl,boxShadow:r4};function l4(n,t,i){const r=nn(n)?n:eo(n);return r.start(Ag("",r,t,i)),r.animation}const u4=(n,t)=>n.depth-t.depth;class c4{constructor(){this.children=[],this.isDirty=!1}add(t){Yp(this.children,t),this.isDirty=!0}remove(t){Kp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(u4),this.isDirty=!1,this.children.forEach(t)}}function h4(n,t){const i=dn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(qs(r),n(u-t))};return ae.setup(r,!0),()=>qs(r)}const DS=["TopLeft","TopRight","BottomLeft","BottomRight"],f4=DS.length,GT=n=>typeof n=="string"?parseFloat(n):n,YT=n=>typeof n=="number"||St.test(n);function d4(n,t,i,r,o,u){o?(n.opacity=le(0,i.opacity??1,m4(r)),n.opacityExit=le(t.opacity??1,0,p4(r))):u&&(n.opacity=le(t.opacity??1,i.opacity??1,r));for(let h=0;h<f4;h++){const m=`border${DS[h]}Radius`;let p=KT(t,m),g=KT(i,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||YT(p)===YT(g)?(n[m]=Math.max(le(GT(p),GT(g),r),0),(Ei.test(g)||Ei.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||i.rotate)&&(n.rotate=le(t.rotate||0,i.rotate||0,r))}function KT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const m4=CS(0,.5,mA),p4=CS(.5,.95,zn);function CS(n,t,i){return r=>r<n?0:r>t?1:i(Kl(n,t,r))}function QT(n,t){n.min=t.min,n.max=t.max}function Ln(n,t){QT(n.x,t.x),QT(n.y,t.y)}function XT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function ZT(n,t,i,r,o){return n-=t,n=_h(n,1/i,r),o!==void 0&&(n=_h(n,1/o,r)),n}function g4(n,t=0,i=1,r=.5,o,u=n,h=n){if(Ei.test(t)&&(t=parseFloat(t),t=le(h.min,h.max,t/100)-h.min),typeof t!="number")return;let m=le(u.min,u.max,r);n===u&&(m-=t),n.min=ZT(n.min,t,i,m,o),n.max=ZT(n.max,t,i,m,o)}function $T(n,t,[i,r,o],u,h){g4(n,t[i],t[r],t[o],t.scale,u,h)}const y4=["x","scaleX","originX"],v4=["y","scaleY","originY"];function WT(n,t,i,r){$T(n.x,t,y4,i?i.x:void 0,r?r.x:void 0),$T(n.y,t,v4,i?i.y:void 0,r?r.y:void 0)}function JT(n){return n.translate===0&&n.scale===1}function VS(n){return JT(n.x)&&JT(n.y)}function tE(n,t){return n.min===t.min&&n.max===t.max}function _4(n,t){return tE(n.x,t.x)&&tE(n.y,t.y)}function eE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function xS(n,t){return eE(n.x,t.x)&&eE(n.y,t.y)}function nE(n){return ln(n.x)/ln(n.y)}function iE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class T4{constructor(){this.members=[]}add(t){Yp(this.members,t),t.scheduleRender()}remove(t){if(Kp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function E4(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,h=i?.z||0;if((o||u||h)&&(r=`translate3d(${o}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:M,skewY:U}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),E&&(r+=`rotateX(${E}deg) `),S&&(r+=`rotateY(${S}deg) `),M&&(r+=`skewX(${M}deg) `),U&&(r+=`skewY(${U}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const pm=["","X","Y","Z"],A4=1e3;let S4=0;function gm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function MS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=gS(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",ae,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&MS(r)}function IS({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(h={},m=t?.()){this.id=S4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(R4),this.nodes.forEach(x4),this.nodes.forEach(M4),this.nodes.forEach(D4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new c4)}addEventListener(h,m){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new Zp),this.eventHandlers.get(h).add(m)}notifyListeners(h,...m){const p=this.eventHandlers.get(h);p&&p.notify(...m)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=KA(h)&&!mM(h),this.instance=h;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let v,E=0;const S=()=>this.root.updateBlockedByResize=!1;ae.read(()=>{E=window.innerWidth}),n(h,()=>{const M=window.innerWidth;M!==E&&(E=M,this.root.updateBlockedByResize=!0,v&&v(),v=h4(S,250),Wc.hasAnimatedSinceResize&&(Wc.hasAnimatedSinceResize=!1,this.nodes.forEach(aE)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||g.getDefaultTransition()||L4,{onLayoutAnimationStart:Y,onLayoutAnimationComplete:F}=g.getProps(),et=!this.targetLayout||!xS(this.targetLayout,M),nt=!E&&S;if(this.options.layoutRoot||this.resumeFrom||nt||E&&(et||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...ug(U,"layout"),onPlay:Y,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,nt)}else E||aE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I4),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(V4),this.nodes.forEach(b4),this.nodes.forEach(w4)):this.nodes.forEach(rE),this.clearAllSnapshots();const m=dn.now();Ye.delta=Wi(0,1e3/60,m-Ye.timestamp),Ye.timestamp=m,Ye.isProcessing=!0,sm.update.process(Ye),sm.preRender.process(Ye),sm.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C4),this.sharedNodes.forEach(N4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!VS(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;h&&this.instance&&(m||xr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return h&&(p=this.removeTransform(p)),U4(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return ye();const m=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B4))){const{scroll:g}=this.root;g&&(za(m.x,g.offset.x),za(m.y,g.offset.y))}return m}removeElementScroll(h){const m=ye();if(Ln(m,h),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Ln(m,h),za(m.x,v.offset.x),za(m.y,v.offset.y))}return m}applyTransform(h,m=!1){const p=ye();Ln(p,h);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ja(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),xr(v.latestValues)&&ja(p,v.latestValues)}return xr(this.latestValues)&&ja(p,this.latestValues),p}removeTransform(h){const m=ye();Ln(m,h);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!xr(g.latestValues))continue;tp(g.latestValues)&&g.updateSnapshot();const v=ye(),E=g.measurePageBox();Ln(v,E),WT(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return xr(this.latestValues)&&WT(m,this.latestValues),m}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(h||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Ul(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),cS(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Ul(this.relativeTargetOrigin,this.target,S.target),Ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tp(this.parent.latestValues)||uS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const h=this.getLead(),m=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ln(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;nI(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ye());const{target:M}=h;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XT(this.prevProjectionDelta.x,this.projectionDelta.x),XT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ll(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!iE(this.projectionDelta.x,this.prevProjectionDelta.x)||!iE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qa(),this.projectionDelta=qa(),this.projectionDeltaWithTransform=qa()}setAnimationOrigin(h,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const S=ye(),M=p?p.source:void 0,U=this.layout?this.layout.source:void 0,Y=M!==U,F=this.getStack(),et=!F||F.members.length<=1,nt=!!(Y&&!et&&this.options.crossfade===!0&&!this.path.some(P4));this.animationProgress=0;let Q;this.mixTargetDelta=ht=>{const st=ht/1e3;oE(E.x,h.x,st),oE(E.y,h.y,st),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ul(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O4(this.relativeTarget,this.relativeTargetOrigin,S,st),Q&&_4(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ye()),Ln(Q,this.relativeTarget)),Y&&(this.animationValues=v,d4(v,g,this.latestValues,st,nt,et)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Wc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eo(0)),this.currentAnimation=l4(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),h.onUpdate&&h.onUpdate(m)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=h;if(!(!m||!p||!g)){if(this!==h&&this.layout&&g&&NS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ye();const E=ln(this.layout.layoutBox.x);p.x.min=h.target.x.min,p.x.max=p.x.min+E;const S=ln(this.layout.layoutBox.y);p.y.min=h.target.y.min,p.y.max=p.y.min+S}Ln(m,p),ja(m,v),Ll(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(h,m){this.sharedNodes.has(h)||this.sharedNodes.set(h,new T4),this.sharedNodes.get(h).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),h&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let m=!1;const{latestValues:p}=h;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&gm("z",h,g,this.animationValues);for(let v=0;v<pm.length;v++)gm(`rotate${pm[v]}`,h,g,this.animationValues),gm(`skew${pm[v]}`,h,g,this.animationValues);h.render();for(const v in g)h.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);h.scheduleRender()}applyProjectionStyles(h,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=$c(m?.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=$c(m?.pointerEvents)||""),this.hasProjected&&!xr(this.latestValues)&&(h.transform=p?p({},""):"none",this.hasProjected=!1);return}h.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=E4(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),h.transform=E;const{x:S,y:M}=this.projectionDelta;h.transformOrigin=`${S.origin*100}% ${M.origin*100}% 0`,g.animationValues?h.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const U in $l){if(v[U]===void 0)continue;const{correct:Y,applyTo:F,isCSSVariable:et}=$l[U],nt=E==="none"?v[U]:Y(v[U],g);if(F){const Q=F.length;for(let ht=0;ht<Q;ht++)h[F[ht]]=nt}else et?this.options.visualElement.renderState.vars[U]=nt:h[U]=nt}this.options.layoutId&&(h.pointerEvents=g===this?$c(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(sE),this.root.sharedNodes.clear()}}}function b4(n){n.updateLayout()}function w4(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?Un(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=ln(E);E.min=i[v].min,E.max=E.min+S}):NS(o,t.layoutBox,i)&&Un(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],S=ln(i[v]);E.max=E.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+S)});const h=qa();Ll(h,i,t.layoutBox);const m=qa();u?Ll(m,n.applyTransform(r,!0),t.measuredBox):Ll(m,i,t.layoutBox);const p=!VS(h);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:S}=v;if(E&&S){const M=ye();Ul(M,t.layoutBox,E.layoutBox);const U=ye();Ul(U,i,S.layoutBox),xS(M,U)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=U,n.relativeTargetOrigin=M,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:m,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function R4(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function D4(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function C4(n){n.clearSnapshot()}function sE(n){n.clearMeasurements()}function rE(n){n.isLayoutDirty=!1}function V4(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function aE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function x4(n){n.resolveTargetDelta()}function M4(n){n.calcProjection()}function I4(n){n.resetSkewAndRotation()}function N4(n){n.removeLeadSnapshot()}function oE(n,t,i){n.translate=le(t.translate,0,i),n.scale=le(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function lE(n,t,i,r){n.min=le(t.min,i.min,r),n.max=le(t.max,i.max,r)}function O4(n,t,i,r){lE(n.x,t.x,i.x,r),lE(n.y,t.y,i.y,r)}function P4(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const L4={duration:.45,ease:[.4,0,.1,1]},uE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),cE=uE("applewebkit/")&&!uE("chrome/")?Math.round:zn;function hE(n){n.min=cE(n.min),n.max=cE(n.max)}function U4(n){hE(n.x),hE(n.y)}function NS(n,t,i){return n==="position"||n==="preserve-aspect"&&!FI(nE(t),nE(i),.2)}function B4(n){return n!==n.root&&n.scroll?.wasRoot}const k4=IS({attachResizeListener:(n,t)=>Wl(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ym={current:void 0},OS=IS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ym.current){const n=new k4({});n.mount(window),n.setOptions({layoutScroll:!0}),ym.current=n}return ym.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),z4={pan:{Feature:s4},drag:{Feature:i4,ProjectionNode:OS,MeasureLayout:RS}};function fE(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&ae.postRender(()=>u(t,lu(t)))}class j4 extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=uM(t,(i,r)=>(fE(this.node,r,"Start"),o=>fE(this.node,o,"End"))))}unmount(){}}class q4 extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ru(Wl(this.node.current,"focus",()=>this.onFocus()),Wl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dE(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&ae.postRender(()=>u(t,lu(t)))}class F4 extends Hs{mount(){const{current:t}=this.node;t&&(this.unmount=dM(t,(i,r)=>(dE(this.node,r,"Start"),(o,{success:u})=>dE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const op=new WeakMap,vm=new WeakMap,H4=n=>{const t=op.get(n.target);t&&t(n)},G4=n=>{n.forEach(H4)};function Y4({root:n,...t}){const i=n||document;vm.has(i)||vm.set(i,{});const r=vm.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(G4,{root:n,...t})),r[o]}function K4(n,t,i){const r=Y4(t);return op.set(n,i),r.observe(n),()=>{op.delete(n),r.unobserve(n)}}const Q4={some:0,all:1};class X4 extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,h={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Q4[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return K4(this.node.current,h,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(Z4(t,i))&&this.startObserver()}unmount(){}}function Z4({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const $4={inView:{Feature:X4},tap:{Feature:F4},focus:{Feature:q4},hover:{Feature:j4}},W4={layout:{ProjectionNode:OS,MeasureLayout:RS}},J4={...UI,...$4,...z4,...W4},mE=JM(J4,fI),tN=()=>{const[n,t]=ut.useState([]),[i,r]=ut.useState([]),[o,u]=ut.useState(!0),[h,m]=ut.useState(new Date),[p,g]=ut.useState(null),[v,E]=ut.useState(!1),[S,M]=ut.useState(null),[U,Y]=ut.useState(""),[F,et]=ut.useState("onboarding"),nt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q=R=>{const wt=[],bt=new Date(R);bt.setHours(10,30,0,0);const H=new Date(R);H.setHours(19,30,0,0);let $=bt;for(;$<=H;){const rt=new Date($);wt.push(rt),$.setMinutes($.getMinutes()+20)}return wt},ht=R=>{const wt=new Date(R.getFullYear(),R.getMonth(),1).getDay(),bt=new Date(R.getFullYear(),R.getMonth()+1,0).getDate(),H=new Date(R.getFullYear(),R.getMonth(),0).getDate(),$=[];for(let rt=wt-1;rt>=0;rt--)$.push(new Date(R.getFullYear(),R.getMonth()-1,H-rt));for(let rt=1;rt<=bt;rt++)$.push(new Date(R.getFullYear(),R.getMonth(),rt));for(;$.length%7!==0;)$.push(new Date(R.getFullYear(),R.getMonth()+1,$.length-(wt+bt)+1));return $},st=ut.useMemo(()=>ht(h),[h]);ut.useEffect(()=>{(async()=>{u(!0);try{const wt=nm(im),bt=em(wt,"clients"),$=(await tT(bt)).docs.map(it=>({id:it.id,name:it.data().name,phone:it.data().phone}));t($);const rt=Xt.fromDate(new Date(h.getFullYear(),h.getMonth(),1,0,0,0)),_t=Xt.fromDate(new Date(h.getFullYear(),h.getMonth()+1,0,23,59,59)),V=fV(em(wt,"bookings"),$0("startTime",">=",rt),$0("startTime","<=",_t)),at=(await tT(V)).docs.map(it=>({id:it.id,...it.data(),startTime:it.data().startTime}));r(at)}catch(wt){console.error("Error fetching data: ",wt)}finally{u(!1)}})()},[h]);const ct=R=>i.some(wt=>wt.startTime.toDate().toDateString()===R.toDateString()),x=R=>i.filter(wt=>wt.startTime.toDate().toDateString()===R.toDateString()),w=R=>{g(R)},D=()=>{p&&E(!0)},I=async R=>{if(R.preventDefault(),!S||!U)return;const wt=nm(im),bt={clientId:U,callType:F,startTime:Xt.fromDate(S),durationMinutes:F==="onboarding"?40:20};if(x(S).some(_t=>{const V=_t.startTime.toDate().getTime(),Z=V+_t.durationMinutes*6e4,at=S.getTime(),it=at+bt.durationMinutes*6e4;return at>=V&&at<Z||it>V&&it<=Z||at<=V&&it>=Z})){alert("This time slot overlaps with an existing booking. Please choose another time.");return}const rt=em(wt,"bookings");if(F==="follow-up"){const _t=[],V=new Date(S);V.setFullYear(V.getFullYear()+1);let Z=new Date(S);for(;Z<V;)_t.push({clientId:U,callType:"follow-up",startTime:Xt.fromDate(Z),durationMinutes:20}),Z.setDate(Z.getDate()+7);const at=_t.map(it=>eT(rt,it));await Promise.all(at),alert("Successfully booked a year of weekly follow-up calls for the client.")}else await eT(rt,bt),alert("Successfully booked an onboarding call.");M(null),Y(""),E(!1),m(new Date(h))},O=ut.useMemo(()=>p?Q(p):[],[p]),P=async(R,wt)=>{wt.stopPropagation();try{const bt=nm(im);await yV(G1(bt,"bookings",R)),m(new Date(h))}catch(bt){console.error("Error deleting booking: ",bt),alert("Failed to delete booking.")}};return lt.jsxs("div",{className:"flex flex-col items-center min-h-screen p-8 bg-gray-100 font-sans",children:[lt.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-xl shadow-lg p-8",children:[lt.jsx("h1",{className:"text-3xl font-cursive text-gray-800 text-center mb-6",children:"Coach's Calendar"}),lt.jsxs("div",{className:"flex justify-between items-center mb-6",children:[lt.jsx("button",{onClick:()=>m(new Date(h.getFullYear(),h.getMonth()-1,1)),className:"p-2 bg-white rounded-full shadow hover:bg-gray-200 transition-colors","aria-label":"Previous month",children:lt.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:lt.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),lt.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:h.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),lt.jsx("button",{onClick:()=>m(new Date(h.getFullYear(),h.getMonth()+1,1)),className:"p-2 bg-white rounded-full shadow hover:bg-gray-200 transition-colors","aria-label":"Next month",children:lt.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20",children:lt.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),lt.jsx("div",{className:"grid grid-cols-7 text-center font-medium text-gray-500 text-sm",children:nt.map(R=>lt.jsx("div",{className:"py-2",children:R},R))}),lt.jsx("div",{className:"grid grid-cols-7 gap-px border border-gray-200 rounded-md overflow-hidden",children:o?lt.jsx("div",{className:"col-span-7 p-8 text-center text-gray-500",children:"Loading calendar..."}):st.map((R,wt)=>{const bt=R.getMonth()===h.getMonth(),H=ct(R),$=p&&R.toDateString()===p.toDateString();let rt="h-24 p-2 text-center transition-colors border-r border-b border-gray-200 last:border-r-0";return rt+=bt?" bg-white text-gray-900":" bg-gray-50 text-gray-400",rt+=$?" bg-blue-100 ring-2 ring-blue-500":" hover:bg-gray-100 cursor-pointer",lt.jsxs("div",{className:rt,onClick:()=>w(R),children:[lt.jsx("span",{className:`font-semibold text-sm ${H?"text-red-600":""}`,children:R.getDate()}),H&&lt.jsx("ul",{className:"mt-1 space-y-1",children:x(R).map(_t=>lt.jsx("li",{className:"text-xs text-red-600 truncate",children:lt.jsx("span",{className:"font-medium",children:_t.callType})},_t.id))})]},wt)})}),lt.jsxs("div",{className:"mt-6",children:[lt.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Bookings for ",p?p.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Select a date"]}),p&&lt.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-md",children:[lt.jsx("thead",{children:lt.jsxs("tr",{className:"bg-gray-100 text-gray-600 uppercase text-sm",children:[lt.jsx("th",{className:"px-6 py-3 text-left",children:"Client"}),lt.jsx("th",{className:"px-6 py-3 text-left",children:"Call Type"}),lt.jsx("th",{className:"px-6 py-3 text-left",children:"Time"}),lt.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),lt.jsx("tbody",{children:x(p).map(R=>{const wt=n.find(H=>H.id===R.clientId),bt=R.startTime.toDate();return lt.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[lt.jsx("td",{className:"px-6 py-4",children:wt?wt.name:"Unknown Client"}),lt.jsx("td",{className:"px-6 py-4 capitalize",children:R.callType}),lt.jsx("td",{className:"px-6 py-4",children:bt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),lt.jsx("td",{className:"px-6 py-4 text-right",children:lt.jsx("button",{onClick:H=>P(R.id,H),className:"text-red-600 hover:text-red-800",children:"Delete"})})]},R.id)})})]}),!p&&lt.jsx("p",{className:"text-gray-500",children:"Please select a date to view bookings."})]}),lt.jsx("div",{className:"flex justify-end mt-6",children:lt.jsx("button",{onClick:D,className:`px-6 py-3 text-sm font-semibold text-white rounded-lg transition-colors
                            ${p?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,disabled:!p,children:"Create Booking"})})]}),lt.jsx(EM,{children:v&&lt.jsx(mE.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-20",onClick:()=>{E(!1),g(null)},children:lt.jsx(mE.div,{onClick:R=>R.stopPropagation(),className:"bg-white text-black p-8 rounded-2xl w-[90%] max-w-md shadow-lg",children:v&&p&&lt.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm p-6 transform scale-100 animate-fade-in-up",children:[lt.jsx("div",{className:"flex justify-between items-center mb-4",children:lt.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"New Booking"})}),lt.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["for ",p.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),lt.jsxs("form",{onSubmit:I,className:"space-y-4",children:[lt.jsxs("div",{children:[lt.jsx("label",{htmlFor:"client-select",className:"block text-sm font-medium text-gray-700",children:"Select Client"}),lt.jsxs("select",{id:"client-select",value:U,onChange:R=>Y(R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2",required:!0,children:[lt.jsx("option",{value:"",disabled:!0,children:"-- Select a Client --"}),n.map(R=>lt.jsx("option",{value:R.id,children:R.name},R.id))]})]}),lt.jsxs("div",{children:[lt.jsx("label",{htmlFor:"call-type",className:"block text-sm font-medium text-gray-700",children:"Call Type"}),lt.jsxs("select",{id:"call-type",value:F,onChange:R=>et(R.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2",children:[lt.jsx("option",{value:"onboarding",children:"Onboarding (40 min)"}),lt.jsx("option",{value:"follow-up",children:"Follow-up (20 min)"})]})]}),lt.jsxs("div",{children:[lt.jsx("label",{htmlFor:"time-slot",className:"block text-sm font-medium text-gray-700",children:"Select Time"}),lt.jsxs("select",{id:"time-slot",value:S?S.toISOString():"",onChange:R=>M(new Date(R.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2",required:!0,children:[lt.jsx("option",{value:"",disabled:!0,children:"-- Select a Time --"}),O.map((R,wt)=>{const bt=x(p).some(H=>H.startTime.toDate().getTime()===R.getTime());return lt.jsxs("option",{value:R.toISOString(),disabled:bt,children:[R.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ",bt&&"(Booked)"]},wt)})]})]}),lt.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[lt.jsx("button",{type:"button",onClick:()=>{E(!1),g(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),lt.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"Book Call"})]})]})]})})})})]})};function eN(){return lt.jsx("div",{className:"min-h-screen bg-gray-50",children:lt.jsx(tN,{})})}gw.createRoot(document.getElementById("root")).render(lt.jsx(lw.StrictMode,{children:lt.jsx(eN,{})}));
